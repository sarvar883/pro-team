{"version":3,"sources":["components/common/spinner.gif","components/common/white-spinner.gif","components/common/materials.js","components/common/monthNames.js","components/common/socketLink.js","utils/setAuthToken.js","actions/types.js","actions/authActions.js","actions/profileActions.js","validation/is-empty.js","reducers/authReducer.js","reducers/errorReducer.js","reducers/orderReducer.js","reducers/chatReducer.js","reducers/operatorReducer.js","reducers/disinfectorReducer.js","reducers/adminReducer.js","reducers/subadminReducer.js","reducers/accountantReducer.js","reducers/failReducer.js","reducers/optionsReducer.js","reducers/index.js","store.js","components/common/StartPage.js","components/common/PrivateRoute.js","components/common/AdminRoute.js","components/common/SubadminRoute.js","components/common/OperatorRoute.js","components/common/AccountantRoute.js","components/common/DisinfectorRoute.js","components/layout/Navbar.js","actions/optionsActions.js","components/layout/Footer.js","components/common/Spinner.js","actions/adminActions.js","actions/orderActions.js","utils/orderFullyProcessed.js","components/admin/AdmSortedOrders.js","components/admin/Admin.js","utils/monthAndYearLabels.js","utils/returnMonthAndYear.js","utils/removeZerosMat.js","utils/calcDisinfScore.js","utils/calcStats.js","utils/calcMatConsumption.js","components/admin/ShowAdminStats.js","components/common/weekFunc.js","components/admin/AdminStats.js","components/admin/AdvStats.js","components/admin/ShowDisStats.js","components/admin/DisStats.js","components/admin/ShowOperStats.js","components/admin/OperStats.js","components/admin/ShowQueriesForAdmin.js","components/admin/AdminQueries.js","components/admin/AdminMaterials.js","components/common/TextFieldGroup.js","components/common/TextAreaFieldGroup.js","components/common/EditOrder.js","components/admin/MatComing.js","components/admin/ShowMatComingHistory.js","components/admin/MatComHistory.js","components/admin/ShowAddMatEvents.js","components/admin/MaterialHistory.js","components/common/SelectListGroup.js","components/admin/AddClient.js","components/common/EditClient.js","components/common/Users.js","components/common/EditUser.js","components/admin/ClientList.js","utils/getContractString.js","utils/guaranteeExpired.js","components/common/ClientNotSatisfiedButton.js","components/admin/ClientOrders.js","components/admin/ClientId.js","components/common/SetDisinfectorMaterials.js","components/admin/SetCurrentMaterials.js","components/common/DeleteMaterial.js","components/common/NewMaterial.js","actions/subadminActions.js","components/subadmin/SubadmSortedOrders.js","components/subadmin/Subadmin.js","actions/disinfectorActions.js","components/subadmin/ShowOrderInfo.js","components/subadmin/SubadmOrders.js","components/subadmin/MaterialDistrib.js","components/subadmin/ShowMatComings.js","components/subadmin/SubMatComHist.js","components/subadmin/ShowMatDistrib.js","components/subadmin/MatDistribHistory.js","components/disinfector/OrderInfo.js","components/disinfector/DisplayOrders.js","components/disinfector/Disinfector.js","components/disinfector/CompleteOrdersInMonth.js","components/disinfector/DisinfQueries.js","components/disinfector/ShowDisinfStats.js","components/disinfector/DisinfStats.js","components/disinfector/OrderComplete.js","components/disinfector/DisMaterials.js","components/disinfector/ShowDisMatComings.js","components/disinfector/DisMatCom.js","components/disinfector/ShowDisMatDistribs.js","components/disinfector/DisMatDistrib.js","components/disinfector/ReturnedQueries.js","actions/operatorActions.js","components/operator/SortedOrders.js","components/operator/Operator.js","components/operator/CreateOrder.js","components/operator/OrderDetails.js","components/operator/ShowOrderQueries.js","components/operator/OrderQueries.js","components/operator/ConfirmOrder.js","components/operator/RepeatOrders.js","components/operator/CreateRepeatOrder.js","components/operator/ShowOperatorStats.js","components/operator/OperatorStats.js","components/accountant/Accountant.js","actions/accountantActions.js","components/accountant/Queries.js","components/accountant/ConfirmQueryForm.js","components/accountant/ShowAccStats.js","components/accountant/AccStats.js","components/common/OrderFullDetails.js","components/operator/NotCompOrders.js","components/operator/SearchOrders.js","actions/chatActions.js","components/chat/DisplayUsersWithoutChat.js","components/chat/DisplayUsersWithChat.js","components/chat/Chat.js","components/chat/CreateMessage.js","components/chat/ShowChat.js","components/chat/ChatRoom.js","components/chat/ShowAnons.js","components/chat/Anons.js","components/auth/Register.js","components/auth/Login.js","components/fail/FailAddNew.js","actions/failActions.js","components/fail/ShowFails.js","components/fail/SeeFails.js","App.js","serviceWorker.js","index.js","components/common/orderTypes.js","components/common/advertisements.js"],"names":["module","exports","__webpack_require__","p","material","unit","setAuthToken","token","axios","defaults","headers","common","GET_ERRORS","setCurrentUser","decoded","type","payload","logoutUser","history","dispatch","localStorage","removeItem","push","clearCurrentProfile","isEmpty","value","undefined","Object","keys","length","trim","initialState","isAuthenticated","loadingUser","user","materials","corporateClients","allUsers","disinfectors","orders","searchOrderMethod","searchOrderInput","orderById","disinfectorId","clientId","contracts","userCreated","userAcceptedOrder","prevFailedOrder","nextOrdersAfterFailArray","nextOrderAfterFail","repeatOrder","previousOrder","completeOrdersInMonth","compOrderMethod","compOrderInput","month","year","days","day","loading","loadingRepeatOrder","users","chats","hasChatWith","notHaveChatWith","currentChat","user1","user2","messages","anons","loadingUsers","loadingChats","loadingCurrentChat","loadingAnons","sortedOrders","completeOrders","repeatOrders","repeatOrderSearchVars","method","headingDay","selectedDays","orderToConfirm","orderId","stats","loadingSortedOrders","loadingCompleteOrders","loadingStats","acceptedOrders","addedMaterials","queries","matComing","matDistrib","addMaterialEvents","loadingDisinfectors","loadingDisinfStats","loadingEvents","orderQueries","operators","clients","clientById","searchClientsMethod","searchClientsInput","ordersOfClient","userById","currentMaterials","addMatEvents","materialComing","addMatEventsMethod","loadingOrderQueries","loadingOperators","loadingAddMatEvents","loadingCurMat","loadingClients","loadingOrdersOfClient","myOrders","queryVars","queryById","loadingQueries","failedOrder","fails","searchVars","theme","getItem","combineReducers","auth","state","arguments","action","objectSpread","errors","order","concat","toConsumableArray","object","chat","data","index","findIndex","item","_id","toString","messageId","body","updatedBody","filter","disinfector","operator","date","admin","disinfectorIndex","array","forEach","thing","amount","Number","subadmin","events","accountant","fail","options","middleware","thunk","store","createStore","rootReducer","compose","applyMiddleware","apply","connect","_ref","component","rest","objectWithoutProperties","react_default","a","createElement","react_router","assign","render","props","to","occupation","Component","Navbar","onLogoutClick","e","preventDefault","_this","changeTheme","setTheme","_this2","this","_this$props$auth","authLinks","className","react_router_dom","onClick","guestLinks","disinfectorLinks","data-toggle","operatorLinks","accountantLinks","subadminLinks","adminLinks","id","data-target","src","alt","setItem","withRouter","Footer","goBack","scrollTop","window","scrollTo","top","behavior","Spinner","whiteSpinner","style","width","margin","display","spinner","getSortedOrders","setLoadingSortedOrders","post","then","res","catch","err","getQueriesForAdmin","setLoadingQueriesForAdmin","adminConfirmsOrderQuery","deleteQuery","getAllDisinfectorsAndSubadmins","roles","getCurrentMaterials","getUserById","userId","clearStatsData","getCorporateClients","getAllUsers","setLoading","deleteOrder","result","response","getOrders","addDisinfectorComment","getOrderById","setSearchOrderMethod","setLoadingRepeatOrder","orderFullyProcessed","completed","operatorDecided","accountantDecided","adminDecided","AdmSortedOrders","_isMounted","Date","addOrderToDOM","setState","prevState","updatedOrders","editOrderOnDOM","ordersInState","i","clientType","client","address","dateFrom","phone","typeOfService","advertising","comment","removeOrderFromDOM","hour","defaultDateMonth","defaultDateDay","defaultHourString","getMonth","getDate","defaultDateString","getFullYear","pathname","clientPhone","orderDateFrom","location","reload","socket","openSocket","socketLink","on","_this3","elements","getHours","renderOrders","map","element","key","color","failed","Fragment","name","confirm","bind","Admin","onChange","onSwiped","direction","newDate","setTime","getTime","today","entry_default","dist_default","format","common_Spinner","react_swipeable_es","trackMouse","preventDefaultTouchmoveEvent","onSwipedLeft","onSwipedRight","delta","admin_AdmSortedOrders","getMonthAndYearLabels","monthLabels","label","monthsNames","yearLabels","returnMonthAndYear","param","removeZeros","arr","calculateDisinfScore","averageScore","totalScore","totalOrders","toFixed","percentToSubtract","failedOrders","calculateStats","totalSum","confirmedOrders","rejected","totalSumForDisinfector","consultAndOsmotrConfirmed","povtors","corporate","corporatePercent","corpSum","corpSumPercent","indiv","indivPercent","indivSum","indivSumPercent","hasOwnProperty","operatorConfirmed","accountantConfirmed","adminConfirmed","cost","score","includes","calcMaterialConsumption","totalConsumption","emptyObject","consumption","ShowAdminStats","showOrders","toggleShowOrders","_calculateStats","approvedOrders","renderTotalConsumption","toLocaleString","renderAllOrders","consumptionArray","renderOrderConsumption","number","operatorCheckedAt","accountantCheckedAt","invoice","adminCheckedAt","phone2","completedAt","disinfectorComment","guarantee","paymentMethod","contractNumber","getWeekDays","weekStart","moment","add","toDate","getWeekRange","from","startOf","endOf","AdminStats","headingMonth","headingYear","hoverRange","defineProperty","target","getMonthStats","getGenStatsForAdmin","getSpecificMonthStats","_returnMonthAndYear","getDayStats","split","reverse","join","handleDayChange","handleDayEnter","handleDayLeave","handleWeekClick","weekNumber","_getMonthAndYearLabel","yearsOptions","monthOptions","_this$state","daysAreSelected","modifiers","selectedRange","hoverRangeStart","hoverRangeEnd","selectedRangeStart","selectedRangeEnd","onSubmit","htmlFor","required","DayPicker_default","showWeekNumbers","showOutsideDays","firstDayOfWeek","onDayClick","onDayMouseEnter","onDayMouseLeave","onWeekClick","admin_ShowAdminStats","AdvStats","allTimeStats","getAdvStats","getYearStats","thisMonth","thisYear","nextProps","advArray","advertisements","quantity","confirmed","sort","b","renderAdvGeneral","ShowDisStats","repeatedOrder","repeatedOrderDecided","repeatedOrderNeeded","clientReview","totalSumOfAcceptedOrders","renderAcceptedOrders","DisStats","selectedDaysAfterSubmit","disinfectorIdMonth","disinfectorIdWeek","disinfectorIdDay","disinfectorName","setSpecificMonth","person","getDisinfectorStatsForAdmin","getWeekStats","alert","disinfectorOptions","renderDisinfectorOptions","admin_ShowDisStats","ShowOperStats","OperStats","operatorId","operatorName","getOperatorStats","getAllOperatorsAndAmins","operatorOptions","renderOperatorOptions","admin_ShowOperStats","ShowQueriesForAdmin","goToAddNewForm","renderConsumptionOfOrder","returnedBack","AdminQueries","admin_ShowQueriesForAdmin","AdminMaterials","changeSelect","newMaterialsArray","changeAmount","addMaterial","newArray","deleteMaterial","pop","emptyFields","notEnoughMaterials","zeroValues","addMaterialToDisinfector","showDisinfectors","disinfectorMaterials","consumptionMaterials","materialOptions","option","renderMaterials","step","worker","renderCurMat","lastUpdated","TextFieldGroup","placeholder","error","info","disabled","classnames","is-invalid","defaultProps","TextAreaFieldGroup","EditOrder","timeFrom","hasSecondPhone","onChangeTypes","selected","checked","toggleSecondPhone","deleteSecondPhone","dateStringFrom","numberCharacters","phone2Characters","serviceTypeString","selectedItems","editOrder","getOrderForEdit","match","params","getDisinfectors","orderForEdit","orderTypes","arraySelectedItems","x","y","userOptions","toUpperCase","advOptions","renderServiceTypes","defaultChecked","common_TextFieldGroup","common_TextAreaFieldGroup","MatComing","addMatComing","ShowMatComingHistory","comings","totalMatComing","renderTotal","renderComings","createdAt","MatComHistory","getMaterialComingEvents","admin_ShowMatComingHistory","ShowAddMatEvents","totalAddedMat","disinfArray","received","event","renderDisinfectors","renderDisinfectorTotal","renderDisinfEvents","iteration","renderEventsInDisinfArray","MaterialHistory","getAddMaterialEvents","admin_ShowAddMatEvents","SelectListGroup","selectOptions","AddClient","inn","addClient","common_SelectListGroup","EditClient","editClient","Users","password1","password2","clearState","changePassword","notMatch","invalidLength","deleteUser","disableUser","changeMaterials","setUserById","renderUsers","email","data-dismiss","EditUser","birthday","married","hasChildren","children","editUser","userForEdit","renderUser","defaultValue","min","ClientList","headingText","searchByName","searchClients","searchByPhone","searchByAddress","searchByInn","searchAll","showCorporate","renderClients","wordInHeading","getContractsString","newString","guaranteeExpired","passedInDate","expireDate","setMonth","ClientNotSatisfiedButton","possibleOccupations","userOccupation","shouldLoadOrder","shouldShowButton","generalRule","ClientOrders","common_ClientNotSatisfiedButton","ClientId","contract","searchMethod","handleContractCRUD","changeContractNumbers","getOrdersOfClientDay","getOrdersOfClient","operatorDecidedOrders","rejectedOrders","number_of_dates","number_of_boxes","Math","ceil","array_of_objects","renderBoxes","datesArray","j","el","renderExistingContracts","admin_ClientOrders","SetDisinfectorMaterials","helpArray","console","clear","hasEmptyFields","hasNegativeAmountFields","setDisinfectorMaterials","currentUser","userMaterials","materialLabels","renderMaterialInputs","SetCurrentMaterials","setCurrentMaterials","DeleteMaterial","onDeleteMaterial","deleteMaterialFromDB","NewMaterial","addNewMaterial","common_DeleteMaterial","getAllDisinfectors","setSubadminLoading","SubadmSortedOrders","setHours","Subadmin","subadmin_SubadmSortedOrders","getDisinfectorMaterials","loadingCurrentDisinfector","ShowOrderInfo","addComment","orderObject","toggleAddComment","currentTime","SubadmOrders","getSubadmOrders","displayOrder","subadmin_ShowOrderInfo","MaterialDistrib","getSubadminMaterials","renderSubadminMaterials","ShowMatComings","SubMatComHist","getMatComHistory","subadmin_ShowMatComings","ShowMatDistrib","renderDistributions","MatDistribHistory","getSubMatDistrib","subadmin_ShowMatDistrib","OrderInfo","DisplayOrders","addOrder","output","disinfector_OrderInfo","Disinfector","disinfector_DisplayOrders","CompleteOrdersInMonth","consumptionRender","DisinfQueries","getCompleteOrdersInMonth","dayString","disinfector_CompleteOrdersInMonth","ShowDisinfStats","totalReceivedMaterials","addEvent","helpObject","receivedMaterials","listItems","renderTotalReceived","DisinfStats","getDisinfectorStats","disinfector_ShowDisinfStats","OrderComplete","loggedDisinf","loggedHelpArray","disinfectorAmount","inputContractFormat","allDisinfectors","changeContractInputFormat","changeDisinfectorAmount","changeLoggedSelect","changeLoggedAmount","addMaterialLogged","newHelpArray","deleteMaterialLogged","changeDisinfector","disinfIndex","materialIndex","newMaterial","newUnit","newAmount","addMatDisinf","deleteMatDisinf","newConsumption","loggedDisinfNotEnoughMat","duplicateDisinfectors","disinfNotEnoughMat","shouldCostBeZero","submitCompleteOrder","consumptionOptions","disinfectorAmountOptions","disinfectorSelectOptions","renderDisinfectorAmountOptions","renderDisinfOptions","loggedDisinfMaterials","renderLoggedDisinfForm","renderDisinfForms","renderFields","renderReturnedOrder","returnHandled","contractNumbers","renderContractOptions","rows","DisMaterials","disAddMatToOther","ShowDisMatComings","DisMatCom","getUserMatComing","disinfector_ShowDisMatComings","ShowDisMatDistribs","distribs","totalMatDistrib","renderDistribs","DisMatDistrib","getUserMatDistrib","disinfector_ShowDisMatDistribs","ReturnedQueries","getReturnedQueries","renderQueries","getCompleteOrders","setLoadingCompleteOrders","setLoadingStats","SortedOrders","Operator","operator_SortedOrders","CreateOrder","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","onSelectClientTypeChange","newOrder","createOrder","colourStyles","control","styles","backgroundColor","singleValue","noValidate","react_select_browser_esm","OrderDetails","ShowOrderQueries","OrderQueries","operator_ShowOrderQueries","ConfirmOrder","decision","confirmCompleteOrder","reject","getCompleteOrderById","completeOrder","max","RepeatOrders","getDayRepeats","getRepeatOrders","noNeed","repeatOrderNotNeeded","timeOfRepeat","CreateRepeatOrder","createRepeatOrder","getRepeatOrderForm","ShowOperatorStats","OperatorStats","getStatsForOperator","operator_ShowOperatorStats","Accountant","setTimePeriod","Queries","getAccountantQueries","ConfirmQueryForm","query","confirmQueryFromCorporateClient","accountantConfirmQuery","confirmQueryFromIndividualClient","returnBack","log","ShowAccStats","AccStats","accountantId","getAccStats","clearStats","accountant_ShowAccStats","OrderFullDetails","NotCompOrders","deleteOrderFunc","getNotCompOrders","SearchOrders","searchOrders","searchByContract","adminConfirm","setLoadingUsers","getAllChatsOfUser","setLoadingChats","createChat","newChat","getCurrentChat","chatId","setLoadingCurrentChat","get","deleteMessage","setLoadingAnons","DisplayUsersWithoutChat","removeUserFromDOM","tableBody","DisplayUsersWithChat","myChats","addChatToDOM","updatedObject","Chat","chat_DisplayUsersWithoutChat","chat_DisplayUsersWithChat","CreateMessage","content","fromId","fromName","createMessage","document","getElementById","ShowChat","showEdit","editmessageid","editmessagebody","deleteClick","editClick","itemId","itemBody","onEditMessage","editMessage","updateDOMOnEditMessage","messagesinState","addMessageToDOM","message","updatedMessages","scrollHeight","deleteMessageFromDOM","classList","remove","myId","writtenAt","calendar","chat_CreateMessage","ChatRoom","chat_ShowChat","ShowAnons","addAnonsToDOM","updatedAnons","adminId","Anons","createAd","addAnons","click","getAllAnons","chat_ShowAnons","Register","newUser","password","registerUser","userData","Login","loginUser","jwt_decode","FailAddNew","createOrderAfterFail","setFailedOrder","getFailOrderById","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","sent","t0","stop","_x","_ref2","_callee2","_context2","addressToRedirect","_x2","ShowFails","failedCount","povtorsCount","renderFailedOrders","SeeFails","failedOrdersMonth","getFailedOrders","failedOrdersDay","fail_ShowFails","_ref3","_callee3","_context3","_x3","jwtToken","now","exp","href","App","subscribe","getState","background","es","layout_Navbar","exact","path","common_StartPage","common_PrivateRoute","common_AdminRoute","common_SubadminRoute","common_DisinfectorRoute","common_OperatorRoute","common_AccountantRoute","layout_Footer","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","src_App_0","URL","process","origin","addEventListener","fetch","contentType","status","indexOf","ready","unregister","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.3dfafc92.chunk.js","sourcesContent":["module.exports = \"data:image/gif;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/white-spinner.f8d51a24.gif\";","const materialsArray = [\r\n  // { material: 'ФИК', unit: 'гр' }, // deleted from DB\r\n  { material: 'Pro', unit: 'пак' },\r\n  { material: 'МАЛ', unit: 'гр' },\r\n  { material: 'ТЯ', unit: 'гр' },\r\n  // { material: 'Гр Таб', unit: 'шт' },\r\n  { material: 'Гр Гран', unit: 'гр' },\r\n  // { material: 'Титан', unit: 'гр' },\r\n  { material: 'Хлор Актив', unit: 'гр' },\r\n  { material: 'Dry Smoke', unit: 'гр' },\r\n  { material: 'Ароматизатор', unit: 'гр' },\r\n  { material: 'Гель Тр', unit: 'шт' },\r\n  // { material: 'Agita', unit: 'гр' },\r\n  { material: 'SP', unit: 'гр' },\r\n  { material: 'talstar', unit: 'мл' },\r\n  { material: '2k', unit: 'мл' },\r\n  { material: 'Progreen', unit: 'мл' },\r\n  { material: 'QB', unit: 'гр' },\r\n  { material: 'Sprayer Gloria T405 Metall', unit: 'шт' },\r\n\r\n  // agita и micron добавлены 11.05.2021\r\n  { material: 'Agita kr', unit: 'гр' },\r\n  { material: 'Micron', unit: 'мл' },\r\n\r\n  { material: 'Рубашка', unit: 'шт' },\r\n  { material: 'Респиратор 3м polomsk', unit: 'шт' },\r\n  { material: 'Респиратор fullmask', unit: 'шт' },\r\n  { material: 'Электронные Весы', unit: 'шт' },\r\n  { material: 'Униформа Халат', unit: 'шт' },\r\n  { material: 'Разовая Перчатка', unit: 'шт' },\r\n  { material: 'Разовый Респиратор', unit: 'шт' },\r\n  { material: 'Договор', unit: 'шт' },\r\n  { material: 'Акт Счет-Фак', unit: 'шт' },\r\n  { material: 'Лицен. Гувохнома', unit: 'шт' },\r\n  { material: 'Coldfogger', unit: 'шт' },\r\n  { material: 'Thermalfogger', unit: 'шт' },\r\n\r\n\r\n  // { material: 'Sprayer 5l', unit: 'шт' }, \r\n  // this was renamed to Sprayer Gloria Prima5 (26.02.2021)\r\n  { material: 'Sprayer Gloria Prima5', unit: 'шт' },\r\n\r\n  { material: 'Фонарик', unit: 'шт' },\r\n  { material: 'Кемирувчи контейнер', unit: 'шт' },\r\n\r\n  // { material: 'Хлор', unit: 'шт' }\r\n];\r\n\r\nmodule.exports = materialsArray;","const monthsNames = [\r\n  'Январь',\r\n  'Февраль',\r\n  'Март',\r\n  'Апрель',\r\n  'Май',\r\n  'Июнь',\r\n  'Июль',\r\n  'Август',\r\n  'Сентябрь',\r\n  'Октябрь',\r\n  'Ноябрь',\r\n  'Декабрь'\r\n];\r\n\r\nmodule.exports = monthsNames;","// const socketLink = 'http://localhost:5000';\r\nconst socketLink = 'https://pro-team.eu-4.evennode.com';\r\n\r\nmodule.exports = socketLink;","import axios from 'axios';\r\n\r\nconst setAuthToken = token => {\r\n  if (token) {\r\n    // Apply to every request\r\n    axios.defaults.headers.common['Authorization'] = token;\r\n  } else {\r\n    // Delete auth header\r\n    delete axios.defaults.headers.common['Authorization'];\r\n  }\r\n};\r\n\r\nexport default setAuthToken;","export const GET_ERRORS = 'GET_ERRORS';\r\nexport const SET_CURRENT_USER = 'SET_CURRENT_USER';\r\nexport const GET_PROFILES = 'GET_PROFILES';\r\nexport const CORPORATE_CLIENTS = 'CORPORATE_CLIENTS';\r\nexport const GET_DISINFECTORS = 'GET_DISINFECTORS';\r\nexport const SET_LOADING = 'SET_LOADING';\r\nexport const SET_LOADING_USERS = 'SET_LOADING_USERS';\r\nexport const SET_LOADING_CHATS = 'SET_LOADING_CHATS';\r\nexport const SET_LOADING_CURRENT_CHAT = 'SET_LOADING_CURRENT_CHAT';\r\nexport const SET_LOADING_ANONS = 'SET_LOADING_ANONS';\r\nexport const GET_ALL_ORDERS = 'GET_ALL_ORDERS';\r\nexport const ADD_ORDER = 'ADD_ORDER';\r\nexport const GET_COMPLETE_ORDERS_IN_MONTH = 'GET_COMPLETE_ORDERS_IN_MONTH';\r\nexport const SET_COMP_ORDER_METHOD_INPUT = 'SET_COMP_ORDER_METHOD_INPUT';\r\nexport const CLEAR_CURRENT_PROFILE = 'CLEAR_CURRENT_PROFILE';\r\nexport const GET_PROFILE = 'GET_PROFILE';\r\nexport const PROFILE_LOADING = 'PROFILE_LOADING';\r\nexport const GET_ALL_USERS = 'GET_ALL_USERS';\r\n\r\n\r\n// chat\r\nexport const NEW_CHAT_CREATED = 'NEW_CHAT_CREATED';\r\nexport const GET_ALL_CHATS = 'GET_ALL_CHATS';\r\nexport const GET_CURRENT_CHAT = 'GET_CURRENT_CHAT';\r\nexport const GET_ANONS = 'GET_ANONS';\r\nexport const CREATE_MESSAGE = 'CREATE_MESSAGE';\r\nexport const EDIT_MESSAGE = 'EDIT_MESSAGE';\r\nexport const DELETE_MESSAGE = 'DELETE_MESSAGE';\r\nexport const ADD_ANONS = 'ADD_ANONS';\r\n\r\n\r\n// disinfector\r\nexport const GET_DISINFECTOR_MATERIALS = 'GET_DISINFECTOR_MATERIALS';\r\nexport const GET_DISINF_MONTH_STATS = 'GET_DISINF_MONTH_STATS';\r\nexport const GET_DISINF_WEEK_STATS = 'GET_DISINF_WEEK_STATS';\r\nexport const GET_DISINF_DAY_STATS = 'GET_DISINF_DAY_STATS';\r\nexport const LOADING_DISINF_STATS = 'LOADING_DISINF_STATS';\r\nexport const LOADING_CURRENT_DISINFECTOR = 'LOADING_CURRENT_DISINFECTOR';\r\nexport const LOADING_ADD_MATERIAL_EVENTS = 'LOADING_ADD_MATERIAL_EVENTS';\r\nexport const GET_ADD_MATERIAL_EVENTS = 'GET_ADD_MATERIAL_EVENTS';\r\nexport const GET_ALL_DISINFECTORS = 'GET_ALL_DISINFECTORS';\r\nexport const DISINF_MAT_COMINGS = 'DISINF_MAT_COMINGS';\r\nexport const DISINF_MAT_DISTRIBS = 'DISINF_MAT_DISTRIBS';\r\nexport const GET_RETURNED_QUERIES = 'GET_RETURNED_QUERIES';\r\n\r\n\r\n// operator\r\nexport const GET_SORTED_ORDERS = 'GET_SORTED_ORDERS';\r\nexport const GET_NOT_COMPLETED_ORDERS = 'GET_NOT_COMPLETED_ORDERS';\r\nexport const SET_LOADING_SORTED_ORDERS = 'SET_LOADING_SORTED_ORDERS';\r\nexport const SET_LOADING_COMPLETE_ORDERS = 'SET_LOADING_COMPLETE_ORDERS';\r\nexport const SET_LOADING_REPEAT_ORDER = 'SET_LOADING_REPEAT_ORDER';\r\nexport const GET_ORDER_BY_ID = 'GET_ORDER_BY_ID';\r\nexport const GET_COMPLETE_ORDERS = \"GET_COMPLETE_ORDERS\";\r\nexport const GET_COMPLETE_ORDER_BY_ID = 'GET_COMPLETE_ORDER_BY_ID';\r\nexport const SET_LOADING_OPERATOR_STATS = 'SET_LOADING_OPERATOR_STATS';\r\nexport const GOT_STATS_FOR_OPERATOR = 'GOT_STATS_FOR_OPERATOR';\r\nexport const GET_REPEAT_ORDERS = 'GET_REPEAT_ORDERS';\r\nexport const SET_REPEAT_ORDER_SEARCH_VARS = 'SET_REPEAT_ORDER_SEARCH_VARS';\r\nexport const GET_REPEAT_ORDER_FORM = 'GET_REPEAT_ORDER_FORM';\r\nexport const SEARCH_ORDERS = 'SEARCH_ORDERS';\r\nexport const SET_SEARCH_ORDER_METHOD = 'SET_SEARCH_ORDER_METHOD';\r\n\r\n\r\n// ADMIN\r\nexport const SET_LOADING_ORDER_QUERIES_FOR_ADMIN = 'SET_LOADING_ORDER_QUERIES_FOR_ADMIN';\r\nexport const SET_LOADING_ADMIN_STATS = 'SET_LOADING_ADMIN_STATS';\r\nexport const SET_LOADING_DISINFECTORS = 'SET_LOADING_DISINFECTORS';\r\nexport const SET_LOADING_OPERATORS = 'SET_LOADING_OPERATORS';\r\nexport const LOADING_CLIENTS = 'LOADING_CLIENTS';\r\nexport const SET_LOADING_ADD_MATERIAL_EVENTS = 'SET_LOADING_ADD_MATERIAL_EVENTS';\r\nexport const CLEAR_STATS_DATA_ADMIN = 'CLEAR_STATS_DATA_ADMIN';\r\n\r\nexport const GET_ORDER_QUERIES_FOR_ADMIN = 'GET_ORDER_QUERIES_FOR_ADMIN';\r\nexport const GET_ADMIN_MONTH_STATS = 'GET_ADMIN_MONTH_STATS';\r\nexport const GET_ADMIN_WEEK_STATS = 'GET_ADMIN_WEEK_STATS';\r\nexport const GET_ADMIN_DAY_STATS = 'GET_ADMIN_DAY_STATS';\r\nexport const GET_ADV_STATS = 'GET_ADV_STATS';\r\nexport const GET_OPERATOR_STATS = 'GET_OPERATOR_STATS';\r\nexport const GET_ALL_DISINFECTORS_FOR_ADMIN = 'GET_ALL_DISINFECTORS_FOR_ADMIN';\r\nexport const GET_ALL_OPERATORS_FOR_ADMIN = 'GET_ALL_OPERATORS_FOR_ADMIN';\r\nexport const GET_ALL_OPERATORS_AND_ADMINS_FOR_ADMIN = 'GET_ALL_OPERATORS_AND_ADMINS_FOR_ADMIN';\r\nexport const GET_ADD_MAT_EVENTS_MONTH = 'GET_ADD_MAT_EVENTS_MONTH';\r\nexport const GET_ADD_MAT_EVENTS_WEEK = 'GET_ADD_MAT_EVENTS_WEEK';\r\nexport const ADD_MAT_DISINFECTOR = 'ADD_MAT_DISINFECTOR';\r\nexport const DISINF_STATS_MONTH_ADMIN = 'DISINF_STATS_MONTH_ADMIN';\r\nexport const DISINF_STATS_MONTH_WEEK = 'DISINF_STATS_MONTH_WEEK';\r\nexport const DISINF_STATS_DAY_ADMIN = 'DISINF_STATS_DAY_ADMIN';\r\nexport const GET_CURR_MAT_ADMIN = 'GET_CURR_MAT_ADMIN';\r\nexport const LOADING_CUR_MAT = 'LOADING_CUR_MAT';\r\nexport const UPDATE_MAT_COMING = 'UPDATE_MAT_COMING';\r\nexport const MAT_COMING_MONTH = 'MAT_COMING_MONTH';\r\nexport const MAT_COMING_WEEK = 'MAT_COMING_WEEK';\r\nexport const SEARCH_CLIENTS = 'SEARCH_CLIENTS';\r\nexport const CLIENT_BY_ID = 'CLIENT_BY_ID';\r\nexport const SET_ORDERS_OF_CLIENT = 'SET_ORDERS_OF_CLIENT';\r\nexport const SET_LOADING_CLIENT_ORDERS = 'SET_LOADING_CLIENT_ORDERS';\r\nexport const GET_USER_BY_ID = 'GET_USER_BY_ID';\r\n\r\nexport const LOADING_SORTED_ORDERS_ADMIN = 'LOADING_SORTED_ORDERS_ADMIN';\r\nexport const GET_SORTED_ORDERS_ADMIN = 'GET_SORTED_ORDERS_ADMIN';\r\nexport const REMOVE_DISABLED_USER_FROM_DOM = 'REMOVE_DISABLED_USER_FROM_DOM';\r\n\r\n\r\n// Subadmin\r\nexport const SUBADM_GET_MY_ORDERS = 'SUBADM_GET_MY_ORDERS';\r\nexport const GET_SORTED_ORDERS_SUBADMIN = 'GET_SORTED_ORDERS_SUBADMIN';\r\nexport const LOADING_SORTED_ORDERS_SUBADMIN = 'LOADING_SORTED_ORDERS_SUBADMIN';\r\nexport const SUBADMIN_LOADING = 'SUBADMIN_LOADING';\r\nexport const ALL_DISINFECTORS = 'ALL_DISINFECTORS';\r\nexport const SUBADMIN_MATERIALS = 'SUBADMIN_MATERIALS';\r\nexport const SUBADMIN_ADDS_MATERIAL = 'SUBADMIN_ADDS_MATERIAL';\r\nexport const SUBADMIN_LOADING_STATS = 'SUBADMIN_LOADING_STATS';\r\nexport const SUBADMIN_MAT_COM_HISTORY = 'SUBADMIN_MAT_COM_HISTORY';\r\nexport const SUBADMIN_MAT_DISTRIB_HISTORY = 'SUBADMIN_MAT_DISTRIB_HISTORY';\r\n\r\n\r\n// accountant\r\nexport const GET_ACC_QUERIES = 'GET_ACC_QUERIES';\r\nexport const GET_ACC_QUERY_BY_ID = 'GET_ACC_QUERY_BY_ID';\r\nexport const GET_ACC_STATS = 'GET_ACC_STATS';\r\nexport const DELETE_QUERY_FROM_STATE = 'DELETE_QUERY_FROM_STATE';\r\nexport const SET_TIME_PERIOD = 'SET_TIME_PERIOD';\r\nexport const SEARCH_CONTRACTS = 'SEARCH_CONTRACTS';\r\nexport const LOADING_ACC_QUERIES = 'LOADING_ACC_QUERIES';\r\nexport const ACC_CLEAR_STATS = 'ACC_CLEAR_STATS';\r\nexport const SET_LOADING_ACC_STATS = 'SET_LOADING_ACC_STATS';\r\n\r\n\r\n// Fail order\r\nexport const SET_FAILED_ORDER = 'SET_FAILED_ORDER';\r\nexport const SET_LOADING_FAILED_ORDER = 'SET_LOADING_FAILED_ORDER';\r\nexport const GET_FAILED_ORDERS = 'GET_FAILED_ORDERS';\r\nexport const SET_FAIL_SEARCH_VARS = 'SET_FAIL_SEARCH_VARS';\r\n\r\n\r\n// OPTIONS\r\nexport const SET_THEME = 'SET_THEME';","import axios from 'axios';\r\nimport setAuthToken from '../utils/setAuthToken';\r\nimport jwt_decode from 'jwt-decode';\r\n\r\nimport {\r\n  GET_ERRORS,\r\n  SET_CURRENT_USER\r\n} from './types';\r\n\r\n\r\n// Register User\r\nexport const registerUser = (userData, history) => dispatch => {\r\n  axios\r\n    .post('/register', userData)\r\n    .then(res => history.push('/admin'))\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      })\r\n    );\r\n};\r\n\r\n\r\n// Login - Get User Token\r\nexport const loginUser = (userData, history) => dispatch => {\r\n  axios\r\n    .post('/login', userData)\r\n    .then(res => {\r\n      // Save to localStorage\r\n      const { token } = res.data;\r\n      // Set token to ls\r\n      localStorage.setItem('jwtToken', token);\r\n      // Set token to Auth header\r\n      setAuthToken(token);\r\n      // Decode token to get user data\r\n      const decoded = jwt_decode(token);\r\n      // Set current user\r\n      dispatch(setCurrentUser(decoded));\r\n\r\n      history.push(`/${res.data.user.occupation}`);\r\n    })\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      })\r\n    );\r\n};\r\n\r\n\r\n// Set logged in user\r\nexport const setCurrentUser = decoded => {\r\n  return {\r\n    type: SET_CURRENT_USER,\r\n    payload: decoded\r\n  };\r\n};\r\n\r\n\r\n// Log user out\r\nexport const logoutUser = (history) => dispatch => {\r\n  // Remove token from localStorage\r\n  localStorage.removeItem('jwtToken');\r\n  // Remove auth header for future requests\r\n  setAuthToken(false);\r\n  // Set current user to {} which will set isAuthenticated to false\r\n  dispatch(setCurrentUser({}));\r\n\r\n  history.push('/login');\r\n};","import axios from 'axios';\r\nimport {\r\n  GET_PROFILE,\r\n  PROFILE_LOADING,\r\n  CLEAR_CURRENT_PROFILE\r\n} from './types';\r\n\r\n\r\n// Get current profile\r\nexport const getCurrentProfile = () => dispatch => {\r\n  dispatch(setProfileLoading());\r\n  axios\r\n    .get('/api/profile')\r\n    .then(res =>\r\n      dispatch({\r\n        type: GET_PROFILE,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_PROFILE,\r\n        payload: {}\r\n      })\r\n    );\r\n};\r\n\r\n\r\n// Profile loading\r\nexport const setProfileLoading = () => {\r\n  return {\r\n    type: PROFILE_LOADING\r\n  };\r\n};\r\n\r\n\r\n// Clear profile\r\nexport const clearCurrentProfile = () => {\r\n  return {\r\n    type: CLEAR_CURRENT_PROFILE\r\n  };\r\n};","const isEmpty = (value) =>\r\n  value === undefined ||\r\n  value === null ||\r\n  (typeof value === 'object' && Object.keys(value).length === 0) ||\r\n  (typeof value === 'string' && value.trim().length === 0);\r\n\r\nexport default isEmpty;","import isEmpty from '../validation/is-empty';\r\nimport {\r\n  SET_CURRENT_USER,\r\n  GET_DISINFECTOR_MATERIALS,\r\n  SUBADMIN_MATERIALS,\r\n  LOADING_CURRENT_DISINFECTOR\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n  isAuthenticated: false,\r\n  loadingUser: false,\r\n  user: {\r\n    materials: []\r\n  }\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case SET_CURRENT_USER:\r\n      return {\r\n        ...state,\r\n        isAuthenticated: !isEmpty(action.payload),\r\n        user: action.payload\r\n      };\r\n\r\n    case LOADING_CURRENT_DISINFECTOR:\r\n      return {\r\n        ...state,\r\n        loadingUser: true\r\n      };\r\n\r\n    case GET_DISINFECTOR_MATERIALS:\r\n      return {\r\n        ...state,\r\n        user: {\r\n          ...state.user,\r\n          materials: action.payload\r\n        },\r\n        loadingUser: false\r\n      };\r\n\r\n    case SUBADMIN_MATERIALS:\r\n      return {\r\n        ...state,\r\n        user: {\r\n          ...state.user,\r\n          materials: action.payload.materials\r\n        }\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};","import { GET_ERRORS } from '../actions/types';\r\n\r\nconst initialState = {};\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_ERRORS:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};","import {\r\n  CORPORATE_CLIENTS,\r\n  GET_ALL_USERS,\r\n  GET_DISINFECTORS,\r\n  SET_LOADING,\r\n  SET_LOADING_REPEAT_ORDER,\r\n  GET_ALL_ORDERS,\r\n  ADD_ORDER,\r\n  GET_ORDER_BY_ID,\r\n  SEARCH_ORDERS,\r\n  SET_SEARCH_ORDER_METHOD,\r\n  GET_REPEAT_ORDER_FORM,\r\n  GET_COMPLETE_ORDERS_IN_MONTH,\r\n  SET_COMP_ORDER_METHOD_INPUT\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n  corporateClients: [],\r\n  allUsers: [],\r\n  disinfectors: [],\r\n\r\n  orders: [],\r\n\r\n  searchOrderMethod: '',\r\n  searchOrderInput: '',\r\n\r\n\r\n  orderById: {\r\n    disinfectorId: {},\r\n    clientId: {\r\n      contracts: []\r\n    },\r\n    userCreated: {},\r\n    userAcceptedOrder: {},\r\n    disinfectors: [],\r\n    prevFailedOrder: {},\r\n    nextOrdersAfterFailArray: [],\r\n\r\n    // we no longer use this field\r\n    nextOrderAfterFail: {},\r\n  },\r\n  repeatOrder: {\r\n    disinfectorId: {},\r\n    previousOrder: {},\r\n    userCreated: {}\r\n  },\r\n  completeOrdersInMonth: [],\r\n  compOrderMethod: '',\r\n  compOrderInput: {\r\n    month: 0,\r\n    year: 0,\r\n    days: [],\r\n    day: ''\r\n  },\r\n\r\n  loading: false,\r\n  loadingRepeatOrder: false\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case SET_LOADING:\r\n      return {\r\n        ...state,\r\n        loading: true\r\n      };\r\n\r\n    case SET_LOADING_REPEAT_ORDER:\r\n      return {\r\n        ...state,\r\n        loadingRepeatOrder: true\r\n      };\r\n\r\n    case CORPORATE_CLIENTS:\r\n      return {\r\n        ...state,\r\n        corporateClients: action.payload\r\n      };\r\n\r\n    case GET_ALL_USERS:\r\n      return {\r\n        ...state,\r\n        allUsers: action.payload,\r\n        loading: false\r\n      };\r\n\r\n    case GET_DISINFECTORS:\r\n      return {\r\n        ...state,\r\n        disinfectors: action.payload,\r\n        loading: false\r\n      };\r\n\r\n    case GET_ALL_ORDERS:\r\n      return {\r\n        ...state,\r\n        orders: action.payload,\r\n        loading: false\r\n      };\r\n\r\n    case ADD_ORDER:\r\n      return {\r\n        ...state,\r\n        orders: [...state.orders, action.payload]\r\n      };\r\n\r\n    case GET_ORDER_BY_ID:\r\n      return {\r\n        ...state,\r\n        orderById: action.payload,\r\n        loading: false\r\n      };\r\n\r\n    case SEARCH_ORDERS:\r\n      return {\r\n        ...state,\r\n        orders: action.payload,\r\n        loading: false\r\n      };\r\n\r\n    case SET_SEARCH_ORDER_METHOD:\r\n      return {\r\n        ...state,\r\n        searchOrderMethod: action.payload.method,\r\n        searchOrderInput: action.payload.payload\r\n      };\r\n\r\n    case GET_REPEAT_ORDER_FORM:\r\n      return {\r\n        ...state,\r\n        repeatOrder: action.payload,\r\n        loadingRepeatOrder: false\r\n      };\r\n\r\n    case GET_COMPLETE_ORDERS_IN_MONTH:\r\n      return {\r\n        ...state,\r\n        completeOrdersInMonth: action.payload,\r\n        loading: false\r\n      };\r\n\r\n    case SET_COMP_ORDER_METHOD_INPUT:\r\n      let object = { ...action.payload };\r\n      return {\r\n        ...state,\r\n        compOrderMethod: object.type,\r\n        compOrderInput: {\r\n          ...state.compOrderInput,\r\n          day: object.type === 'day' ? object.day : '',\r\n          days: object.type === 'week' ? object.days : [],\r\n          month: object.type === 'month' ? object.month : 0,\r\n          year: object.type === 'month' ? object.year : 0\r\n        }\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};","import {\r\n  GET_ALL_USERS,\r\n  GET_ALL_CHATS,\r\n  SET_LOADING_USERS,\r\n  SET_LOADING_CHATS,\r\n  SET_LOADING_CURRENT_CHAT,\r\n  SET_LOADING_ANONS,\r\n  NEW_CHAT_CREATED,\r\n  GET_CURRENT_CHAT,\r\n  CREATE_MESSAGE,\r\n  EDIT_MESSAGE,\r\n  DELETE_MESSAGE,\r\n  GET_ANONS,\r\n  ADD_ANONS\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n  users: [],\r\n  chats: [],\r\n  hasChatWith: [],\r\n  notHaveChatWith: [],\r\n  currentChat: {\r\n    user1: {},\r\n    user2: {},\r\n    messages: []\r\n  },\r\n  anons: [],\r\n  loadingUsers: false,\r\n  loadingChats: false,\r\n  loadingCurrentChat: false,\r\n  loadingAnons: false\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case SET_LOADING_USERS:\r\n      return {\r\n        ...state,\r\n        loadingUsers: true\r\n      };\r\n\r\n    case SET_LOADING_CHATS:\r\n      return {\r\n        ...state,\r\n        loadingChats: true\r\n      };\r\n\r\n    case SET_LOADING_CURRENT_CHAT:\r\n      return {\r\n        ...state,\r\n        loadingCurrentChat: true\r\n      };\r\n\r\n    case SET_LOADING_ANONS:\r\n      return {\r\n        ...state,\r\n        loadingAnons: true\r\n      };\r\n\r\n    case GET_ALL_USERS:\r\n      return {\r\n        ...state,\r\n        users: action.payload.data,\r\n        loadingUsers: false\r\n      };\r\n\r\n    case GET_ALL_CHATS:\r\n      return {\r\n        ...state,\r\n        chats: action.payload.chats,\r\n        hasChatWith: action.payload.hasChatWith,\r\n        notHaveChatWith: action.payload.notHaveChatWith,\r\n        loadingChats: false\r\n      };\r\n\r\n    case GET_CURRENT_CHAT:\r\n      return {\r\n        ...state,\r\n        currentChat: action.payload,\r\n        loadingCurrentChat: false\r\n      };\r\n\r\n    case NEW_CHAT_CREATED:\r\n      return {\r\n        ...state,\r\n        chats: [...state.chats, action.payload]\r\n      };\r\n\r\n    case CREATE_MESSAGE:\r\n      return {\r\n        ...state,\r\n        currentChat: {\r\n          ...state.currentChat,\r\n          messages: [...state.currentChat.messages, action.payload]\r\n        }\r\n      };\r\n\r\n    case EDIT_MESSAGE:\r\n      let index = state.currentChat.messages.findIndex(item => item._id.toString() === action.payload.messageId);\r\n      let messages = [...state.currentChat.messages];\r\n      messages[index] = { ...state.currentChat.messages[index], body: action.payload.updatedBody }\r\n      return {\r\n        ...state,\r\n        currentChat: {\r\n          ...state.currentChat,\r\n          messages: messages\r\n        }\r\n      };\r\n\r\n    case DELETE_MESSAGE:\r\n      return {\r\n        ...state,\r\n        currentChat: {\r\n          ...state.currentChat,\r\n          messages: state.currentChat.messages.filter(item => item._id.toString() !== action.payload.messageId)\r\n        }\r\n      };\r\n\r\n    case GET_ANONS:\r\n      return {\r\n        ...state,\r\n        anons: action.payload,\r\n        loadingAnons: false\r\n      };\r\n\r\n    case ADD_ANONS:\r\n      return {\r\n        ...state,\r\n        anons: [...state.anons, action.payload],\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};","import {\r\n  GET_SORTED_ORDERS,\r\n  GET_NOT_COMPLETED_ORDERS,\r\n  GET_COMPLETE_ORDERS,\r\n  GET_COMPLETE_ORDER_BY_ID,\r\n  DELETE_QUERY_FROM_STATE,\r\n  GOT_STATS_FOR_OPERATOR,\r\n  GET_REPEAT_ORDERS,\r\n  SET_REPEAT_ORDER_SEARCH_VARS,\r\n  SET_LOADING_SORTED_ORDERS,\r\n  SET_LOADING_COMPLETE_ORDERS,\r\n  SET_LOADING_OPERATOR_STATS\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n  sortedOrders: [],\r\n  completeOrders: [],\r\n  repeatOrders: [],\r\n  repeatOrderSearchVars: {\r\n    method: '',\r\n    headingDay: '',\r\n    selectedDays: []\r\n  },\r\n  orderToConfirm: {\r\n    orderId: {},\r\n    disinfectorId: {},\r\n    userCreated: {},\r\n    userAcceptedOrder: {},\r\n    clientId: {\r\n      contracts: []\r\n    },\r\n    disinfectors: [],\r\n    prevFailedOrder: {},\r\n    nextOrdersAfterFailArray: [],\r\n\r\n    // we no longer use this field\r\n    nextOrderAfterFail: {},\r\n  },\r\n  stats: {\r\n    sortedOrders: [],\r\n    method: ''\r\n  },\r\n  loadingSortedOrders: false,\r\n  loadingCompleteOrders: false,\r\n  loadingStats: false\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case SET_LOADING_SORTED_ORDERS:\r\n      return {\r\n        ...state,\r\n        loadingSortedOrders: true\r\n      };\r\n\r\n    case SET_LOADING_COMPLETE_ORDERS:\r\n      return {\r\n        ...state,\r\n        loadingCompleteOrders: true\r\n      };\r\n\r\n    case SET_LOADING_OPERATOR_STATS:\r\n      return {\r\n        ...state,\r\n        loadingStats: true\r\n      };\r\n\r\n    case GET_SORTED_ORDERS:\r\n      return {\r\n        ...state,\r\n        sortedOrders: action.payload,\r\n        date: action.date,\r\n        loadingSortedOrders: false\r\n      };\r\n\r\n    case GET_NOT_COMPLETED_ORDERS:\r\n      return {\r\n        ...state,\r\n        sortedOrders: action.payload,\r\n        loadingSortedOrders: false\r\n      };\r\n\r\n    case GET_COMPLETE_ORDERS:\r\n      return {\r\n        ...state,\r\n        completeOrders: action.payload,\r\n        loadingCompleteOrders: false\r\n      };\r\n\r\n    case GET_COMPLETE_ORDER_BY_ID:\r\n      return {\r\n        ...state,\r\n        orderToConfirm: action.payload,\r\n        loadingCompleteOrders: false\r\n      };\r\n\r\n    case DELETE_QUERY_FROM_STATE:\r\n      return {\r\n        ...state,\r\n        completeOrders: state.completeOrders.filter(item => item._id !== action.payload)\r\n      };\r\n\r\n\r\n    case GOT_STATS_FOR_OPERATOR:\r\n      return {\r\n        ...state,\r\n        stats: {\r\n          ...state.stats,\r\n          sortedOrders: action.payload.sortedOrders,\r\n          method: action.payload.method\r\n        },\r\n        loadingStats: false\r\n      };\r\n\r\n    case GET_REPEAT_ORDERS:\r\n      return {\r\n        ...state,\r\n        loadingSortedOrders: false,\r\n        repeatOrders: action.payload\r\n      };\r\n\r\n    case SET_REPEAT_ORDER_SEARCH_VARS:\r\n      return {\r\n        ...state,\r\n        repeatOrderSearchVars: {\r\n          ...state.repeatOrderSearchVars,\r\n          method: action.payload.method,\r\n          headingDay: action.payload.headingDay,\r\n          selectedDays: action.payload.selectedDays,\r\n        }\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}","import {\r\n  GET_ALL_DISINFECTORS,\r\n  GET_DISINF_MONTH_STATS,\r\n  GET_DISINF_WEEK_STATS,\r\n  GET_DISINF_DAY_STATS,\r\n  GET_ADD_MATERIAL_EVENTS,\r\n  DISINF_MAT_COMINGS,\r\n  DISINF_MAT_DISTRIBS,\r\n  GET_RETURNED_QUERIES,\r\n  LOADING_DISINF_STATS,\r\n  SET_LOADING_DISINFECTORS,\r\n  LOADING_ADD_MATERIAL_EVENTS,\r\n  CLEAR_STATS_DATA_ADMIN\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n  disinfectors: [],\r\n  stats: {\r\n    orders: [],\r\n    acceptedOrders: [],\r\n    addedMaterials: []\r\n  },\r\n  method: '',\r\n  queries: [],\r\n  matComing: [],\r\n  matDistrib: [],\r\n  addMaterialEvents: [],\r\n  loadingDisinfectors: false,\r\n  loadingDisinfStats: false,\r\n  loadingEvents: false\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case LOADING_DISINF_STATS:\r\n      return {\r\n        ...state,\r\n        loadingDisinfStats: true\r\n      };\r\n\r\n    case SET_LOADING_DISINFECTORS:\r\n      return {\r\n        ...state,\r\n        loadingDisinfectors: true\r\n      };\r\n\r\n    case LOADING_ADD_MATERIAL_EVENTS:\r\n      return {\r\n        ...state,\r\n        loadingEvents: true\r\n      };\r\n\r\n    case GET_ALL_DISINFECTORS:\r\n      return {\r\n        ...state,\r\n        disinfectors: action.payload,\r\n        loadingDisinfectors: false\r\n      };\r\n\r\n    case GET_DISINF_MONTH_STATS:\r\n      return {\r\n        ...state,\r\n        method: 'month',\r\n        stats: {\r\n          ...state.stats,\r\n          orders: action.payload.orders,\r\n          acceptedOrders: action.payload.acceptedOrders,\r\n          addedMaterials: action.payload.addedMaterials\r\n        },\r\n        loadingDisinfStats: false\r\n      };\r\n\r\n    case GET_DISINF_WEEK_STATS:\r\n      return {\r\n        ...state,\r\n        method: 'week',\r\n        stats: {\r\n          ...state.stats,\r\n          orders: action.payload.orders,\r\n          acceptedOrders: action.payload.acceptedOrders,\r\n          addedMaterials: action.payload.addedMaterials\r\n        },\r\n        loadingDisinfStats: false\r\n      };\r\n\r\n    case GET_DISINF_DAY_STATS:\r\n      return {\r\n        ...state,\r\n        method: 'day',\r\n        stats: {\r\n          ...state.stats,\r\n          orders: action.payload.orders,\r\n          acceptedOrders: action.payload.acceptedOrders,\r\n          addedMaterials: action.payload.addedMaterials\r\n        },\r\n        loadingDisinfStats: false\r\n      };\r\n\r\n    case GET_ADD_MATERIAL_EVENTS:\r\n      return {\r\n        ...state,\r\n        addMaterialEvents: action.payload,\r\n        loadingEvents: false\r\n      };\r\n\r\n    case DISINF_MAT_COMINGS:\r\n      return {\r\n        ...state,\r\n        matComing: action.payload,\r\n        loadingDisinfStats: false\r\n      };\r\n\r\n    case DISINF_MAT_DISTRIBS:\r\n      return {\r\n        ...state,\r\n        matDistrib: action.payload,\r\n        loadingDisinfStats: false\r\n      };\r\n\r\n    case GET_RETURNED_QUERIES:\r\n      return {\r\n        ...state,\r\n        queries: action.payload\r\n      };\r\n\r\n    case CLEAR_STATS_DATA_ADMIN:\r\n      return {\r\n        ...state,\r\n        method: '',\r\n        stats: {\r\n          ...state.stats,\r\n          disinfectorId: '',\r\n          orders: [],\r\n          acceptedOrders: []\r\n        }\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  };\r\n}","import {\r\n  SET_LOADING_ORDER_QUERIES_FOR_ADMIN,\r\n  SET_LOADING_ADMIN_STATS,\r\n  SET_LOADING_DISINFECTORS,\r\n  SET_LOADING_OPERATORS,\r\n  SET_LOADING_ADD_MATERIAL_EVENTS,\r\n  LOADING_SORTED_ORDERS_ADMIN,\r\n  LOADING_CUR_MAT,\r\n  LOADING_CLIENTS,\r\n  SET_LOADING,\r\n\r\n  GET_SORTED_ORDERS_ADMIN,\r\n  GET_ORDER_QUERIES_FOR_ADMIN,\r\n  GET_ADMIN_MONTH_STATS,\r\n  GET_ADMIN_WEEK_STATS,\r\n  GET_ADMIN_DAY_STATS,\r\n  GET_ADV_STATS,\r\n  GET_OPERATOR_STATS,\r\n  GET_ALL_DISINFECTORS_FOR_ADMIN,\r\n  GET_ALL_OPERATORS_FOR_ADMIN,\r\n  GET_ALL_OPERATORS_AND_ADMINS_FOR_ADMIN,\r\n  GET_ADD_MAT_EVENTS_MONTH,\r\n  GET_ADD_MAT_EVENTS_WEEK,\r\n  DISINF_STATS_MONTH_ADMIN,\r\n  DISINF_STATS_MONTH_WEEK,\r\n  DISINF_STATS_DAY_ADMIN,\r\n  ADD_MAT_DISINFECTOR,\r\n  GET_CURR_MAT_ADMIN,\r\n  UPDATE_MAT_COMING,\r\n  MAT_COMING_MONTH,\r\n  MAT_COMING_WEEK,\r\n  SEARCH_CLIENTS,\r\n  CLIENT_BY_ID,\r\n  SET_ORDERS_OF_CLIENT,\r\n  SET_LOADING_CLIENT_ORDERS,\r\n  GET_ALL_USERS,\r\n  GET_USER_BY_ID,\r\n\r\n  CLEAR_STATS_DATA_ADMIN,\r\n  DELETE_QUERY_FROM_STATE,\r\n  REMOVE_DISABLED_USER_FROM_DOM,\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n  orderQueries: [],\r\n  disinfectors: [],\r\n  operators: [],\r\n  sortedOrders: [],\r\n  clients: [],\r\n  clientById: {\r\n    orders: [],\r\n    contracts: []\r\n  },\r\n  searchClientsMethod: '',\r\n  searchClientsInput: '',\r\n  ordersOfClient: [],\r\n\r\n  users: [],\r\n  userById: {},\r\n  currentMaterials: {\r\n    materials: []\r\n  },\r\n  stats: {\r\n    disinfectorId: '',\r\n    orders: [],\r\n    acceptedOrders: []\r\n  },\r\n  method: '',\r\n  addMatEvents: [],\r\n  materialComing: [],\r\n  addMatEventsMethod: '',\r\n  loadingSortedOrders: false,\r\n  loadingOrderQueries: false,\r\n  loadingStats: false,\r\n  loadingDisinfectors: false,\r\n  loadingOperators: false,\r\n  loadingAddMatEvents: false,\r\n  loadingCurMat: false,\r\n  loadingClients: false,\r\n  loadingUsers: false,\r\n  loadingOrdersOfClient: false\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case LOADING_SORTED_ORDERS_ADMIN:\r\n      return {\r\n        ...state,\r\n        loadingSortedOrders: true\r\n      };\r\n\r\n    case SET_LOADING_ORDER_QUERIES_FOR_ADMIN:\r\n      return {\r\n        ...state,\r\n        loadingOrderQueries: true\r\n      };\r\n\r\n    case SET_LOADING_ADMIN_STATS:\r\n      return {\r\n        ...state,\r\n        loadingStats: true\r\n      };\r\n\r\n    case SET_LOADING_DISINFECTORS:\r\n      return {\r\n        ...state,\r\n        loadingDisinfectors: true\r\n      };\r\n\r\n    case SET_LOADING_OPERATORS:\r\n      return {\r\n        ...state,\r\n        loadingOperators: true\r\n      };\r\n\r\n    case SET_LOADING_ADD_MATERIAL_EVENTS:\r\n      return {\r\n        ...state,\r\n        loadingAddMatEvents: true\r\n      };\r\n\r\n    case LOADING_CUR_MAT:\r\n      return {\r\n        ...state,\r\n        loadingCurMat: true\r\n      };\r\n\r\n    case LOADING_CLIENTS:\r\n      return {\r\n        ...state,\r\n        loadingClients: true,\r\n        searchClientsMethod: action.payload.method !== '' ? action.payload.method : state.searchClientsMethod,\r\n        searchClientsInput: action.payload.payload !== '' ? action.payload.payload : state.searchClientsInput\r\n      };\r\n\r\n    case GET_SORTED_ORDERS_ADMIN:\r\n      return {\r\n        ...state,\r\n        sortedOrders: action.payload,\r\n        date: action.date,\r\n        loadingSortedOrders: false\r\n      };\r\n\r\n    case GET_ORDER_QUERIES_FOR_ADMIN:\r\n      return {\r\n        ...state,\r\n        orderQueries: action.payload,\r\n        loadingOrderQueries: false\r\n      };\r\n\r\n    case GET_ADMIN_MONTH_STATS:\r\n      return {\r\n        ...state,\r\n        method: 'month',\r\n        stats: {\r\n          ...state.stats,\r\n          orders: action.payload\r\n        },\r\n        loadingStats: false\r\n      };\r\n\r\n    case GET_ADMIN_WEEK_STATS:\r\n      return {\r\n        ...state,\r\n        method: 'week',\r\n        stats: {\r\n          ...state.stats,\r\n          orders: action.payload\r\n        },\r\n        loadingStats: false\r\n      };\r\n\r\n    case GET_ADMIN_DAY_STATS:\r\n      return {\r\n        ...state,\r\n        method: 'day',\r\n        stats: {\r\n          ...state.stats,\r\n          orders: action.payload\r\n        },\r\n        loadingStats: false\r\n      };\r\n\r\n    case DISINF_STATS_MONTH_ADMIN:\r\n      return {\r\n        ...state,\r\n        method: 'month',\r\n        stats: {\r\n          ...state.stats,\r\n          disinfectorId: action.payload.disinfectorId,\r\n          orders: action.payload.orders,\r\n          acceptedOrders: action.payload.acceptedOrders\r\n        },\r\n        loadingStats: false\r\n      };\r\n\r\n    case DISINF_STATS_MONTH_WEEK:\r\n      return {\r\n        ...state,\r\n        method: 'week',\r\n        stats: {\r\n          ...state.stats,\r\n          disinfectorId: action.payload.disinfectorId,\r\n          orders: action.payload.orders,\r\n          acceptedOrders: action.payload.acceptedOrders\r\n        },\r\n        loadingStats: false\r\n      };\r\n\r\n    case DISINF_STATS_DAY_ADMIN:\r\n      return {\r\n        ...state,\r\n        method: 'day',\r\n        stats: {\r\n          ...state.stats,\r\n          disinfectorId: action.payload.disinfectorId,\r\n          orders: action.payload.orders,\r\n          acceptedOrders: action.payload.acceptedOrders\r\n        },\r\n        loadingStats: false\r\n      };\r\n\r\n    case GET_ADV_STATS:\r\n      return {\r\n        ...state,\r\n        stats: {\r\n          ...state.stats,\r\n          orders: action.payload\r\n        },\r\n        loadingStats: false\r\n      };\r\n\r\n    case GET_OPERATOR_STATS:\r\n      return {\r\n        ...state,\r\n        method: action.payload.method,\r\n        stats: {\r\n          ...state.stats,\r\n          orders: action.payload.sortedOrders\r\n        },\r\n        loadingStats: false\r\n      };\r\n\r\n    case GET_ALL_DISINFECTORS_FOR_ADMIN:\r\n      return {\r\n        ...state,\r\n        disinfectors: action.payload,\r\n        loadingDisinfectors: false\r\n      };\r\n\r\n    case GET_ALL_OPERATORS_FOR_ADMIN:\r\n      return {\r\n        ...state,\r\n        operators: action.payload,\r\n        loadingOperators: false\r\n      };\r\n\r\n    case GET_ALL_OPERATORS_AND_ADMINS_FOR_ADMIN:\r\n      return {\r\n        ...state,\r\n        operators: action.payload,\r\n        loadingOperators: false\r\n      };\r\n\r\n    case GET_ADD_MAT_EVENTS_MONTH:\r\n      return {\r\n        ...state,\r\n        addMatEvents: action.payload,\r\n        addMatEventsMethod: 'month',\r\n        loadingAddMatEvents: false\r\n      };\r\n\r\n    case GET_ADD_MAT_EVENTS_WEEK:\r\n      return {\r\n        ...state,\r\n        addMatEvents: action.payload,\r\n        addMatEventsMethod: 'week',\r\n        loadingAddMatEvents: false\r\n      };\r\n\r\n    case ADD_MAT_DISINFECTOR:\r\n      let disinfectorIndex = state.disinfectors.findIndex(item => item._id.toString() === action.payload.disinfector);\r\n      let array = [...state.disinfectors];\r\n      action.payload.materials.forEach(item => {\r\n        array[disinfectorIndex].materials.forEach(thing => {\r\n          if (thing.material === item.material) {\r\n            thing.amount += Number(item.amount);\r\n            return;\r\n          }\r\n        });\r\n      });\r\n      return {\r\n        ...state,\r\n        disinfectors: array\r\n      };\r\n\r\n    case GET_CURR_MAT_ADMIN:\r\n      return {\r\n        ...state,\r\n        loadingCurMat: false,\r\n        currentMaterials: action.payload\r\n      };\r\n\r\n    case UPDATE_MAT_COMING:\r\n      return {\r\n        ...state,\r\n        currentMaterials: action.payload\r\n      };\r\n\r\n    case MAT_COMING_MONTH:\r\n      return {\r\n        ...state,\r\n        materialComing: action.payload,\r\n        addMatEventsMethod: 'month',\r\n        loadingStats: false\r\n      };\r\n\r\n    case MAT_COMING_WEEK:\r\n      return {\r\n        ...state,\r\n        materialComing: action.payload,\r\n        addMatEventsMethod: 'week',\r\n        loadingStats: false\r\n      };\r\n\r\n    case SEARCH_CLIENTS:\r\n      return {\r\n        ...state,\r\n        clients: action.payload,\r\n        loadingClients: false\r\n      };\r\n\r\n    case CLIENT_BY_ID:\r\n      return {\r\n        ...state,\r\n        clientById: action.payload,\r\n        loadingClients: false\r\n      };\r\n\r\n    case SET_ORDERS_OF_CLIENT:\r\n      return {\r\n        ...state,\r\n        ordersOfClient: action.payload,\r\n        loadingOrdersOfClient: false\r\n      };\r\n\r\n    case SET_LOADING_CLIENT_ORDERS:\r\n      return {\r\n        ...state,\r\n        loadingOrdersOfClient: true\r\n      };\r\n\r\n    case GET_ALL_USERS:\r\n      return {\r\n        ...state,\r\n        users: action.payload,\r\n        loadingUsers: false\r\n      };\r\n\r\n    case GET_USER_BY_ID:\r\n      return {\r\n        ...state,\r\n        userById: action.payload\r\n      };\r\n\r\n\r\n    case CLEAR_STATS_DATA_ADMIN:\r\n      return {\r\n        ...state,\r\n        method: '',\r\n        loadingStats: false,\r\n        stats: {\r\n          ...state.stats,\r\n          disinfectorId: '',\r\n          orders: [],\r\n          acceptedOrders: []\r\n        }\r\n      };\r\n\r\n    case DELETE_QUERY_FROM_STATE:\r\n      return {\r\n        ...state,\r\n        orderQueries: state.orderQueries.filter(item => item._id !== action.payload)\r\n      };\r\n\r\n    case REMOVE_DISABLED_USER_FROM_DOM:\r\n      return {\r\n        ...state,\r\n        users: state.users.filter(item => item._id !== action.payload)\r\n      };\r\n\r\n    case SET_LOADING:\r\n      // this is used when admin loads all users and user by id\r\n      return {\r\n        ...state,\r\n        loadingUsers: true\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};","import {\r\n  SUBADM_GET_MY_ORDERS,\r\n  GET_ORDER_BY_ID,\r\n  GET_SORTED_ORDERS_SUBADMIN,\r\n  ALL_DISINFECTORS,\r\n\r\n  GET_ALL_DISINFECTORS_FOR_ADMIN, // from admin's action\r\n  SET_LOADING_DISINFECTORS, // from admin's action\r\n\r\n  GET_ALL_DISINFECTORS,\r\n  SUBADMIN_ADDS_MATERIAL,\r\n  SUBADMIN_MAT_COM_HISTORY,\r\n  SUBADMIN_MAT_DISTRIB_HISTORY,\r\n  LOADING_SORTED_ORDERS_SUBADMIN,\r\n  SET_LOADING,\r\n  SUBADMIN_LOADING,\r\n  SUBADMIN_LOADING_STATS\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n  myOrders: [],\r\n  orderById: {\r\n    disinfectorId: {},\r\n    clientId: {\r\n      contracts: []\r\n    },\r\n    userCreated: {},\r\n    userAcceptedOrder: {},\r\n    prevFailedOrder: {},\r\n    nextOrdersAfterFailArray: [],\r\n\r\n    // we no longer use this field\r\n    nextOrderAfterFail: {},\r\n  },\r\n  disinfectors: [],\r\n  sortedOrders: [],\r\n  completeOrders: [],\r\n  orderToConfirm: {\r\n    orderId: {},\r\n    disinfectorId: {}\r\n  },\r\n  stats: {\r\n    orders: [],\r\n    completeOrders: []\r\n  },\r\n  method: '',\r\n  materialComing: [],\r\n  addMatEvents: [],\r\n\r\n  loadingSortedOrders: false,\r\n  loadingCompleteOrders: false,\r\n  loadingStats: false,\r\n  loading: false\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case LOADING_SORTED_ORDERS_SUBADMIN:\r\n      return {\r\n        ...state,\r\n        loadingSortedOrders: true\r\n      };\r\n\r\n    case SUBADMIN_LOADING:\r\n      return {\r\n        ...state,\r\n        loading: true\r\n      };\r\n\r\n    case SET_LOADING:\r\n      return {\r\n        ...state,\r\n        loading: true\r\n      };\r\n\r\n    case SET_LOADING_DISINFECTORS: // from admin's action\r\n      return {\r\n        ...state,\r\n        loading: true\r\n      };\r\n\r\n    case SUBADMIN_LOADING_STATS:\r\n      return {\r\n        ...state,\r\n        loadingStats: true\r\n      };\r\n\r\n    // get all disinfectors and subadmins\r\n    case GET_ALL_DISINFECTORS:\r\n      return {\r\n        ...state,\r\n        disinfectors: action.payload\r\n      };\r\n\r\n    case SUBADM_GET_MY_ORDERS:\r\n      return {\r\n        ...state,\r\n        myOrders: action.payload,\r\n        loading: false\r\n      };\r\n\r\n    case GET_ORDER_BY_ID:\r\n      return {\r\n        ...state,\r\n        orderById: action.payload,\r\n        loading: false\r\n      };\r\n\r\n    // get all disinfectors only (not subadmins)\r\n    case ALL_DISINFECTORS:\r\n      return {\r\n        ...state,\r\n        disinfectors: action.payload,\r\n        loading: false\r\n      };\r\n\r\n    // get all disinfectors AND subadmins (for subadmin)\r\n    case GET_ALL_DISINFECTORS_FOR_ADMIN: // from admin's action\r\n      return {\r\n        ...state,\r\n        disinfectors: action.payload,\r\n        loading: false\r\n      };\r\n\r\n    case SUBADMIN_ADDS_MATERIAL:\r\n      let disinfectorIndex = state.disinfectors.findIndex(item => item._id.toString() === action.payload.disinfector);\r\n      let array = [...state.disinfectors];\r\n      action.payload.materials.forEach(item => {\r\n        array[disinfectorIndex].materials.forEach(thing => {\r\n          if (thing.material === item.material) {\r\n            thing.amount += Number(item.amount);\r\n            return;\r\n          }\r\n        });\r\n      });\r\n      return {\r\n        ...state,\r\n        disinfectors: array\r\n      };\r\n\r\n    case GET_SORTED_ORDERS_SUBADMIN:\r\n      return {\r\n        ...state,\r\n        sortedOrders: action.payload,\r\n        date: action.date,\r\n        loadingSortedOrders: false\r\n      };\r\n\r\n    case SUBADMIN_MAT_COM_HISTORY:\r\n      return {\r\n        ...state,\r\n        loadingStats: false,\r\n        method: action.payload.method,\r\n        materialComing: action.payload.events\r\n      };\r\n\r\n    case SUBADMIN_MAT_DISTRIB_HISTORY:\r\n      return {\r\n        ...state,\r\n        loadingStats: false,\r\n        method: action.payload.method,\r\n        addMatEvents: action.payload.events\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}","import {\r\n  GET_ACC_QUERIES,\r\n  GET_ACC_QUERY_BY_ID,\r\n  GET_ACC_STATS,\r\n  DELETE_QUERY_FROM_STATE,\r\n  SET_TIME_PERIOD,\r\n  SEARCH_CONTRACTS,\r\n  LOADING_ACC_QUERIES,\r\n  ACC_CLEAR_STATS,\r\n  SET_LOADING_ACC_STATS\r\n} from '../actions/types';\r\n\r\n\r\nconst initialState = {\r\n  orders: [],\r\n  queries: [],\r\n  queryVars: {\r\n    method: '',\r\n    orders: [],\r\n    month: 0,\r\n    year: 0,\r\n    days: [],\r\n    day: ''\r\n  },\r\n\r\n  queryById: {\r\n    disinfectorId: {},\r\n    userCreated: {},\r\n    clientId: {\r\n      contracts: []\r\n    },\r\n    userAcceptedOrder: {},\r\n    disinfectors: [],\r\n    prevFailedOrder: {},\r\n    nextOrdersAfterFailArray: [],\r\n\r\n    // we no longer use this field\r\n    nextOrderAfterFail: {},\r\n  },\r\n  stats: {\r\n    method: '',\r\n    orders: [],\r\n    month: 0,\r\n    year: 0,\r\n    days: [],\r\n    day: ''\r\n  },\r\n  loadingQueries: false,\r\n  loadingStats: false\r\n};\r\n\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_ACC_QUERIES:\r\n      return {\r\n        ...state,\r\n        queries: action.payload,\r\n        loadingQueries: false\r\n      };\r\n\r\n    case GET_ACC_QUERY_BY_ID:\r\n      return {\r\n        ...state,\r\n        queryById: action.payload,\r\n        loadingQueries: false\r\n      };\r\n\r\n    case GET_ACC_STATS:\r\n      return {\r\n        ...state,\r\n        stats: {\r\n          ...state.stats,\r\n          orders: action.payload.orders,\r\n          method: action.payload.method\r\n        },\r\n        loadingStats: false\r\n      };\r\n\r\n    case DELETE_QUERY_FROM_STATE:\r\n      return {\r\n        ...state,\r\n        queries: state.queries.filter(item => item._id !== action.payload)\r\n      };\r\n\r\n    case SET_TIME_PERIOD:\r\n      let object = { ...action.payload };\r\n      return {\r\n        ...state,\r\n        queryVars: {\r\n          ...state.queryVars,\r\n          method: object.type,\r\n          day: object.type === 'day' ? object.day : '',\r\n          days: object.type === 'week' ? object.days : [],\r\n          month: object.type === 'month' ? object.month : 0,\r\n          year: object.type === 'month' ? object.year : 0\r\n        }\r\n      };\r\n\r\n    case SEARCH_CONTRACTS:\r\n      return {\r\n        ...state,\r\n        orders: action.payload,\r\n        loadingQueries: false\r\n      };\r\n\r\n    case ACC_CLEAR_STATS:\r\n      return {\r\n        ...state,\r\n        stats: {\r\n          ...state.stats,\r\n          orders: [],\r\n          method: '',\r\n          month: 0,\r\n          year: 0,\r\n          days: [],\r\n          day: ''\r\n        }\r\n      };\r\n\r\n    // loadings\r\n    case LOADING_ACC_QUERIES:\r\n      return {\r\n        ...state,\r\n        loadingQueries: true\r\n      };\r\n\r\n    case SET_LOADING_ACC_STATS:\r\n      return {\r\n        ...state,\r\n        loadingStats: true\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}","import {\r\n  SET_FAILED_ORDER,\r\n  SET_FAIL_SEARCH_VARS,\r\n  GET_FAILED_ORDERS,\r\n  SET_LOADING_FAILED_ORDER\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n  failedOrder: {\r\n    disinfectorId: {},\r\n    clientId: {\r\n      contracts: []\r\n    },\r\n    userCreated: {},\r\n    userAcceptedOrder: {},\r\n    disinfectors: [],\r\n    prevFailedOrder: {},\r\n    nextOrdersAfterFailArray: [],\r\n\r\n\r\n    // we no longer use this field\r\n    nextOrderAfterFail: {},\r\n  },\r\n\r\n  fails: [],\r\n  searchVars: {\r\n    method: '',\r\n    month: 0,\r\n    year: 0,\r\n    days: [],\r\n    day: ''\r\n  },\r\n  loading: false\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case SET_LOADING_FAILED_ORDER:\r\n      return {\r\n        ...state,\r\n        loading: true\r\n      };\r\n\r\n    case SET_FAILED_ORDER:\r\n      return {\r\n        ...state,\r\n        failedOrder: action.payload,\r\n        loading: false\r\n      };\r\n\r\n    case SET_FAIL_SEARCH_VARS:\r\n      let object = { ...action.payload };\r\n      return {\r\n        ...state,\r\n        searchVars: {\r\n          ...state.searchVars,\r\n          method: object.type,\r\n          day: object.type === 'day' ? object.day : '',\r\n          days: object.type === 'week' ? object.days : [],\r\n          month: object.type === 'month' ? object.month : 0,\r\n          year: object.type === 'month' ? object.year : 0\r\n        }\r\n      };\r\n\r\n    case GET_FAILED_ORDERS:\r\n      return {\r\n        ...state,\r\n        fails: action.payload,\r\n        loading: false\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};","import {\r\n  SET_THEME\r\n} from '../actions/types';\r\n\r\n\r\nconst initialState = {\r\n  theme: localStorage.getItem('proTeamTheme') || 'light'\r\n};\r\n\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case SET_THEME:\r\n      return {\r\n        ...state,\r\n        theme: action.payload\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};","import { combineReducers } from 'redux';\r\nimport authReducer from './authReducer';\r\nimport errorReducer from './errorReducer';\r\nimport orderReducer from './orderReducer';\r\nimport chatReducer from './chatReducer';\r\nimport operatorReducer from './operatorReducer';\r\nimport disinfectorReducer from './disinfectorReducer';\r\nimport adminReducer from './adminReducer';\r\nimport subadminReducer from './subadminReducer';\r\nimport accountantReducer from './accountantReducer';\r\nimport failReducer from './failReducer';\r\nimport optionsReducer from './optionsReducer';\r\n\r\nexport default combineReducers({\r\n  auth: authReducer,\r\n  errors: errorReducer,\r\n  order: orderReducer,\r\n  chat: chatReducer,\r\n  disinfector: disinfectorReducer,\r\n  operator: operatorReducer,\r\n  admin: adminReducer,\r\n  subadmin: subadminReducer,\r\n  accountant: accountantReducer,\r\n  fail: failReducer,\r\n  options: optionsReducer\r\n});","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './reducers';\r\n\r\nconst initialState = {};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  initialState,\r\n  compose(\r\n    applyMiddleware(...middleware),\r\n    // window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n  )\r\n);\r\n\r\nexport default store;","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst StartPage = ({ component: Component, auth, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={props => {\r\n      if (auth.isAuthenticated === false) {\r\n        return <Redirect to=\"/login\" />\r\n      } else {\r\n        return <Redirect to={`/${auth.user.occupation}`} />\r\n      }\r\n    }}\r\n  />\r\n);\r\n\r\nStartPage.propTypes = {\r\n  auth: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps)(StartPage);","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst PrivateRoute = ({ component: Component, auth, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={props =>\r\n      auth.isAuthenticated === true ? (\r\n        <Component {...props} />\r\n      ) : (\r\n          <Redirect to=\"/login\" />\r\n        )\r\n    }\r\n  />\r\n);\r\n\r\nPrivateRoute.propTypes = {\r\n  auth: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst AdminRoute = ({ component: Component, auth, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={props => {\r\n      if (auth.isAuthenticated === false) {\r\n        return <Redirect to=\"/login\" />\r\n      }\r\n      if (auth.user.occupation === 'admin') {\r\n        return <Component {...props} />\r\n      } else {\r\n        return <Redirect to={`/${auth.user.occupation}`} />\r\n      }\r\n    }}\r\n  />\r\n);\r\n\r\nAdminRoute.propTypes = {\r\n  auth: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps)(AdminRoute);","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst SubadminRoute = ({ component: Component, auth, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={props => {\r\n      if (auth.isAuthenticated === false) {\r\n        return <Redirect to=\"/login\" />\r\n      }\r\n      if (auth.user.occupation === 'subadmin') {\r\n        return <Component {...props} />\r\n      } else {\r\n        return <Redirect to={`/${auth.user.occupation}`} />\r\n      }\r\n    }}\r\n  />\r\n);\r\n\r\nSubadminRoute.propTypes = {\r\n  auth: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps)(SubadminRoute);","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst OperatorRoute = ({ component: Component, auth, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={props => {\r\n      if (auth.isAuthenticated === false) {\r\n        return <Redirect to=\"/login\" />\r\n      }\r\n      if (auth.user.occupation === 'operator' || auth.user.occupation === 'subadmin' || auth.user.occupation === 'admin') {\r\n        return <Component {...props} />\r\n      } else {\r\n        return <Redirect to={`/${auth.user.occupation}`} />\r\n      }\r\n    }}\r\n  />\r\n);\r\n\r\nOperatorRoute.propTypes = {\r\n  auth: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps)(OperatorRoute);","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst AccountantRoute = ({ component: Component, auth, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={props => {\r\n      if (auth.isAuthenticated === false) {\r\n        return <Redirect to=\"/login\" />\r\n      }\r\n      if (auth.user.occupation === 'accountant') {\r\n        return <Component {...props} />\r\n      } else {\r\n        return <Redirect to={`/${auth.user.occupation}`} />\r\n      }\r\n    }}\r\n  />\r\n);\r\n\r\nAccountantRoute.propTypes = {\r\n  auth: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps)(AccountantRoute);","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst DisinfectorRoute = ({ component: Component, auth, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={props => {\r\n      if (auth.isAuthenticated === false) {\r\n        return <Redirect to=\"/login\" />\r\n      }\r\n      if (auth.user.occupation === 'disinfector') {\r\n        return <Component {...props} />\r\n      } else {\r\n        return <Redirect to={`/${auth.user.occupation}`} />\r\n      }\r\n    }}\r\n  />\r\n);\r\n\r\nDisinfectorRoute.propTypes = {\r\n  auth: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps)(DisinfectorRoute);","import React, { Component } from 'react';\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { logoutUser } from '../../actions/authActions';\r\nimport { clearCurrentProfile } from '../../actions/profileActions';\r\nimport { setTheme } from '../../actions/optionsActions';\r\n\r\nclass Navbar extends Component {\r\n  onLogoutClick = (e) => {\r\n    e.preventDefault();\r\n    this.props.clearCurrentProfile();\r\n    this.props.logoutUser(this.props.history);\r\n  }\r\n\r\n  changeTheme = (theme) => {\r\n    this.props.setTheme(theme);\r\n  };\r\n\r\n\r\n  // fullRefresh = () => {\r\n  //   window.location.reload(true);\r\n  // };\r\n\r\n  render() {\r\n    const { isAuthenticated, user } = this.props.auth;\r\n\r\n    // const showRefreshButtton = (\r\n    //   <li className=\"nav-item\">\r\n    //     <button className=\"btn btn-grey nav-link\" onClick={() => this.fullRefresh()}>Обновить Pro Team</button>\r\n    //   </li>\r\n    // );\r\n\r\n    const authLinks = (\r\n      <div className=\"authLinks\">\r\n        {/* <div className=\"dropdown\">\r\n          <button type=\"button\" className=\"btn btn-primary dropdown-toggle align-baseline mr-2\" data-toggle=\"dropdown\">Чат</button>\r\n          <div className=\"dropdown-menu\">\r\n            <li className=\"nav-item\">\r\n              <Link to=\"/chat\" className=\"nav-link\">Чат</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link to=\"/anons\" className=\"nav-link\">Анонсы</Link>\r\n            </li>\r\n          </div>\r\n        </div> */}\r\n\r\n\r\n        <li className=\"nav-item list-inline-item\">\r\n          <Link to=\"/login\" onClick={this.onLogoutClick} className=\"nav-link logout\">\r\n            <i className=\"fas fa-sign-out-alt\"></i> Logout\r\n          </Link>\r\n        </li>\r\n      </div>\r\n    );\r\n\r\n\r\n    const guestLinks = (\r\n      <div className=\"guestLinks\">\r\n        <li className=\"nav-item list-inline-item\">\r\n          <Link className=\"nav-link\" to=\"/login\">\r\n            Login\r\n          </Link>\r\n        </li>\r\n      </div>\r\n    );\r\n\r\n\r\n    const disinfectorLinks = (\r\n      <div className=\"disinfectorLinks\">\r\n\r\n        <div className=\"dropdown\">\r\n          <button type=\"button\" className=\"btn btn-primary dropdown-toggle align-baseline mr-2\" data-toggle=\"dropdown\">Функции</button>\r\n          <div className=\"dropdown-menu\">\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/disinfector/stats\">Статистика</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/disinfector/queries\">Запросы</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/returned-queries\">Возвращенные Запросы</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/fail/see\">Некач. и Повт. Заказы</Link>\r\n            </li>\r\n            {/* {showRefreshButtton} */}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"dropdown\">\r\n          <button type=\"button\" className=\"btn btn-primary dropdown-toggle align-baseline mr-2\" data-toggle=\"dropdown\">Материалы</button>\r\n          <div className=\"dropdown-menu\">\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/disinfector/distrib-materials\">Раздать пользователям</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/disinfector/mat-com-history\">Ваши приходы</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/disinfector/mat-distrib-history\">Ваши раздачи</Link>\r\n            </li>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n\r\n\r\n    const operatorLinks = (\r\n      <div className=\"operatorLinks\">\r\n        <div className=\"dropdown\">\r\n          <button type=\"button\" className=\"btn btn-primary dropdown-toggle align-baseline mr-2\" data-toggle=\"dropdown\">Стат.</button>\r\n          <div className=\"dropdown-menu\">\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/operator/stats\">Статистика</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/fail/see\">Некач. и Повт. Заказы</Link>\r\n            </li>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"dropdown\">\r\n          <button type=\"button\" className=\"btn btn-primary dropdown-toggle align-baseline mr-2\" data-toggle=\"dropdown\">Функции</button>\r\n          <div className=\"dropdown-menu\">\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/operator/order-queries\">Запросы</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/clients\">Клиенты</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/operator/repeat-orders\">Повторные продажи</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/not-completed-orders\">Невып. Заказы</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/search-orders\">Поиск заказов</Link>\r\n            </li>\r\n            {/* {showRefreshButtton} */}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"dropdown\">\r\n          <button type=\"button\" className=\"btn btn-primary dropdown-toggle align-baseline mr-2\" data-toggle=\"dropdown\">Добавить</button>\r\n          <div className=\"dropdown-menu\">\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/create-order\">Заказ</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/add-client\">Клиента</Link>\r\n            </li>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n\r\n\r\n    const accountantLinks = (\r\n      <div className=\"accountantLinks\">\r\n        <div className=\"dropdown\">\r\n          <button type=\"button\" className=\"btn btn-primary dropdown-toggle align-baseline mr-2\" data-toggle=\"dropdown\">Стат.</button>\r\n          <div className=\"dropdown-menu\">\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/accountant/stats\">Статистика</Link>\r\n            </li>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"dropdown\">\r\n          <button type=\"button\" className=\"btn btn-primary dropdown-toggle align-baseline mr-2\" data-toggle=\"dropdown\">Функции</button>\r\n          <div className=\"dropdown-menu\">\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/accountant/queries\">Запросы</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/clients\">Клиенты</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/search-orders\">Поиск заказов</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/fail/see\">Некач. и Повт. Заказы</Link>\r\n            </li>\r\n            {/* {showRefreshButtton} */}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n\r\n\r\n    const subadminLinks = (\r\n      <div className=\"subadminLinks\">\r\n        <div className=\"dropdown\">\r\n          <button type=\"button\" className=\"btn btn-primary dropdown-toggle align-baseline mr-2\" data-toggle=\"dropdown\">Стат.</button>\r\n          <div className=\"dropdown-menu\">\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/subadmin/stats\">Ваша Стат.</Link>\r\n            </li>\r\n\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/admin/stats\">Общая Стат.</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/admin/disinf-stats\">Стат. Дезинфекторов</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/admin/operator-stats\">Стат. Оператора / Админа</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/admin/adv-stats\">Стат. Рекламы</Link>\r\n            </li>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"dropdown\">\r\n          <button type=\"button\" className=\"btn btn-primary dropdown-toggle align-baseline mr-2\" data-toggle=\"dropdown\">Функции</button>\r\n          <div className=\"dropdown-menu\">\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/subadmin/orders\">Ваши Заказы</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/subadmin/queries\">Запросы</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/returned-queries\">Возвращенные Запросы</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/search-orders\">Поиск заказов</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/clients\">Клиенты</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/fail/see\">Некач. и Повт. Заказы</Link>\r\n            </li>\r\n            {/* {showRefreshButtton} */}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"dropdown\">\r\n          <button type=\"button\" className=\"btn btn-primary dropdown-toggle align-baseline mr-2\" data-toggle=\"dropdown\">Материалы</button>\r\n          <div className=\"dropdown-menu\">\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/subadmin/material-coming-history\">Приходы</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/subadmin/material-distrib-history\">Раздачи</Link>\r\n            </li>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"dropdown\">\r\n          <button type=\"button\" className=\"btn btn-primary dropdown-toggle align-baseline mr-2\" data-toggle=\"dropdown\">Добавить</button>\r\n          <div className=\"dropdown-menu\">\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/subadmin/materials\">Материалы Дезинфектору</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/add-client\">Клиента</Link>\r\n            </li>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n\r\n\r\n    const adminLinks = (\r\n      <div className=\"adminLinks\">\r\n\r\n        <div className=\"dropdown\">\r\n          <button type=\"button\" className=\"btn btn-primary dropdown-toggle align-baseline mr-2\" data-toggle=\"dropdown\">Стат.</button>\r\n          <div className=\"dropdown-menu\">\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/admin/stats\">Общая Статистика</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/admin/disinf-stats\">Статистика Дезинфекторов</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/admin/operator-stats\">Стат. Оператора / Админа</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/admin/adv-stats\">Статистика Рекламы</Link>\r\n            </li>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"dropdown\">\r\n          <button type=\"button\" className=\"btn btn-primary dropdown-toggle align-baseline mr-2\" data-toggle=\"dropdown\">Функции</button>\r\n          <div className=\"dropdown-menu\">\r\n            {/* <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/admin/order-queries\">Запросы</Link>\r\n            </li> */}\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/clients\">Клиенты</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/fail/see\">Некач. и Повт. Заказы</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/not-completed-orders\">Невып. Заказы</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/search-orders\">Поиск заказов</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/admin/users\">Пользователи</Link>\r\n            </li>\r\n            {/* {showRefreshButtton} */}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"dropdown\">\r\n          <button type=\"button\" className=\"btn btn-primary dropdown-toggle align-baseline mr-2\" data-toggle=\"dropdown\">Материалы</button>\r\n          <div className=\"dropdown-menu\">\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/admin/material-coming-history\">Приходы</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/admin/material-history\">Раздачи</Link>\r\n            </li>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"dropdown\">\r\n          <button type=\"button\" className=\"btn btn-primary dropdown-toggle align-baseline mr-2\" data-toggle=\"dropdown\">Добавить</button>\r\n          <div className=\"dropdown-menu\">\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/admin/material-coming\">Приход Материалов</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/admin/materials\">Материалы Пользователю</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              {/* <Link className=\"nav-link\" to=\"/admin/add-client\">Клиента</Link> */}\r\n              <Link className=\"nav-link\" to=\"/add-client\">Клиента</Link>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <Link className=\"nav-link\" to=\"/register\">Новый Пользователь</Link>\r\n            </li>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n\r\n\r\n    return (\r\n      <nav className=\"navbar navbar-expand-lg navbar-dark bg-primary pt-0 pb-0\" id=\"navbar\">\r\n        <div className=\"container pt-2 pb-2 pl-0 pr-0\">\r\n          <Link to={`/${user.occupation}`} className=\"navbar-brand p-2\">ProDez</Link>\r\n\r\n          {this.props.options.theme === 'light' ? (\r\n            <button className=\"navbar-brand\" onClick={() => this.changeTheme('dark')}><i className=\"fas fa-moon\"></i></button>\r\n          ) : (\r\n            <button className=\"navbar-brand\" onClick={() => this.changeTheme('light')}><i className=\"fas fa-sun\"></i></button>\r\n          )}\r\n\r\n          <button\r\n            className=\"navbar-toggler\"\r\n            type=\"button\"\r\n            data-toggle=\"collapse\"\r\n            data-target=\"#navbarCollapse\">\r\n            <img src=\"../img/hamburger.svg\" className=\"hamburger\" alt=\"Hamburger\" />\r\n          </button>\r\n          <div className=\"collapse navbar-collapse\" id=\"navbarCollapse\">\r\n            <ul className=\"navbar-nav ml-auto list-inline\">\r\n              {user.occupation === 'admin' ? adminLinks : ('')}\r\n              {user.occupation === 'subadmin' ? subadminLinks : ('')}\r\n              {user.occupation === 'accountant' ? accountantLinks : ('')}\r\n              {user.occupation === 'operator' ? operatorLinks : ('')}\r\n              {user.occupation === 'disinfector' ? disinfectorLinks : ('')}\r\n              {isAuthenticated ? authLinks : guestLinks}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  options: state.options\r\n});\r\n\r\nexport default connect(mapStateToProps, { logoutUser, clearCurrentProfile, setTheme })(withRouter(Navbar));","import {\r\n  SET_THEME\r\n} from './types';\r\n\r\n\r\nexport const setTheme = (theme) => (dispatch) => {\r\n  // edit localStorage\r\n  localStorage.setItem('proTeamTheme', theme);\r\n\r\n  // edit in redux\r\n  dispatch({\r\n    type: SET_THEME,\r\n    payload: theme\r\n  });\r\n};","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nclass Footer extends Component {\r\n  goBack = () => {\r\n    this.props.history.goBack();\r\n  };\r\n\r\n  scrollTop = () => {\r\n    window.scrollTo({ top: 0, behavior: 'smooth' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"footer bg-light\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-8 col-sm-7 col-6 p-0\">\r\n            <button\r\n              className=\"btn btn-primary btn-block\"\r\n              onClick={this.goBack}\r\n            >\r\n              <i className=\"fas fa-arrow-circle-left\"></i> Назад\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"col-md-4 col-sm-5 col-6 p-0\">\r\n            <button\r\n              className=\"btn btn-warning btn-block ml-2\"\r\n              onClick={this.scrollTop}\r\n            >\r\n              <i className=\"fas fa-arrow-circle-up\"></i> Наверх\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth\r\n});\r\n\r\nexport default connect(mapStateToProps, {})(withRouter(Footer));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport spinner from './spinner.gif';\r\nimport whiteSpinner from './white-spinner.gif';\r\n\r\nclass Spinner extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"spinner\">\r\n        {this.props.options.theme === 'dark' ? (\r\n          <img\r\n            src={whiteSpinner}\r\n            alt=\"Loading...\"\r\n            className=\"mt-4\"\r\n            style={{ width: '100px', margin: 'auto', display: 'block' }} />\r\n        ) : (\r\n            <img\r\n              src={spinner}\r\n              alt=\"Loading...\"\r\n              style={{ width: '220px', margin: 'auto', display: 'block' }} />\r\n          )}\r\n      </div>\r\n    )\r\n  }\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  options: state.options,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps)(withRouter(Spinner));","import axios from 'axios';\r\nimport {\r\n  GET_ERRORS,\r\n\r\n  SET_LOADING_ORDER_QUERIES_FOR_ADMIN,\r\n  SET_LOADING_ADMIN_STATS,\r\n  SET_LOADING_DISINFECTORS,\r\n  SET_LOADING_OPERATORS,\r\n  SET_LOADING_ADD_MATERIAL_EVENTS,\r\n  LOADING_SORTED_ORDERS_ADMIN,\r\n  LOADING_CUR_MAT,\r\n  LOADING_CLIENTS,\r\n\r\n  GET_SORTED_ORDERS_ADMIN,\r\n  GET_ORDER_QUERIES_FOR_ADMIN,\r\n  GET_ADMIN_MONTH_STATS,\r\n  GET_ADMIN_WEEK_STATS,\r\n  GET_ADMIN_DAY_STATS,\r\n  GET_ADV_STATS,\r\n  GET_OPERATOR_STATS,\r\n  GET_ALL_DISINFECTORS_FOR_ADMIN,\r\n  GET_ALL_OPERATORS_FOR_ADMIN,\r\n  GET_ALL_OPERATORS_AND_ADMINS_FOR_ADMIN,\r\n  GET_ADD_MAT_EVENTS_MONTH,\r\n  GET_ADD_MAT_EVENTS_WEEK,\r\n  DISINF_STATS_MONTH_ADMIN,\r\n  DISINF_STATS_MONTH_WEEK,\r\n  DISINF_STATS_DAY_ADMIN,\r\n  ADD_MAT_DISINFECTOR,\r\n  GET_CURR_MAT_ADMIN,\r\n  UPDATE_MAT_COMING,\r\n  MAT_COMING_MONTH,\r\n  MAT_COMING_WEEK,\r\n  SEARCH_CLIENTS,\r\n  CLIENT_BY_ID,\r\n  SET_ORDERS_OF_CLIENT,\r\n  SET_LOADING_CLIENT_ORDERS,\r\n  GET_USER_BY_ID,\r\n\r\n  CLEAR_STATS_DATA_ADMIN,\r\n  DELETE_QUERY_FROM_STATE,\r\n  REMOVE_DISABLED_USER_FROM_DOM\r\n} from './types';\r\n\r\n\r\nexport const getSortedOrders = (date) => (dispatch) => {\r\n  dispatch(setLoadingSortedOrders());\r\n  axios.post('/admin/get-sorted-orders', { date: date })\r\n    .then(res =>\r\n      dispatch({\r\n        type: GET_SORTED_ORDERS_ADMIN,\r\n        payload: res.data,\r\n        date: date\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\nexport const getQueriesForAdmin = () => (dispatch) => {\r\n  dispatch(setLoadingQueriesForAdmin());\r\n  axios.post('/admin/get-order-queries-for-admin')\r\n    .then(res =>\r\n      dispatch({\r\n        type: GET_ORDER_QUERIES_FOR_ADMIN,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\nexport const adminConfirmsOrderQuery = (object, history) => (dispatch) => {\r\n  // delete query from global state because the query should not stay in queries page\r\n  dispatch(deleteQuery(object.orderId));\r\n\r\n  axios.post('/admin/admin-confirms-order-query', { object: object })\r\n    .then(() => history.push('/admin/order-queries'))\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\nexport const getGenStatsForAdmin = (object) => (dispatch) => {\r\n  dispatch(loadingStats());\r\n\r\n  axios.post('/stats/for-admin-general', { object })\r\n    .then(res => {\r\n\r\n      if (object.type === 'month') {\r\n        return dispatch({\r\n          type: GET_ADMIN_MONTH_STATS,\r\n          payload: res.data\r\n        });\r\n\r\n      } else if (object.type === 'week') {\r\n        return dispatch({\r\n          type: GET_ADMIN_WEEK_STATS,\r\n          payload: res.data\r\n        });\r\n\r\n      } else if (object.type === 'day') {\r\n        return dispatch({\r\n          type: GET_ADMIN_DAY_STATS,\r\n          payload: res.data\r\n        });\r\n      }\r\n    })\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\nexport const getAdvStats = (object) => (dispatch) => {\r\n  dispatch(loadingStats());\r\n  axios.post('/stats/adv-stats', { object: object })\r\n    .then(res =>\r\n      dispatch({\r\n        type: GET_ADV_STATS,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\n// get operator stats\r\nexport const getOperatorStats = (object) => (dispatch) => {\r\n  dispatch(loadingStats());\r\n  axios.post('/stats/operator-stats', { object: object })\r\n    .then(res =>\r\n      dispatch({\r\n        type: GET_OPERATOR_STATS,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\nexport const getAllDisinfectorsAndSubadmins = () => (dispatch) => {\r\n  dispatch(loadingDisinfectors());\r\n\r\n  const object = {\r\n    method: 'role',\r\n    roles: ['disinfector', 'subadmin']\r\n  };\r\n\r\n  // axios.post('/admin/get-all-disinfectors-and-subadmins')\r\n  axios.post('/get-users', { object })\r\n    .then(res =>\r\n      dispatch({\r\n        type: GET_ALL_DISINFECTORS_FOR_ADMIN,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\nexport const getAllOperators = () => (dispatch) => {\r\n  dispatch(loadingOperators());\r\n\r\n  const object = {\r\n    method: 'role',\r\n    roles: ['operator']\r\n  };\r\n\r\n  // axios.post('/admin/get-all-operators')\r\n  axios.post('/get-users', { object })\r\n    .then(res =>\r\n      dispatch({\r\n        type: GET_ALL_OPERATORS_FOR_ADMIN,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\nexport const getAllOperatorsAndAmins = () => (dispatch) => {\r\n  dispatch(loadingOperators());\r\n\r\n  const object = {\r\n    method: 'role',\r\n    roles: ['operator', 'admin']\r\n  };\r\n\r\n  // axios.post('/admin/get-all-operators-and-admins')\r\n  axios.post('/get-users', { object })\r\n    .then(res =>\r\n      dispatch({\r\n        type: GET_ALL_OPERATORS_AND_ADMINS_FOR_ADMIN,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\nexport const addMaterialToDisinfector = (object, occupation, history) => (dispatch) => {\r\n  axios.post('/admin/add-materials-to-disinfector', { object: object })\r\n    .then(res => {\r\n      dispatch({\r\n        type: ADD_MAT_DISINFECTOR,\r\n        payload: res.data\r\n      });\r\n      return history.push(`/${occupation}`);\r\n    })\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\nexport const getAddMaterialEvents = (object) => (dispatch) => {\r\n  dispatch(loadingAddMatEvents());\r\n\r\n  axios.post('/admin/get-add-material-events', { object })\r\n    .then(res => {\r\n      if (object.type === 'month') {\r\n        return dispatch({\r\n          type: GET_ADD_MAT_EVENTS_MONTH,\r\n          payload: res.data\r\n        });\r\n\r\n      } else if (object.type === 'week') {\r\n        return dispatch({\r\n          type: GET_ADD_MAT_EVENTS_WEEK,\r\n          payload: res.data\r\n        });\r\n\r\n      }\r\n    })\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\nexport const getDisinfectorStatsForAdmin = (object) => (dispatch) => {\r\n  dispatch(loadingStats());\r\n\r\n  axios.post('/stats/for-admin-disinfector-stats', { object })\r\n    .then(res => {\r\n\r\n      if (object.type === 'month') {\r\n        return dispatch({\r\n          type: DISINF_STATS_MONTH_ADMIN,\r\n          payload: res.data\r\n        });\r\n\r\n      } else if (object.type === 'week') {\r\n        return dispatch({\r\n          type: DISINF_STATS_MONTH_WEEK,\r\n          payload: res.data\r\n        });\r\n\r\n      } else if (object.type === 'day') {\r\n        return dispatch({\r\n          type: DISINF_STATS_DAY_ADMIN,\r\n          payload: res.data\r\n        });\r\n      }\r\n    })\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\nexport const getCurrentMaterials = () => (dispatch) => {\r\n  dispatch(loadingCurMat());\r\n  axios.post('/admin/get-current-materials')\r\n    .then(res =>\r\n      dispatch({\r\n        type: GET_CURR_MAT_ADMIN,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    )\r\n};\r\n\r\n\r\n// add material coming\r\nexport const addMatComing = (object, history) => (dispatch) => {\r\n  axios.post('/admin/add-mat-coming', { object: object })\r\n    .then(res => {\r\n      dispatch({\r\n        type: UPDATE_MAT_COMING,\r\n        payload: res.data\r\n      });\r\n      history.push('/admin');\r\n    })\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    )\r\n};\r\n\r\n\r\nexport const getMaterialComingEvents = (object) => (dispatch) => {\r\n  dispatch(loadingStats());\r\n\r\n  axios.post('/admin/get-mat-coming', { object })\r\n    .then(res => {\r\n      if (object.type === 'month') {\r\n        return dispatch({\r\n          type: MAT_COMING_MONTH,\r\n          payload: res.data\r\n        });\r\n\r\n      } else if (object.type === 'week') {\r\n        return dispatch({\r\n          type: MAT_COMING_WEEK,\r\n          payload: res.data\r\n        });\r\n\r\n      }\r\n    })\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    )\r\n};\r\n\r\n\r\nexport const addClient = (object, history, occupation) => (dispatch) => {\r\n  axios.post('/admin/add-client', { object: object })\r\n    .then(res => history.push(`/${occupation}`))\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      })\r\n    )\r\n};\r\n\r\n\r\nexport const editClient = (object, history) => (dispatch) => {\r\n  axios.post('/admin/edit-client', { object })\r\n    .then(res => history.push(`/client/${object.id}`))\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      })\r\n    )\r\n};\r\n\r\n\r\nexport const changeContractNumbers = (object, history) => (dispatch) => {\r\n  axios.post('/admin/change-contract-numbers', { object })\r\n    .then(res =>\r\n      dispatch({\r\n        type: CLIENT_BY_ID,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    )\r\n};\r\n\r\n\r\nexport const searchClients = (object) => (dispatch) => {\r\n  dispatch(loadingClients(object));\r\n  axios.post('/admin/search-clients', { object: object })\r\n    .then(res =>\r\n      dispatch({\r\n        type: SEARCH_CLIENTS,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\nexport const clientById = (id) => (dispatch) => {\r\n  dispatch(loadingClients({}));\r\n  axios.post('/admin/client-by-id', { id: id })\r\n    .then(res =>\r\n      dispatch({\r\n        type: CLIENT_BY_ID,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\nexport const getOrdersOfClient = (object) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_LOADING_CLIENT_ORDERS\r\n  });\r\n\r\n  axios.post('/admin/get-orders-of-client', { object })\r\n    .then(res =>\r\n      dispatch({\r\n        type: SET_ORDERS_OF_CLIENT,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );;\r\n};\r\n\r\n\r\nexport const changePassword = (object, history) => (dispatch) => {\r\n  axios.post('/change-password', { object: object })\r\n    .then(() => history.push('/admin/users'))\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\nexport const getUserById = (userId) => (dispatch) => {\r\n  axios.post('/get-user-by-id', { userId: userId })\r\n    .then(res =>\r\n      dispatch({\r\n        type: GET_USER_BY_ID,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\nexport const setUserById = (user) => (dispatch) => {\r\n  dispatch({ type: GET_USER_BY_ID, payload: user });\r\n};\r\n\r\n\r\nexport const editUser = (object, history) => (dispatch) => {\r\n  axios.post('/edit-user', { object: object })\r\n    .then(() => history.push('/admin/users'))\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\nexport const disableUser = (object, history) => (dispatch) => {\r\n  // remode diabled user from Global State\r\n  dispatch({\r\n    type: REMOVE_DISABLED_USER_FROM_DOM,\r\n    payload: object.id\r\n  });\r\n\r\n  axios.post('/disable-user', { object: object })\r\n    .then(() => history.push('/admin/users'))\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\nexport const addNewMaterial = (object, history) => (dispatch) => {\r\n  axios.post('/admin/new-material', { object })\r\n    .then(() => history.push('/admin'))\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\nexport const deleteMaterialFromDB = (object, history) => (dispatch) => {\r\n  axios.post('/admin/delete-material', { object })\r\n    .then(() => history.push('/admin'))\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\nexport const setDisinfectorMaterials = (object, history) => (dispatch) => {\r\n  axios.post('/admin/set-disinfector-materials', { object })\r\n    .then(() => history.push('/admin'))\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\nexport const setCurrentMaterials = (object, history) => (dispatch) => {\r\n  axios.post('/admin/set-current-materials', { object })\r\n    .then(() => history.push('/admin/material-coming'))\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\n// delete query from global state\r\nexport const deleteQuery = (id) => {\r\n  return {\r\n    type: DELETE_QUERY_FROM_STATE,\r\n    payload: id\r\n  }\r\n}\r\n\r\n\r\nexport const clearStatsData = () => (dispatch) => {\r\n  return dispatch({\r\n    type: CLEAR_STATS_DATA_ADMIN,\r\n    payload: {}\r\n  });\r\n};\r\n\r\n\r\n// Loading sorted orders\r\nexport const setLoadingSortedOrders = () => {\r\n  return {\r\n    type: LOADING_SORTED_ORDERS_ADMIN\r\n  };\r\n};\r\n\r\n\r\n// Loading order queries for admin\r\nexport const setLoadingQueriesForAdmin = () => {\r\n  return {\r\n    type: SET_LOADING_ORDER_QUERIES_FOR_ADMIN\r\n  };\r\n};\r\n\r\n\r\n// Loading stats for admin\r\nexport const loadingStats = () => {\r\n  return {\r\n    type: SET_LOADING_ADMIN_STATS\r\n  };\r\n}\r\n\r\n\r\n// Loading disinfectors for admin\r\nexport const loadingDisinfectors = () => {\r\n  return {\r\n    type: SET_LOADING_DISINFECTORS\r\n  };\r\n}\r\n\r\n\r\n// Loading operators for admin\r\nexport const loadingOperators = () => {\r\n  return {\r\n    type: SET_LOADING_OPERATORS\r\n  };\r\n}\r\n\r\n\r\n// Loading add material events for admin\r\nexport const loadingAddMatEvents = () => {\r\n  return {\r\n    type: SET_LOADING_ADD_MATERIAL_EVENTS\r\n  };\r\n}\r\n\r\n\r\n// loading current materials\r\nexport const loadingCurMat = () => {\r\n  return {\r\n    type: LOADING_CUR_MAT\r\n  };\r\n}\r\n\r\nexport const loadingClients = (object) => {\r\n  if (!object.method) {\r\n    object.method = '';\r\n  }\r\n  if (!object.payload) {\r\n    object.payload = '';\r\n  }\r\n  return {\r\n    type: LOADING_CLIENTS,\r\n    payload: object\r\n  };\r\n}","import axios from 'axios';\r\nimport {\r\n  CORPORATE_CLIENTS,\r\n  GET_ALL_USERS,\r\n  GET_DISINFECTORS,\r\n  SET_LOADING,\r\n  SET_LOADING_REPEAT_ORDER,\r\n  GET_ERRORS,\r\n  GET_ALL_ORDERS,\r\n  GET_ORDER_BY_ID,\r\n  SEARCH_ORDERS,\r\n  SET_SEARCH_ORDER_METHOD,\r\n  GET_REPEAT_ORDER_FORM,\r\n  GET_COMPLETE_ORDERS_IN_MONTH,\r\n  SET_COMP_ORDER_METHOD_INPUT,\r\n\r\n  GET_SORTED_ORDERS_ADMIN,\r\n  GET_SORTED_ORDERS,\r\n  GET_SORTED_ORDERS_SUBADMIN,\r\n\r\n  // ADD_ORDER\r\n} from './types';\r\n\r\n\r\n// get corporate clients\r\nexport const getCorporateClients = () => (dispatch) => {\r\n  axios.post('/order/get-corporate-clients')\r\n    .then(res =>\r\n      dispatch({\r\n        type: CORPORATE_CLIENTS,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\n// get all users\r\nexport const getAllUsers = () => (dispatch) => {\r\n  dispatch(setLoading());\r\n\r\n  const object = {\r\n    method: 'all',\r\n    roles: []\r\n  };\r\n\r\n  // axios.post('/order/get-all-users')\r\n  axios.post('/get-users', { object })\r\n    .then(res =>\r\n      dispatch({\r\n        type: GET_ALL_USERS,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n}\r\n\r\n\r\n// get disinfectors and subadmins\r\nexport const getDisinfectors = () => (dispatch) => {\r\n  dispatch(setLoading());\r\n\r\n  const object = {\r\n    method: 'role',\r\n    roles: ['disinfector', 'subadmin']\r\n  };\r\n\r\n  // axios.get('/order/get-all-disinfectors')\r\n  axios.post('/get-users', { object })\r\n    .then(res => {\r\n      dispatch({\r\n        type: GET_DISINFECTORS,\r\n        payload: res.data\r\n      })\r\n    })\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\n// create new order\r\nexport const createOrder = (newOrder, history, occupation) => (dispatch) => {\r\n  axios.post('/order/create-order', newOrder)\r\n    .then(res => {\r\n      // clearSortedOrders(dispatch);\r\n      return history.push(`/${occupation}`);\r\n    })\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      })\r\n    );\r\n};\r\n\r\n\r\n// get order to create repeated order\r\nexport const getRepeatOrderForm = (id) => (dispatch) => {\r\n  dispatch(setLoadingRepeatOrder());\r\n  axios.post('/operator/repeat-order-form', { id: id })\r\n    .then(res =>\r\n      dispatch({\r\n        type: GET_REPEAT_ORDER_FORM,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\nexport const createRepeatOrder = (order, history, occupation) => (dispatch) => {\r\n  axios.post('/order/create-repeat-order', { order: order })\r\n    .then(() => history.push(`/${occupation}`))\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      })\r\n    );\r\n};\r\n\r\n\r\n// edit order\r\nexport const getOrderForEdit = (id) => (dispatch) => {\r\n  dispatch(setLoading());\r\n  axios.post('/order/get-order-by-id', { id: id })\r\n    .then(res =>\r\n      dispatch({\r\n        type: GET_ORDER_BY_ID,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      })\r\n    );\r\n};\r\n\r\n\r\n// edit order\r\nexport const editOrder = (order, history, occupation) => (dispatch) => {\r\n  axios.post('/order/edit', { order: order })\r\n    .then(res => {\r\n      // clearSortedOrders(dispatch);\r\n      return history.push(`/${occupation}`);\r\n    })\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\n// delete order\r\nexport const deleteOrder = (object, history, occupation) => (dispatch) => {\r\n  axios.post('/order/delete-order', { object: object })\r\n    .then(result => {\r\n      // clearSortedOrders(dispatch);\r\n      return history.push(`/${occupation}`);\r\n    })\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      })\r\n    );\r\n};\r\n\r\n\r\n// get orders for logged in disinfector\r\nexport const getOrders = (userId) => (dispatch) => {\r\n  dispatch(setLoading());\r\n  axios.post('/order/get-my-orders', { userId: userId })\r\n    .then(res =>\r\n      dispatch({\r\n        type: GET_ALL_ORDERS,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\n// add disinfector comment to order\r\nexport const addDisinfectorComment = (object, history, occupation) => (dispatch) => {\r\n  axios.post('/order/addDisinfectorComment', object)\r\n    .then(res => history.push(`/${occupation}`))\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\n// get one order by id\r\nexport const getOrderById = (id) => (dispatch) => {\r\n  dispatch(setLoading());\r\n  axios.post('/order/get-order-by-id', { id: id })\r\n    .then(res =>\r\n      dispatch({\r\n        type: GET_ORDER_BY_ID,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\n// search orders\r\nexport const searchOrders = (object) => (dispatch) => {\r\n  dispatch(setLoading());\r\n\r\n  // search search method and search input value\r\n  dispatch(setSearchOrderMethod(object));\r\n\r\n  axios.post('/order/search-orders', { object: object })\r\n    .then(res =>\r\n      dispatch({\r\n        type: SEARCH_ORDERS,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\n// submit completed order\r\nexport const submitCompleteOrder = (object, history, occupation) => (dispatch) => {\r\n  axios.post('/order/submit-complete-order', { order: object })\r\n    .then(() => history.push(`/${occupation}`))\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      })\r\n    );\r\n};\r\n\r\n\r\n// disinfectors gets his completed orders for some month\r\nexport const getCompleteOrdersInMonth = (object) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_COMP_ORDER_METHOD_INPUT,\r\n    payload: object\r\n  });\r\n\r\n  dispatch(setLoading());\r\n  axios.post('/order/get-complete-order-in-month', { object })\r\n    .then(res =>\r\n      dispatch({\r\n        type: GET_COMPLETE_ORDERS_IN_MONTH,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n\r\n};\r\n\r\n\r\n// set search order method and input\r\nexport const setSearchOrderMethod = (object) => {\r\n  return {\r\n    type: SET_SEARCH_ORDER_METHOD,\r\n    payload: object\r\n  };\r\n};\r\n\r\n\r\n// when new order is created/edited/deleted, admin/operator/subadmin get redirected to their calendar page. In that page, we have to load sortedOrders again, because we want to see changes (changes = created/edited/deleted order) right away. To load sortedOrders again, we have set the sortedOrders field in reducer to empty array\r\nexport const clearSortedOrders = (dispatch) => {\r\n  // for admin\r\n  dispatch({\r\n    type: GET_SORTED_ORDERS_ADMIN,\r\n    payload: []\r\n  });\r\n\r\n  //  for operator\r\n  dispatch({\r\n    type: GET_SORTED_ORDERS,\r\n    payload: []\r\n  });\r\n\r\n  // for subadmin\r\n  dispatch({\r\n    type: GET_SORTED_ORDERS_SUBADMIN,\r\n    payload: []\r\n  });\r\n};\r\n\r\n\r\n// Disinfector loading\r\nexport const setLoading = () => {\r\n  return {\r\n    type: SET_LOADING\r\n  };\r\n};\r\n\r\nexport const setLoadingRepeatOrder = () => {\r\n  return {\r\n    type: SET_LOADING_REPEAT_ORDER\r\n  };\r\n}","// эта функция показывает закрыт ли заказ полностью\r\n// возвращает true - если заказ полностью закрыт\r\n// false - в противном случае\r\n\r\nconst orderFullyProcessed = (order = {}) => {\r\n  return order.completed && order.operatorDecided && (order.accountantDecided || order.adminDecided);\r\n};\r\n\r\nexport default orderFullyProcessed;","import React, { Component } from 'react';\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { getSortedOrders } from '../../actions/adminActions';\r\nimport { deleteOrder } from '../../actions/orderActions';\r\nimport orderFullyProcessed from '../../utils/orderFullyProcessed';\r\n\r\n// socket.io\r\nimport openSocket from 'socket.io-client';\r\nimport socketLink from '../common/socketLink';\r\n\r\nclass AdmSortedOrders extends Component {\r\n  _isMounted = false;\r\n\r\n  state = {\r\n    date: new Date(),\r\n    sortedOrders: this.props.admin.sortedOrders\r\n  };\r\n\r\n  componentDidMount() {\r\n    this._isMounted = true;\r\n\r\n    const socket = openSocket(socketLink);\r\n\r\n    socket.on('createOrder', data => {\r\n      // check if today\r\n      if (\r\n        new Date(data.order.dateFrom).getDate() === new Date(this.props.date).getDate() &&\r\n        new Date(data.order.dateFrom).getMonth() === new Date(this.props.date).getMonth() &&\r\n        new Date(data.order.dateFrom).getFullYear() === new Date(this.props.date).getFullYear()\r\n      ) {\r\n        this.addOrderToDOM(data.order);\r\n      }\r\n    });\r\n\r\n    socket.on('editOrder', data => {\r\n      // check if today\r\n      // if (\r\n      //   new Date(data.order.dateFrom).getDate() === new Date(this.props.date).getDate() &&\r\n      //   new Date(data.order.dateFrom).getMonth() === new Date(this.props.date).getMonth() &&\r\n      //   new Date(data.order.dateFrom).getFullYear() === new Date(this.props.date).getFullYear()\r\n      // ) {\r\n      //   this.editOrderOnDOM(data.order);\r\n      // }\r\n      this.editOrderOnDOM(data.order);\r\n    });\r\n\r\n    socket.on('deleteOrder', data => {\r\n      // check if today\r\n      if (\r\n        new Date(data.orderDateFrom).getDate() === new Date(this.props.date).getDate() &&\r\n        new Date(data.orderDateFrom).getMonth() === new Date(this.props.date).getMonth() &&\r\n        new Date(data.orderDateFrom).getFullYear() === new Date(this.props.date).getFullYear()\r\n      ) {\r\n        this.removeOrderFromDOM(data.id);\r\n      }\r\n    });\r\n  }\r\n\r\n  addOrderToDOM = (order) => {\r\n    if (this._isMounted) {\r\n      this.setState(prevState => {\r\n        const updatedOrders = [...prevState.sortedOrders];\r\n        updatedOrders.push(order);\r\n        return {\r\n          sortedOrders: updatedOrders\r\n        };\r\n      });\r\n    }\r\n  }\r\n\r\n  editOrderOnDOM = (order) => {\r\n    if (this._isMounted) {\r\n      let ordersInState = [...this.state.sortedOrders];\r\n      for (let i = 0; i < ordersInState.length; i++) {\r\n        if (ordersInState[i]._id.toString() === order._id.toString()) {\r\n          ordersInState[i].disinfectorId = order.disinfectorId;\r\n          ordersInState[i].userCreated = order.userCreated;\r\n          ordersInState[i].userAcceptedOrder = order.userAcceptedOrder;\r\n          ordersInState[i].clientType = order.clientType;\r\n          ordersInState[i].client = order.client;\r\n          ordersInState[i].clientId = order.clientId;\r\n          ordersInState[i].address = order.address;\r\n          ordersInState[i].dateFrom = order.dateFrom;\r\n          ordersInState[i].phone = order.phone;\r\n          ordersInState[i].typeOfService = order.typeOfService;\r\n          ordersInState[i].advertising = order.advertising;\r\n          ordersInState[i].comment = order.comment;\r\n        }\r\n      }\r\n      this.setState({\r\n        sortedOrders: ordersInState\r\n      });\r\n    }\r\n  }\r\n\r\n  removeOrderFromDOM = (id) => {\r\n    if (this._isMounted) {\r\n      let ordersInState = [...this.state.sortedOrders];\r\n      ordersInState = ordersInState.filter(item => item._id.toString() !== id);\r\n      this.setState({\r\n        sortedOrders: ordersInState\r\n      });\r\n    }\r\n  }\r\n\r\n  onClick = (hour, date) => {\r\n    let defaultDateMonth, defaultDateDay, defaultHourString;\r\n    if (new Date(date).getMonth() < 9) {\r\n      defaultDateMonth = `0${new Date(date).getMonth() + 1}`;\r\n    } else {\r\n      defaultDateMonth = `${new Date(date).getMonth() + 1}`;\r\n    }\r\n\r\n    if (new Date(date).getDate() < 10) {\r\n      defaultDateDay = `0${new Date(date).getDate()}`;\r\n    } else {\r\n      defaultDateDay = new Date(date).getDate();\r\n    }\r\n    const defaultDateString = `${new Date(date).getFullYear()}-${defaultDateMonth}-${defaultDateDay}`;\r\n\r\n    if (hour < 10) {\r\n      defaultHourString = `0${hour}:00`;\r\n    } else {\r\n      defaultHourString = `${hour}:00`;\r\n    }\r\n\r\n    this.props.history.push('/create-order', {\r\n      pathname: '/create-order',\r\n      state: { hour: defaultHourString, date: defaultDateString }\r\n    });\r\n  };\r\n\r\n  deleteOrder = (id, clientType, clientPhone, clientId, orderDateFrom) => {\r\n    const object = {\r\n      id: id,\r\n      clientType: clientType,\r\n      clientPhone: clientPhone,\r\n      clientId: clientId,\r\n      orderDateFrom: orderDateFrom\r\n    };\r\n    this.props.deleteOrder(object, this.props.history, this.props.auth.user.occupation);\r\n    // this.props.getSortedOrders(this.state.date);\r\n    window.location.reload();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  }\r\n\r\n  render() {\r\n    let array = [];\r\n    for (let i = 0; i <= 23; i++) {\r\n      array.push({ hour: i, elements: [] });\r\n    }\r\n\r\n    this.state.sortedOrders.forEach(order => {\r\n      array[new Date(order.dateFrom).getHours()].elements.push(order);\r\n    });\r\n\r\n    let renderOrders, colnumber = 6;\r\n\r\n    let everythingToRender = array.map((object, index) => {\r\n      // if (object.elements.length === 1 || object.elements.length === 2) colnumber = 6;\r\n      // if (object.elements.length > 2) colnumber = 4;\r\n      renderOrders = object.elements.map((element, i) =>\r\n        <div className={`col-md-${colnumber} pr-0`} key={i}>\r\n          <div className={`card mt-2 mr-2 order order-bg-${element.disinfectorId.color}`}>\r\n            <div className=\"card-body p-0\">\r\n              <ul className=\"font-bold mb-0 list-unstyled\">\r\n                {element.prevFailedOrder && (\r\n                  <h3><i className=\"fas fas fa-exclamation\"></i> Повторный заказ <i className=\"fas fas fa-exclamation\"></i></h3>\r\n                )}\r\n\r\n                {element.failed && (\r\n                  <h3><i className=\"fas fas fa-exclamation\"></i> Некачественный заказ <i className=\"fas fas fa-exclamation\"></i></h3>\r\n                )}\r\n\r\n                {element.clientType === 'corporate' ? (\r\n                  <React.Fragment>\r\n                    {element.clientId ? (\r\n                      <li>Корпоративный клиент: {element.clientId.name}</li>\r\n                    ) : <li>Корпоративный клиент</li>}\r\n                  </React.Fragment>\r\n                ) : ''}\r\n\r\n                {element.clientType === 'individual' ? (\r\n                  <li>Физический Клиент: {element.client}</li>\r\n                ) : ''}\r\n\r\n                <li>Тел клиента: {element.phone}</li>\r\n                <li>Адрес: {element.address}</li>\r\n                <li>Тип Заказа: {element.typeOfService}</li>\r\n              </ul>\r\n\r\n              <Link\r\n                to={orderFullyProcessed(element) ?\r\n                  `/order-full-details/${element._id}` :\r\n                  `/order-details/${element._id}`\r\n                }\r\n                className=\"btn btn-primary mr-1 mt-2\"\r\n              >\r\n                <i className=\"fas fa-info\"></i> Подробнее\r\n              </Link>\r\n\r\n              <Link\r\n                to={`/edit-order/${element._id}`}\r\n                className=\"btn btn-warning mr-1 mt-2\"\r\n              >\r\n                <i className=\"fas fa-edit\"></i> Редактировать\r\n              </Link>\r\n\r\n              <button className=\"btn btn-danger mt-2\" onClick={() => {\r\n                if (window.confirm('Вы уверены?')) {\r\n                  if (element.clientType === 'corporate') {\r\n                    this.deleteOrder(element._id, element.clientType, element.phone, element.clientId._id, element.dateFrom);\r\n                  } else if (element.clientType === 'individual') {\r\n                    this.deleteOrder(element._id, element.clientType, element.phone, '', element.dateFrom);\r\n                  }\r\n                }\r\n              }}><i className=\"fas fa-trash-alt\"></i> Удалить</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n      return (\r\n        <div className=\"hours\" key={index}>\r\n          <div className=\"help row mt-3\" id={`hour-${object.hour}`}>\r\n            <button\r\n              to=\"/create-order\"\r\n              className=\"btn btn-success mr-3\"\r\n              onClick={this.onClick.bind(this, object.hour, this.props.admin.date)}\r\n            >\r\n              <i className=\"fas fa-plus\"></i>\r\n            </button>\r\n\r\n            <h1 className=\"d-inline mb-0\">{`${object.hour}:00`}</h1>\r\n          </div>\r\n          <div className=\"row\">\r\n            {renderOrders.length > 0 ? (renderOrders) : ''}\r\n          </div>\r\n        </div>\r\n      )\r\n    });\r\n\r\n    return (\r\n      everythingToRender\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  order: state.order,\r\n  admin: state.admin,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getSortedOrders, deleteOrder })(withRouter(AdmSortedOrders));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Calendar from 'react-calendar';\r\nimport Moment from 'react-moment';\r\nimport Spinner from '../common/Spinner';\r\nimport { Swipeable } from 'react-swipeable';\r\n\r\nimport { getSortedOrders } from '../../actions/adminActions';\r\n\r\nimport AdmSortedOrders from './AdmSortedOrders';\r\n\r\nclass Admin extends Component {\r\n  state = {\r\n    date: new Date()\r\n  }\r\n\r\n  // componentDidMount() {\r\n  //   if (\r\n  //     this.props.admin.date &&\r\n  //     this.props.admin.sortedOrders &&\r\n  //     this.props.admin.sortedOrders.length > 0\r\n  //   ) {\r\n  //     this.setState({\r\n  //       date: this.props.admin.date\r\n  //     });\r\n  //   } else {\r\n  //     this.props.getSortedOrders(this.state.date);\r\n  //   }\r\n  // };\r\n\r\n  componentDidMount() {\r\n    this.props.getSortedOrders(this.state.date);\r\n  }\r\n\r\n\r\n  onChange = (date) => {\r\n    // do not send another request if orders are already being loaded\r\n    if (!this.props.admin.loadingSortedOrders) {\r\n      this.setState({\r\n        date: date\r\n      });\r\n      this.props.getSortedOrders(date);\r\n    }\r\n  };\r\n\r\n\r\n  onSwiped = (direction) => {\r\n    let newDate = new Date(this.state.date);\r\n\r\n    if (direction === 'LEFT') {\r\n      // add 1 day to state date\r\n      newDate.setTime(newDate.getTime() + 1000 * 60 * 60 * 24);\r\n\r\n      this.setState({\r\n        date: newDate\r\n      });\r\n    } else if (direction === 'RIGHT') {\r\n      // decrement 1 day from state date\r\n      newDate.setTime(newDate.getTime() - 1000 * 60 * 60 * 24);\r\n\r\n      this.setState({\r\n        date: newDate\r\n      });\r\n    }\r\n\r\n    this.props.getSortedOrders(this.state.date);\r\n  };\r\n\r\n  today = () => {\r\n    let newDate = new Date();\r\n\r\n    // do not send another request if orders are already being loaded\r\n    if (!this.props.admin.loadingSortedOrders) {\r\n      this.setState({\r\n        date: newDate\r\n      });\r\n      this.props.getSortedOrders(newDate);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { loadingSortedOrders } = this.props.admin;\r\n\r\n    return (\r\n      <div className=\"container-fluid mt-1\">\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <h2 className=\"text-center\">Страница Админа {this.props.auth.user.name}</h2>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-3 mt-4 calendar\">\r\n            <div className=\"sticky-top\">\r\n              <Calendar\r\n                className=\"react-calendar\"\r\n                onChange={this.onChange}\r\n                value={this.state.date}\r\n              />\r\n\r\n              <button\r\n                className=\"btn btn-dark mt-3\"\r\n                onClick={() => this.today()}\r\n              >\r\n                <i className=\"fas fa-calendar-day\"></i> Показать Сегодня\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-lg-9\">\r\n            <h2 className=\"text-center\">Заявки на <Moment format=\"DD/MM/YYYY\">{this.state.date}</Moment></h2>\r\n            {loadingSortedOrders ? <Spinner /> : (\r\n              <Swipeable\r\n                trackMouse\r\n                preventDefaultTouchmoveEvent\r\n                onSwipedLeft={() => this.onSwiped('LEFT')}\r\n                onSwipedRight={() => this.onSwiped('RIGHT')}\r\n                delta={120}\r\n              >\r\n                <AdmSortedOrders date={this.state.date} />\r\n              </Swipeable>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  admin: state.admin,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getSortedOrders })(withRouter(Admin));","import monthsNames from '../components/common/monthNames';\r\n\r\nconst getMonthAndYearLabels = () => {\r\n  // MONTH\r\n  const monthLabels = [\r\n    { label: \"-- Выберите месяц -- \", value: \"\" }\r\n  ];\r\n\r\n  monthsNames.forEach((month, i) => {\r\n    monthLabels.push({\r\n      label: month, value: i\r\n    });\r\n  });\r\n\r\n\r\n  // YEAR\r\n  const yearLabels = [\r\n    { label: \"-- Выберите Год -- \", value: \"\" }\r\n  ];\r\n\r\n  for (let i = 2019; i <= new Date().getFullYear(); i++) {\r\n    yearLabels.push({\r\n      label: i, value: i\r\n    });\r\n  }\r\n\r\n  return { monthLabels, yearLabels };\r\n};\r\n\r\nexport default getMonthAndYearLabels;","// this function returns month and year \r\n// month: as a number 0-January; and 11 - December\r\n// year as a number YYYY\r\n// param is a string, possible values - 'previous' and 'current'\r\nconst returnMonthAndYear = (param) => {\r\n  let date = new Date();\r\n  let month = date.getMonth();\r\n  let year = date.getFullYear();\r\n\r\n  // if previous month\r\n  if (param === 'previous') {\r\n    if (month === 0) {\r\n      month = 11;\r\n      year -= 1;\r\n    } else {\r\n      month -= 1;\r\n    }\r\n  }\r\n\r\n  return { month, year };\r\n};\r\n\r\nexport default returnMonthAndYear;","// this function removes material with amount of 0 from array\r\n\r\nconst removeZeros = arr => {\r\n  let array = [...arr];\r\n\r\n  array = array.filter(item => item.amount > 0);\r\n\r\n  return array;\r\n};\r\n\r\nexport default removeZeros;","// this function calculates average score of user (disinfector ?)\r\n\r\n// percent that is subtracted from average score for each failed order\r\nconst PERCENT_PER_FAIL = 5;\r\n\r\n// the object should have 3 fields: \r\n// totalScore, totalOrders and failedOrders\r\nconst calculateDisinfScore = (object) => {\r\n  let averageScore = (object.totalScore / object.totalOrders).toFixed(2);\r\n\r\n  // penalty for failed orders\r\n  let percentToSubtract = PERCENT_PER_FAIL * object.failedOrders;\r\n\r\n  if (object.failedOrders > 100 / PERCENT_PER_FAIL) {\r\n    return 0;\r\n  } else {\r\n    return averageScore * (1 - percentToSubtract / 100).toFixed(2);\r\n  }\r\n};\r\n\r\nexport default calculateDisinfScore;","// this function calculates stats from array of orders\r\nconst calculateStats = (arr) => {\r\n  let object = {\r\n    totalSum: 0,\r\n    totalScore: 0,\r\n    totalOrders: arr.length,\r\n    completed: 0,\r\n    confirmedOrders: [],\r\n    rejected: 0,\r\n\r\n    // сумма заказов для дезинфектора (она равна сумме заказа / количество дезинфекторов, выполнивших заказ)\r\n    totalSumForDisinfector: 0,\r\n\r\n    // тип заказа: Консультация\r\n    // consultationConfirmed: 0,\r\n\r\n    // тип заказа: Осмотр\r\n    // osmotrConfirmed: 0,\r\n\r\n    // тип заказа: Консультации + Осмотры (из подтвержденных заказов)\r\n    consultAndOsmotrConfirmed: 0,\r\n\r\n    // некачественные заказы\r\n    failed: 0,\r\n\r\n    // повторные заказы (если имеется атрибут prevFailedOrder)\r\n    povtors: 0,\r\n\r\n\r\n    corporate: 0,\r\n    // процент корпоративных заказов от общего количества заказов\r\n    corporatePercent: 0,\r\n    corpSum: 0,\r\n    // процент суммы корпоративных заказов от общей суммы заказов\r\n    corpSumPercent: 0,\r\n\r\n\r\n    indiv: 0,\r\n    indivPercent: 0,\r\n    indivSum: 0,\r\n    indivSumPercent: 0,\r\n  };\r\n\r\n  arr.forEach(order => {\r\n\r\n    if (order.hasOwnProperty('prevFailedOrder')) {\r\n      object.povtors++;\r\n    }\r\n\r\n\r\n    if (order.completed) {\r\n      object.completed++;\r\n\r\n\r\n      // if order was confirmed\r\n      if (!order.failed &&\r\n        // исключаем некачественные и повторные заказы\r\n        !order.hasOwnProperty('prevFailedOrder') &&\r\n        order.operatorConfirmed &&\r\n        (order.accountantConfirmed || order.adminConfirmed)\r\n      ) {\r\n        object.confirmedOrders.push(order);\r\n        object.totalSum += order.cost;\r\n        object.totalScore += order.score;\r\n\r\n\r\n        // сумма, которая достанется каждому дезинфектору\r\n        if (order.disinfectors && order.disinfectors.length > 0) {\r\n          object.totalSumForDisinfector = object.totalSumForDisinfector + order.cost / order.disinfectors.length;\r\n        }\r\n\r\n\r\n        if (order.clientType === 'corporate') {\r\n          object.corporate++;\r\n          object.corpSum += order.cost;\r\n\r\n        } else if (order.clientType === 'individual') {\r\n          object.indiv++;\r\n          object.indivSum += order.cost;\r\n\r\n        }\r\n\r\n        // тип заказа: Консультация или Осмотр\r\n        if (\r\n          order.typeOfService.includes('Консультация') ||\r\n          order.typeOfService.includes('Осмотр') ||\r\n          order.typeOfService.includes('Осмотр и консультации')\r\n        ) {\r\n          object.consultAndOsmotrConfirmed++;\r\n        }\r\n        // if (order.typeOfService.includes('Осмотр')) {\r\n        // object.osmotrConfirmed++;\r\n        // }\r\n      }\r\n\r\n\r\n      // if order was rejected\r\n      if (\r\n        (order.operatorDecided && !order.operatorConfirmed) ||\r\n        (order.accountantDecided && !order.accountantConfirmed) ||\r\n        (order.adminDecided && !order.adminConfirmed)\r\n      ) {\r\n        object.rejected++;\r\n      }\r\n\r\n\r\n      // if order was failed\r\n      if (order.failed) {\r\n        object.failed++;\r\n      }\r\n    }\r\n  });\r\n\r\n  object.corporatePercent = (object.corporate * 100 / object.confirmedOrders.length).toFixed(1);\r\n  object.indivPercent = (object.indiv * 100 / object.confirmedOrders.length).toFixed(1);\r\n\r\n  object.corpSumPercent = (object.corpSum * 100 / object.totalSum).toFixed(1);\r\n  object.indivSumPercent = (object.indivSum * 100 / object.totalSum).toFixed(1);\r\n\r\n  return object;\r\n};\r\n\r\nexport default calculateStats;","import materials from '../components/common/materials';\r\n\r\n// this function calculates total material consumption\r\nconst calcMaterialConsumption = (orders) => {\r\n  const totalConsumption = [];\r\n\r\n  // empty materials array\r\n  materials.forEach(object => {\r\n    const emptyObject = {\r\n      material: object.material,\r\n      amount: 0,\r\n      unit: object.unit\r\n    };\r\n    totalConsumption.push(emptyObject);\r\n  });\r\n\r\n  orders.forEach(order => {\r\n    if (order.completed && order.disinfectors) {\r\n      order.disinfectors.forEach(element => {\r\n        element.consumption.forEach(object => {\r\n          totalConsumption.forEach(item => {\r\n            if (object.material === item.material && object.unit === item.unit) {\r\n              item.amount += object.amount;\r\n            }\r\n          });\r\n        });\r\n      });\r\n    }\r\n  });\r\n\r\n  return totalConsumption;\r\n};\r\n\r\nexport default calcMaterialConsumption;","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Moment from 'react-moment';\r\n\r\nimport removeZeros from '../../utils/removeZerosMat';\r\nimport calculateDisinfScore from '../../utils/calcDisinfScore';\r\nimport calculateStats from '../../utils/calcStats';\r\nimport calcMaterialConsumption from '../../utils/calcMatConsumption';\r\n\r\nclass ShowAdminStats extends Component {\r\n  state = {\r\n    orders: this.props.admin.stats.orders,\r\n    showOrders: false\r\n  };\r\n\r\n  toggleShowOrders = (param) => {\r\n    this.setState({\r\n      showOrders: param\r\n    });\r\n  };\r\n\r\n  render() {\r\n    // calculate statistics\r\n    let {\r\n      totalSum,\r\n      totalScore,\r\n      totalOrders,\r\n      completed,\r\n      confirmedOrders,\r\n      rejected,\r\n      consultAndOsmotrConfirmed,\r\n\r\n      failed,\r\n      povtors,\r\n\r\n      corporate,\r\n      corporatePercent,\r\n      corpSum,\r\n      corpSumPercent,\r\n\r\n      indiv,\r\n      indivPercent,\r\n      indivSum,\r\n      indivSumPercent\r\n    } = calculateStats(this.state.orders);\r\n\r\n\r\n    // let totalSum = 0,\r\n    //   totalScore = 0,\r\n    //   totalConsumption = [],\r\n    //   completedOrders = [],\r\n    //   confirmedOrders = [],\r\n    //   rejectedOrders = [],\r\n    //   failedOrders = 0;\r\n\r\n    // let corporateClientOrders = {\r\n    //   sum: 0,\r\n    //   orders: 0\r\n    // };\r\n\r\n    // let indivClientOrders = {\r\n    //   sum: 0,\r\n    //   orders: 0\r\n    // };\r\n\r\n\r\n    // let totalConsumption = [];\r\n    // materials.forEach(object => {\r\n    //   const emptyObject = {\r\n    //     material: object.material,\r\n    //     amount: 0,\r\n    //     unit: object.unit\r\n    //   };\r\n    //   totalConsumption.push(emptyObject);\r\n    // });\r\n\r\n    // this.state.orders.forEach(order => {\r\n    //   if (order.completed) {\r\n    //     completedOrders.push(order);\r\n\r\n    //     if (order.clientType === 'corporate') {\r\n\r\n    //       if (order.paymentMethod === 'cash') {\r\n    //         if (order.operatorConfirmed && order.adminConfirmed) {\r\n    //           confirmedOrders.push(order);\r\n    //           totalSum += order.cost;\r\n    //           totalScore += order.score;\r\n\r\n    //           corporateClientOrders.orders++;\r\n    //           corporateClientOrders.sum += order.cost;\r\n    //         }\r\n\r\n    //         if ((order.operatorDecided && !order.operatorConfirmed) || (order.adminDecided && !order.adminConfirmed)) {\r\n    //           rejectedOrders.push(order);\r\n    //         }\r\n    //       }\r\n\r\n    //       if (order.paymentMethod === 'notCash') {\r\n    //         if (order.operatorConfirmed && order.accountantConfirmed) {\r\n    //           confirmedOrders.push(order);\r\n    //           totalSum += order.cost;\r\n    //           totalScore += order.score;\r\n\r\n    //           corporateClientOrders.orders++;\r\n    //           corporateClientOrders.sum += order.cost;\r\n    //         }\r\n    //         if ((order.operatorDecided && !order.operatorConfirmed) || (order.accountantDecided && !order.accountantConfirmed)) {\r\n    //           rejectedOrders.push(order);\r\n    //         }\r\n    //       }\r\n    //     }\r\n\r\n    //     if (order.clientType === 'individual') {\r\n    //       if (order.operatorConfirmed && order.adminConfirmed) {\r\n    //         confirmedOrders.push(order);\r\n    //         totalSum += order.cost;\r\n    //         totalScore += order.score;\r\n\r\n    //         indivClientOrders.orders++;\r\n    //         indivClientOrders.sum += order.cost;\r\n    //       }\r\n    //       if ((order.operatorDecided && !order.operatorConfirmed) || (order.adminDecided && !order.adminConfirmed)) {\r\n    //         rejectedOrders.push(order);\r\n    //       }\r\n    //     }\r\n\r\n    //     if (order.failed) {\r\n    //       failedOrders++;\r\n    //     }\r\n\r\n    //     // calculate total consumption of all orders in given period\r\n    //     order.disinfectors.forEach(element => {\r\n    //       element.consumption.forEach(object => {\r\n    //         totalConsumption.forEach(item => {\r\n    //           if (object.material === item.material && object.unit === item.unit) {\r\n    //             item.amount += object.amount;\r\n    //           }\r\n    //         });\r\n    //       });\r\n    //     });\r\n    //   }\r\n    // });\r\n\r\n\r\n    // не считать расходы материалов у повторных и некачественных заказов (++)\r\n    // заказ, который не является некачественным и не является повторным\r\n    let approvedOrders = this.state.orders.filter(order =>\r\n      order.completed &&\r\n      !order.failed &&\r\n      !order.hasOwnProperty('prevFailedOrder')\r\n    );\r\n\r\n    // calculate total consumption of all orders in given period\r\n    let totalConsumption = calcMaterialConsumption(approvedOrders);\r\n\r\n\r\n    // this.state.orders.forEach(order => {\r\n    //   if (order.completed) {\r\n    //     order.disinfectors.forEach(element => {\r\n    //       element.consumption.forEach(object => {\r\n    //         totalConsumption.forEach(item => {\r\n    //           if (object.material === item.material && object.unit === item.unit) {\r\n    //             item.amount += object.amount;\r\n    //           }\r\n    //         });\r\n    //       });\r\n    //     });\r\n    //   }\r\n    // });\r\n\r\n\r\n    // calculate average score\r\n    let averageScore = calculateDisinfScore({\r\n      totalScore: totalScore,\r\n      totalOrders: confirmedOrders.length,\r\n      failedOrders: failed\r\n    }) || 0;\r\n\r\n    // remove materials with amount of 0\r\n    totalConsumption = removeZeros(totalConsumption);\r\n\r\n    let renderTotalConsumption = totalConsumption.map((item, key) =>\r\n      <li key={key}>{item.material}: {item.amount.toLocaleString()} {item.unit}</li>\r\n    );\r\n\r\n    let renderAllOrders = this.state.orders.map((order, key) => {\r\n      // let renderConfirmedOrders = confirmedOrders.map((order, key) => {\r\n      // consumption array of specific confirmed order\r\n      let consumptionArray = [];\r\n\r\n      order.disinfectors.forEach(item => {\r\n        consumptionArray.push({\r\n          user: item.user,\r\n          consumption: item.consumption\r\n        });\r\n      });\r\n\r\n      let renderOrderConsumption = consumptionArray.map((object, number) =>\r\n        <li key={number}>\r\n          <p className=\"mb-0\">Пользователь: {object.user.occupation} {object.user.name}</p>\r\n          {object.consumption.map((element, number) =>\r\n            <p key={number} className=\"mb-0\">{element.material}: {element.amount.toLocaleString()} {element.unit}</p>\r\n          )}\r\n        </li>\r\n      );\r\n\r\n      return (\r\n        <div className=\"col-lg-4 col-md-6\" key={key}>\r\n          <div className=\"card order mt-2\">\r\n            <div className=\"card-body p-0\">\r\n              <ul className=\"font-bold mb-0 list-unstyled\">\r\n                {order.prevFailedOrder && (\r\n                  <li><h4><i className=\"fas fas fa-exclamation\"></i> Повторный заказ <i className=\"fas fas fa-exclamation\"></i></h4></li>\r\n                )}\r\n\r\n                {order.failed && (\r\n                  <li><h4><i className=\"fas fas fa-exclamation\"></i> Некачественный заказ <i className=\"fas fas fa-exclamation\"></i></h4></li>\r\n                )}\r\n\r\n                {order.disinfectorId && (\r\n                  <li>Ответственный: {order.disinfectorId.occupation} {order.disinfectorId.name}</li>\r\n                )}\r\n\r\n                {!order.completed && (\r\n                  <li>Заказ еще не выполнен</li>\r\n                )}\r\n\r\n                {order.operatorDecided ? (\r\n                  <React.Fragment>\r\n                    <li>Оператор рассмотрел заявку</li>\r\n                    {order.operatorConfirmed ? (\r\n                      <React.Fragment>\r\n                        <li className=\"text-success\">Оператор Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.operatorCheckedAt}</Moment>)</li>\r\n                        <li>Балл (0-5): {order.score}</li>\r\n                      </React.Fragment>\r\n                    ) : <li className=\"text-danger\">Оператор Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.operatorCheckedAt}</Moment>)</li>}\r\n                  </React.Fragment>\r\n                ) : <li>Оператор еще не рассмотрел заявку</li>}\r\n\r\n\r\n\r\n\r\n\r\n                {order.accountantDecided ? (\r\n                  <React.Fragment>\r\n                    <li>Бухгалтер рассмотрел заявку</li>\r\n                    {order.accountantConfirmed ? (\r\n                      <React.Fragment>\r\n                        <li className=\"text-success\">Бухгалтер Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.accountantCheckedAt}</Moment>)</li>\r\n                        <li>Счет-Фактура: {order.invoice ? order.invoice : '--'}</li>\r\n                        <li>Общая Сумма: {order.cost.toLocaleString()} UZS (каждому по {(order.cost / order.disinfectors.length).toLocaleString()} UZS)</li>\r\n                      </React.Fragment>\r\n                    ) : <li className=\"text-danger\">Бухгалтер Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.accountantCheckedAt}</Moment>)</li>}\r\n                  </React.Fragment>\r\n                ) : (\r\n                  <React.Fragment>\r\n\r\n                    {order.adminDecided ? (\r\n                      <React.Fragment>\r\n                        <li>Админ рассмотрел заявку</li>\r\n                        {order.adminConfirmed ? (\r\n                          <li className=\"text-success\">Админ Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>\r\n                        ) : <li className=\"text-danger\">Админ Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>}\r\n                      </React.Fragment>\r\n                    ) : (\r\n                      <li>Бухгалтер еще не рассмотрел заявку</li>\r\n                    )}\r\n\r\n                  </React.Fragment>\r\n                )}\r\n\r\n\r\n                {/* {order.clientType === 'corporate' && order.paymentMethod === 'notCash' && !order.accountantDecided ? <li>Бухгалтер еще не рассмотрел заявку</li> : ''}\r\n\r\n                {order.clientType === 'corporate' && order.paymentMethod === 'notCash' && order.accountantDecided ?\r\n                  <React.Fragment>\r\n                    <li>Бухгалтер рассмотрел заявку</li>\r\n                    {order.accountantConfirmed ? (\r\n                      <React.Fragment>\r\n                        <li className=\"text-success\">Бухгалтер Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.accountantCheckedAt}</Moment>)</li>\r\n                        <li>Счет-Фактура: {order.invoice}</li>\r\n                        <li>Общая Сумма: {order.cost.toLocaleString()} UZS (каждому по {(order.cost / order.disinfectors.length).toLocaleString()} UZS)</li>\r\n                      </React.Fragment>\r\n                    ) : <li className=\"text-danger\">Бухгалтер Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.accountantCheckedAt}</Moment>)</li>}\r\n                  </React.Fragment>\r\n                  : ''}\r\n\r\n                {order.clientType === 'corporate' && order.paymentMethod === 'cash' && !order.adminDecided ? <li>Админ еще не рассмотрел заявку</li> : ''}\r\n\r\n                {order.clientType === 'corporate' && order.paymentMethod === 'cash' && order.adminDecided ? (\r\n                  <React.Fragment>\r\n                    <li>Админ рассмотрел заявку</li>\r\n                    {order.adminConfirmed ? (\r\n                      <li className=\"text-success\">Админ Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>\r\n                    ) : <li className=\"text-danger\">Админ Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>}\r\n                  </React.Fragment>\r\n                ) : ''}\r\n\r\n                {order.clientType === 'individual' && !order.adminDecided ? <li>Админ еще не рассмотрел заявку</li> : ''}\r\n                {order.clientType === 'individual' && order.adminDecided ? (\r\n                  <React.Fragment>\r\n                    <li>Админ рассмотрел заявку</li>\r\n                    {order.adminConfirmed ? (\r\n                      <li className=\"text-success\">Админ Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>\r\n                    ) : <li className=\"text-danger\">Админ Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>}\r\n                  </React.Fragment>\r\n                ) : ''} */}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                {order.clientType === 'corporate' ?\r\n                  <React.Fragment>\r\n                    {order.clientId ? (\r\n                      <li className=\"text-danger\">Корпоративный Клиент: {order.clientId.name}</li>\r\n                    ) : <li className=\"text-danger\">Корпоративный Клиент</li>}\r\n                    <li className=\"text-danger\">Имя клиента: {order.client}</li>\r\n                  </React.Fragment>\r\n                  : ''}\r\n\r\n                {order.clientType === 'individual' ?\r\n                  <li className=\"text-danger\">Физический Клиент: {order.client}</li>\r\n                  : ''}\r\n\r\n                <li className=\"text-danger\">Телефон: {order.phone}</li>\r\n                {order.phone2 && order.phone2 !== '' ? (\r\n                  <li className=\"text-danger\">Запасной номер: {order.phone2}</li>\r\n                ) : ''}\r\n\r\n                {order.completed ? (\r\n                  <React.Fragment>\r\n                    <li className=\"text-danger\">Дата выполнения: <Moment format=\"DD/MM/YYYY\">{order.dateFrom}</Moment></li>\r\n                    <li className=\"text-danger\">Время выполнения: С <Moment format=\"HH:mm\">{order.dateFrom}</Moment> ПО <Moment format=\"HH:mm\">{order.completedAt}</Moment></li>\r\n                  </React.Fragment>\r\n                ) : (\r\n                  <li className=\"text-danger\">Дата выполнения: <Moment format=\"DD/MM/YYYY HH:mm\">{order.dateFrom}</Moment></li>\r\n                )}\r\n\r\n                <li className=\"text-danger\">Адрес: {order.address}</li>\r\n                <li className=\"text-danger\">Тип услуги: {order.typeOfService}</li>\r\n\r\n                <li>Комментарии Оператора: {order.comment ? order.comment : '--'}</li>\r\n                <li>Комментарии Дезинфектора: {order.disinfectorComment ? order.disinfectorComment : '--'}</li>\r\n\r\n                {order.completed &&\r\n                  <React.Fragment>\r\n                    <li>Срок гарантии (в месяцах): {order.guarantee}</li>\r\n                    <li>Расход Материалов (заказ выполнили {order.disinfectors.length} чел):</li>\r\n                    <ul className=\"font-bold mb-0\">\r\n                      {renderOrderConsumption}\r\n                    </ul>\r\n                    {order.clientType === 'corporate' ? (\r\n                      <React.Fragment>\r\n                        {order.paymentMethod === 'cash' ? (\r\n                          <React.Fragment>\r\n                            <li>Тип Платежа: Наличный</li>\r\n                            <li>Общая Сумма: {order.cost.toLocaleString()} UZS (каждому по {(order.cost / order.disinfectors.length).toLocaleString()} UZS)</li>\r\n                          </React.Fragment>\r\n                        ) : (\r\n                          <React.Fragment>\r\n                            <li>Тип Платежа: Безналичный</li>\r\n                            <li>Номер Договора: {order.contractNumber}</li>\r\n                          </React.Fragment>\r\n                        )}\r\n                      </React.Fragment>\r\n                    ) : ''}\r\n                  </React.Fragment>\r\n                }\r\n\r\n                {order.completed && order.clientType === 'individual' && order.cost ?\r\n                  <li>Общая Сумма: {order.cost.toLocaleString()} UZS (каждому по {(order.cost / order.disinfectors.length).toLocaleString()} UZS)</li>\r\n                  : ''}\r\n                {/* <Link className=\"btn btn-primary\" to={`/order-full-details/${order._id}`}>Подробнее</Link> */}\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n\r\n\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-4 col-md-6\">\r\n            <div className=\"card order mt-2\">\r\n              <div className=\"card-body p-0\">\r\n                <h4 className=\"text-center\">Заказы</h4>\r\n                <ul className=\"font-bold mb-0 list-unstyled\">\r\n                  <li>Всего Получено Заказов: {totalOrders}</li>\r\n                  <li>Выполнено Заказов: {completed}</li>\r\n                  <li>Подтверждено Заказов: {confirmedOrders.length} (из них Консультации и Осмотры: {consultAndOsmotrConfirmed})</li>\r\n\r\n                  <li className=\"pt-2\">Общая Сумма: {totalSum.toLocaleString()} UZS</li>\r\n                  <li className=\"pb-2\">Средний балл: {averageScore.toFixed(2)} (из 5)</li>\r\n\r\n                  <li>Отвергнуто Заказов: {rejected}</li>\r\n                  <li>Некачественные заказы: {failed}</li>\r\n                  <li>Повторные заказы: {povtors}</li>\r\n\r\n                  <h6 className=\"mt-2\">* некачественные и повторные заказы не входят в подтвержденные заказы и общую сумму</h6>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-lg-4 col-md-6\">\r\n            <div className=\"card order mt-2\">\r\n              <div className=\"card-body p-0\">\r\n                <ul className=\"font-bold mb-0 list-unstyled\">\r\n\r\n                  <h4 className=\"text-center\">Корпоративные клиенты</h4>\r\n                  <li>Подтвержденные заказы: {corporate} ({corporatePercent} %)</li>\r\n                  <li>На общую сумму: {corpSum.toLocaleString()} UZS  ({corpSumPercent} %)</li>\r\n\r\n                  <h4 className=\"text-center\">Физические клиенты</h4>\r\n                  <li>Подтвержденные заказы: {indiv} ({indivPercent} %)</li>\r\n                  <li>На общую сумму: {indivSum.toLocaleString()} UZS ({indivSumPercent} %)</li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-lg-4 col-md-6\">\r\n            <div className=\"card order mt-2\">\r\n              <div className=\"card-body p-0\">\r\n                <h4 className=\"text-center\">Общий Расход Материалов:</h4>\r\n                <ul className=\"font-bold mb-0 list-unstyled\">\r\n                  {renderTotalConsumption}\r\n\r\n                  <h6 className=\"mt-2\">* сюда не входят некачественные и повторные заказы</h6>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {this.state.showOrders ? (\r\n          <React.Fragment>\r\n            <div className=\"row mt-2\">\r\n              <div className=\"col-12\">\r\n                <button className=\"btn btn-dark\" onClick={this.toggleShowOrders.bind(this, false)}><i className=\"fas fa-eye-slash\"></i> Скрыть заказы</button>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"row mt-2\">\r\n              <div className=\"col-12\">\r\n                {/* <h2 className=\"text-center pl-3 pr-3\">Подтвержденные Заказы</h2> */}\r\n                <h2 className=\"text-center pl-3 pr-3\">Все Заказы</h2>\r\n              </div>\r\n\r\n              {/* {confirmedOrders.length > 0 ? (renderConfirmedOrders) : <h2>Нет подтвержденных заказов</h2>} */}\r\n              {this.state.orders.length > 0 ? (renderAllOrders) : <h2>Нет заказов</h2>}\r\n            </div>\r\n          </React.Fragment>\r\n        ) : (\r\n          <button className=\"btn btn-dark mt-2\" onClick={this.toggleShowOrders.bind(this, true)}><i className=\"fas fa-eye\"></i> Показать заказы</button>\r\n        )}\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  order: state.order,\r\n  admin: state.admin,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps)(withRouter(ShowAdminStats));","import moment from 'moment';\r\n\r\nexport const getWeekDays = (weekStart) => {\r\n  const days = [];\r\n  for (let i = 1; i < 8; i += 1) {\r\n    days.push(\r\n      moment(weekStart)\r\n        .add(i, 'days')\r\n        .toDate()\r\n    );\r\n  }\r\n  return days;\r\n}\r\n\r\nexport const getWeekRange = (date) => {\r\n  return {\r\n    from: moment(date)\r\n      .startOf('week')\r\n      .toDate(),\r\n    to: moment(date)\r\n      .endOf('week')\r\n      .toDate()\r\n  };\r\n}","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from '../common/Spinner';\r\nimport Moment from 'react-moment';\r\n\r\nimport { getGenStatsForAdmin, clearStatsData } from '../../actions/adminActions';\r\nimport monthsNames from '../common/monthNames';\r\nimport getMonthAndYearLabels from '../../utils/monthAndYearLabels';\r\nimport returnMonthAndYear from '../../utils/returnMonthAndYear';\r\n\r\nimport ShowAdminStats from './ShowAdminStats';\r\n\r\n\r\nimport { getWeekDays, getWeekRange } from '../common/weekFunc';\r\nimport DayPicker from 'react-day-picker';\r\nimport 'react-day-picker/lib/style.css';\r\n\r\n\r\nclass AdminStats extends Component {\r\n  state = {\r\n    month: '',\r\n    year: '',\r\n    day: '',\r\n\r\n    // to display month and year in heading h2\r\n    headingMonth: '',\r\n    headingYear: '',\r\n    headingDay: '',\r\n\r\n    hoverRange: undefined,\r\n    selectedDays: []\r\n  };\r\n\r\n  componentWillMount() {\r\n    this.props.clearStatsData();\r\n  }\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  getMonthStats = (e) => {\r\n    e.preventDefault();\r\n    let object = {\r\n      type: 'month',\r\n      month: Number(this.state.month),\r\n      year: Number(this.state.year)\r\n    };\r\n\r\n    this.props.getGenStatsForAdmin(object);\r\n\r\n    // this.props.getMonthStatsForAdmin(this.state.month, this.state.year);\r\n    this.setState({\r\n      headingMonth: this.state.month,\r\n      headingYear: this.state.year\r\n    });\r\n  }\r\n\r\n  getSpecificMonthStats = (param) => {\r\n    const { month, year } = returnMonthAndYear(param);\r\n\r\n    const object = { type: 'month', month, year };\r\n\r\n    this.props.getGenStatsForAdmin(object);\r\n\r\n    this.setState({\r\n      headingMonth: month,\r\n      headingYear: year\r\n    });\r\n  };\r\n\r\n  getDayStats = (e) => {\r\n    e.preventDefault();\r\n    let object = {\r\n      type: 'day',\r\n      day: this.state.day\r\n    };\r\n\r\n    this.props.getGenStatsForAdmin(object);\r\n\r\n    // this.props.getDayStatsForAdmin(this.state.day);\r\n    this.setState({\r\n      headingDay: this.state.day.split('-').reverse().join('-')\r\n    });\r\n  }\r\n\r\n\r\n  // weekly calendar\r\n  handleDayChange = date => {\r\n    let object = {\r\n      type: 'week',\r\n      days: getWeekDays(getWeekRange(date).from)\r\n    };\r\n    this.props.getGenStatsForAdmin(object);\r\n    // this.props.getWeekStatsForAdmin(getWeekDays(getWeekRange(date).from));\r\n    this.setState({\r\n      selectedDays: getWeekDays(getWeekRange(date).from)\r\n    });\r\n  };\r\n\r\n  handleDayEnter = date => {\r\n    this.setState({\r\n      hoverRange: getWeekRange(date)\r\n    });\r\n  };\r\n\r\n  handleDayLeave = () => {\r\n    this.setState({\r\n      hoverRange: undefined\r\n    });\r\n  };\r\n\r\n  handleWeekClick = (weekNumber, days, e) => {\r\n    let object = {\r\n      type: 'week',\r\n      days: getWeekDays(getWeekRange(days[0]).from)\r\n    };\r\n    this.props.getGenStatsForAdmin(object);\r\n    // this.props.getWeekStatsForAdmin(getWeekDays(getWeekRange(days[0]).from));\r\n    this.setState({\r\n      selectedDays: getWeekDays(getWeekRange(days[0]).from)\r\n    });\r\n  };\r\n  // end of weekly calendar\r\n\r\n\r\n  render() {\r\n    const { monthLabels, yearLabels } = getMonthAndYearLabels();\r\n\r\n    const yearsOptions = yearLabels.map((year, index) =>\r\n      <option value={year.value} key={index}>{year.label}</option>\r\n    );\r\n    const monthOptions = monthLabels.map((month, index) =>\r\n      <option value={month.value} key={index}>{month.label}</option>\r\n    );\r\n\r\n\r\n    // weekly calender\r\n    const { hoverRange, selectedDays } = this.state;\r\n\r\n    const daysAreSelected = selectedDays.length > 0;\r\n\r\n    const modifiers = {\r\n      hoverRange,\r\n      selectedRange: daysAreSelected && {\r\n        from: selectedDays[0],\r\n        to: selectedDays[6],\r\n      },\r\n      hoverRangeStart: hoverRange && hoverRange.from,\r\n      hoverRangeEnd: hoverRange && hoverRange.to,\r\n      selectedRangeStart: daysAreSelected && selectedDays[0],\r\n      selectedRangeEnd: daysAreSelected && selectedDays[6]\r\n    };\r\n    // end of calendar\r\n\r\n\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <h2 className=\"text-center\">Общая статистика</h2>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-4 col-md-6 mt-3\">\r\n            <form onSubmit={this.getMonthStats} className=\"form-bg p-2\">\r\n              <h4 className=\"text-center\">Статистика по месяцам</h4>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"year\"><strong>Выберите Год:</strong></label>\r\n                <select name=\"year\" className=\"form-control\" onChange={this.onChange} required>\r\n                  {yearsOptions}\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"month\"><strong>Выберите Месяц:</strong></label>\r\n                <select name=\"month\" className=\"form-control\" onChange={this.onChange} required>\r\n                  {monthOptions}\r\n                </select>\r\n              </div>\r\n              <button type=\"submit\" className=\"btn btn-success mr-1 mt-1\"><i className=\"fas fa-search\"></i> Искать</button>\r\n\r\n              <button type=\"button\" className=\"btn btn-danger mr-1 mt-1\" onClick={() => this.getSpecificMonthStats('current')}>Этот месяц</button>\r\n\r\n              <button type=\"button\" className=\"btn btn-primary mr-1 mt-1\" onClick={() => this.getSpecificMonthStats('previous')}>Прошлый месяц</button>\r\n            </form>\r\n          </div>\r\n\r\n\r\n          <div className=\"col-lg-4 col-md-6 mt-3\">\r\n            <form onSubmit={this.getDayStats} className=\"form-bg p-2\">\r\n              <h4 className=\"text-center\">Статистика по дням</h4>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"day\"><strong>Выберите День:</strong></label>\r\n                <input type=\"date\" name=\"day\" className=\"form-control\" onChange={this.onChange} required />\r\n              </div>\r\n              <button type=\"submit\" className=\"btn btn-primary\"><i className=\"fas fa-search\"></i> Искать</button>\r\n            </form>\r\n          </div>\r\n\r\n\r\n          <div className=\"col-lg-4 col-md-6 weekly-stats mt-3\">\r\n            <div className=\"SelectedWeekExample form-bg font-weight-bold\">\r\n              <h4 className=\"text-center\">Статистика по неделям</h4>\r\n              <DayPicker\r\n                selectedDays={selectedDays}\r\n                showWeekNumbers\r\n                showOutsideDays\r\n                modifiers={modifiers}\r\n                firstDayOfWeek={1}\r\n                onDayClick={this.handleDayChange}\r\n                onDayMouseEnter={this.handleDayEnter}\r\n                onDayMouseLeave={this.handleDayLeave}\r\n                onWeekClick={this.handleWeekClick}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row mt-2\">\r\n          <div className=\"col-12\">\r\n            {this.props.admin.method === 'week' ?\r\n              <h2 className=\"text-center pl-3 pr-3\">Недельная статистика за <Moment format=\"DD/MM/YYYY\">{this.state.selectedDays[0]}</Moment> - <Moment format=\"DD/MM/YYYY\">{this.state.selectedDays[6]}</Moment></h2> : ''}\r\n\r\n            {this.props.admin.method === 'month' ?\r\n              <h2 className=\"text-center pl-3 pr-3\">Месячная Статистика за {monthsNames[this.state.headingMonth]}, {this.state.headingYear}</h2> : ''}\r\n\r\n            {this.props.admin.method === 'day' ?\r\n              <h2 className=\"text-center pl-3 pr-3\">Дневная Статистика за {this.state.headingDay}</h2> : ''}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            {this.props.admin.loadingStats ? <Spinner /> : <ShowAdminStats />}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth,\r\n  admin: state.admin,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getGenStatsForAdmin, clearStatsData })(withRouter(AdminStats));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from '../common/Spinner';\r\nimport advertisements from '../common/advertisements';\r\n\r\nimport { getAdvStats } from '../../actions/adminActions';\r\nimport monthsNames from '../common/monthNames';\r\nimport getMonthAndYearLabels from '../../utils/monthAndYearLabels';\r\nimport returnMonthAndYear from '../../utils/returnMonthAndYear';\r\nimport calculateDisinfScore from '../../utils/calcDisinfScore';\r\n\r\nclass AdvStats extends Component {\r\n  state = {\r\n    type: '',\r\n    month: '',\r\n    year: '',\r\n    orders: [],\r\n\r\n    // to display month and year in heading\r\n    headingMonth: '',\r\n    headingYear: ''\r\n  };\r\n\r\n  componentDidMount() {\r\n    const thisMonth = new Date().getMonth();\r\n    const thisYear = new Date().getFullYear();\r\n    this.setState({\r\n      type: 'month',\r\n      month: thisMonth,\r\n      year: thisYear,\r\n      headingMonth: thisMonth,\r\n      headingYear: thisYear,\r\n    });\r\n\r\n    const object = {\r\n      type: 'month',\r\n      month: thisMonth,\r\n      year: thisYear\r\n    };\r\n    this.props.getAdvStats(object);\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    this.setState({\r\n      orders: nextProps.admin.stats.orders\r\n    });\r\n  }\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  allTimeStats = () => {\r\n    this.setState({\r\n      type: 'allTime',\r\n      month: new Date().getMonth(),\r\n      year: new Date().getFullYear()\r\n    });\r\n    const object = {\r\n      type: 'allTime',\r\n      month: Number(this.state.month),\r\n      year: Number(this.state.year)\r\n    };\r\n    this.props.getAdvStats(object);\r\n  }\r\n\r\n  getMonthStats = (e) => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      type: 'month',\r\n      headingMonth: Number(this.state.month),\r\n      headingYear: Number(this.state.year)\r\n    });\r\n    const object = {\r\n      type: 'month',\r\n      month: Number(this.state.month),\r\n      year: Number(this.state.year)\r\n    };\r\n    this.props.getAdvStats(object);\r\n  }\r\n\r\n  getSpecificMonthStats = (param) => {\r\n    const { month, year } = returnMonthAndYear(param);\r\n\r\n    const object = { type: 'month', month, year };\r\n\r\n    this.props.getAdvStats(object);\r\n\r\n    this.setState({\r\n      type: 'month',\r\n      headingMonth: month,\r\n      headingYear: year\r\n    });\r\n  };\r\n\r\n  getYearStats = (e) => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      type: 'year',\r\n      headingYear: Number(this.state.year)\r\n    });\r\n    const object = {\r\n      type: 'year',\r\n      month: Number(this.state.month),\r\n      year: Number(this.state.year)\r\n    };\r\n\r\n    this.props.getAdvStats(object);\r\n  }\r\n\r\n  render() {\r\n    const { monthLabels, yearLabels } = getMonthAndYearLabels();\r\n\r\n    const yearsOptions = yearLabels.map((year, index) =>\r\n      <option value={year.value} key={index}>{year.label}</option>\r\n    );\r\n    const monthOptions = monthLabels.map((month, index) =>\r\n      <option value={month.value} key={index}>{month.label}</option>\r\n    );\r\n\r\n    let advArray = [];\r\n    advertisements.forEach(item => {\r\n      advArray.push({\r\n        name: item.value,\r\n        quantity: 0,\r\n        // orders: [],\r\n        completed: 0,\r\n        confirmed: 0,\r\n        rejected: 0,\r\n        failed: 0,\r\n        povtors: 0,\r\n        totalSum: 0,\r\n        totalScore: 0\r\n      });\r\n    });\r\n\r\n    this.state.orders.forEach(order => {\r\n      advArray.forEach(item => {\r\n        if (order.advertising === item.name) {\r\n          item.quantity++;\r\n          // item.orders.push(order);\r\n\r\n          if (order.hasOwnProperty('prevFailedOrder')) {\r\n            item.povtors++;\r\n          }\r\n\r\n          if (order.completed) {\r\n            item.completed++;\r\n\r\n            // if order was confirmed\r\n            if (\r\n              !order.failed &&\r\n              // исключаем некачественные и повторные заказы\r\n              !order.hasOwnProperty('prevFailedOrder') &&\r\n              order.operatorConfirmed &&\r\n              (order.accountantConfirmed || order.adminConfirmed)\r\n            ) {\r\n              item.confirmed++;\r\n              item.totalSum += order.cost;\r\n              item.totalScore += order.score;\r\n            }\r\n\r\n            // if order was rejected\r\n            if (\r\n              (order.operatorDecided && !order.operatorConfirmed) ||\r\n              (order.accountantDecided && !order.accountantConfirmed) ||\r\n              (order.adminDecided && !order.adminConfirmed)\r\n            ) {\r\n              item.rejected++;\r\n            }\r\n\r\n            // if order was failed\r\n            if (order.failed) {\r\n              item.failed++;\r\n            }\r\n\r\n            // if (order.clientType === 'corporate') {\r\n            //   if (order.completed && order.operatorConfirmed && order.accountantConfirmed) {\r\n            //     item.confirmed++;\r\n            //     item.totalSum += order.cost;\r\n            //     item.totalScore += order.score;\r\n            //   }\r\n\r\n            //   // if (!order.operatorConfirmed || !order.accountantConfirmed) {\r\n            //   if (order.completed && ((order.operatorDecided && !order.operatorConfirmed) || (order.accountantDecided && !order.accountantConfirmed))) {\r\n            //     item.rejected++;\r\n            //   }\r\n\r\n            // }\r\n\r\n            // if (order.clientType === 'individual') {\r\n            //   if (order.completed && order.operatorConfirmed && order.adminConfirmed) {\r\n            //     item.confirmed++;\r\n            //     item.totalSum += order.cost;\r\n            //     item.totalScore += order.score;\r\n            //   }\r\n\r\n            //   // if (!order.operatorConfirmed || !order.adminConfirmed) {\r\n            //   if (order.completed &&\r\n            //     (\r\n            //       (order.operatorDecided && !order.operatorConfirmed) ||\r\n            //       (order.adminDecided && !order.adminConfirmed)\r\n            //     )\r\n            //   ) {\r\n            //     item.rejected++;\r\n            //   }\r\n\r\n            //   if (order.failed) {\r\n            //     item.failed++;\r\n            //   }\r\n            // }\r\n\r\n\r\n          }\r\n        }\r\n      });\r\n    });\r\n\r\n    advArray.sort((a, b) => b.quantity - a.quantity);\r\n\r\n    let renderAdvGeneral = advArray.map((item, index) => {\r\n      // calculate average score using new formula \r\n      const averageScore = calculateDisinfScore({\r\n        totalScore: item.totalScore,\r\n        totalOrders: item.confirmed,\r\n        failedOrders: item.failed\r\n      }) || 0;\r\n\r\n      return (\r\n        <div className=\"col-lg-4 col-md-6 mt-3\" key={index}>\r\n          <div className=\"card order mt-2\">\r\n            <div className=\"card-body p-0\">\r\n              <h3 className=\"text-center\">{item.name}</h3>\r\n              <ul className=\"font-bold mb-0 list-unstyled\">\r\n                <li>Получено заказов: {item.quantity}</li>\r\n                <li>Выполнено заказов: {item.completed}</li>\r\n                <li>Подтверждено заказов: {item.confirmed}</li>\r\n\r\n                <li className=\"pt-2\">На общую сумму: {item.totalSum.toLocaleString()} UZS</li>\r\n                <li className=\"pb-2\">Средний балл: {averageScore.toFixed(2)} (из 5)</li>\r\n\r\n                <li>Отвергнуто заказов: {item.rejected}</li>\r\n                <li>Некачественные заказы: {item.failed}</li>\r\n                <li>Повторные заказы: {item.povtors}</li>\r\n\r\n                <h6 className=\"mt-2\">* некачественные и повторные заказы не входят в подтвержденные заказы и общую сумму</h6>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )\r\n    });\r\n\r\n    return (\r\n      <div className=\"container-fluid mt-1 p-0\">\r\n        <div className=\"row m-0 p-0\">\r\n          <div className=\"col-lg-4 col-md-6\">\r\n            <form onSubmit={this.getMonthStats} className=\"form-bg p-2\">\r\n              <div className=\"form-group\">\r\n                <select name=\"year\" className=\"form-control\" onChange={this.onChange} required>\r\n                  {yearsOptions}\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <select name=\"month\" className=\"form-control\" onChange={this.onChange} required>\r\n                  {monthOptions}\r\n                </select>\r\n              </div>\r\n              <button type=\"submit\" className=\"btn btn-success mr-1 mt-1\"><i className=\"fas fa-search\"></i> Показать</button>\r\n\r\n              <button type=\"button\" className=\"btn btn-danger mr-1 mt-1\" onClick={() => this.getSpecificMonthStats('current')}>Этот месяц</button>\r\n\r\n              <button type=\"button\" className=\"btn btn-primary mr-1 mt-1\" onClick={() => this.getSpecificMonthStats('previous')} >Прошлый месяц</button>\r\n            </form>\r\n          </div>\r\n\r\n          {/* <div className=\"col-lg-4 col-md-6 mt-3\">\r\n            <form onSubmit={this.getYearStats} className=\"form-bg p-2\">\r\n              <div className=\"form-group\">\r\n                <select name=\"year\" className=\"form-control\" onChange={this.onChange} required>\r\n                  {yearsOptions}\r\n                </select>\r\n              </div>\r\n              <button type=\"submit\" className=\"btn btn-block btn-info\">Показать годовую статистику</button>\r\n            </form>\r\n          </div> */}\r\n\r\n          {/* <div className=\"col-lg-4 col-md-6 mt-3\">\r\n            <button onClick={this.allTimeStats} className=\"btn btn-block btn-dark\">Показать статистику за все время</button>\r\n          </div> */}\r\n        </div>\r\n\r\n        <div className=\"row m-0\">\r\n          <div className=\"col-12 mt-3\">\r\n            {this.state.type === 'month' ? <h2 className=\"text-center\">Статистика рекламы за {monthsNames[this.state.headingMonth]}, {this.state.headingYear}</h2> : ''}\r\n\r\n            {this.state.type === 'year' ? <h2 className=\"text-center\">Статистика рекламы за {this.state.headingYear} год</h2> : ''}\r\n\r\n            {this.state.type === 'allTime' ? <h2 className=\"text-center\">Статистика рекламы за все время</h2> : ''}\r\n          </div>\r\n        </div>\r\n\r\n        {this.props.admin.loadingStats ? <Spinner /> : (\r\n          <div className=\"row m-0\">\r\n            {renderAdvGeneral}\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  admin: state.admin,\r\n  order: state.order,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getAdvStats })(withRouter(AdvStats));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Moment from 'react-moment';\r\n\r\nimport materials from '../common/materials';\r\nimport removeZeros from '../../utils/removeZerosMat';\r\nimport calculateDisinfScore from '../../utils/calcDisinfScore';\r\nimport calculateStats from '../../utils/calcStats';\r\n// import calcMaterialConsumption from '../../utils/calcMatConsumption';\r\n\r\n\r\nclass ShowDisStats extends Component {\r\n  state = {\r\n    //    заказы, которые дезинфектор исполнил\r\n    orders: this.props.admin.stats.orders,\r\n    // заказы, которые дезинфектор принял\r\n    acceptedOrders: this.props.admin.stats.acceptedOrders,\r\n    showOrders: false\r\n  };\r\n\r\n\r\n\r\n\r\n  renderOrders = (orders) => {\r\n\r\n    return orders.map((order, key) => {\r\n      // consumption array of specific confirmed order\r\n      let consumptionArray = [];\r\n\r\n      order.disinfectors.forEach(item => {\r\n        consumptionArray.push({\r\n          user: item.user,\r\n          consumption: item.consumption\r\n        });\r\n      });\r\n\r\n      let renderOrderConsumption = consumptionArray.map((object, number) =>\r\n        <li key={number}>\r\n          <p className=\"mb-0\">Пользователь: {object.user.occupation} {object.user.name}</p>\r\n          {object.consumption.map((element, number) =>\r\n            <p key={number} className=\"mb-0\">{element.material}: {element.amount.toLocaleString()} {element.unit}</p>\r\n          )}\r\n        </li>\r\n      );\r\n\r\n      return (\r\n        <div className=\"col-lg-4 col-md-6\" key={key}>\r\n          <div className=\"card order mt-2\">\r\n            <div className=\"card-body p-0\">\r\n              <ul className=\"font-bold mb-0 list-unstyled\">\r\n                {order.prevFailedOrder && <li><h4><i className=\"fas fas fa-exclamation\"></i> Повторный заказ <i className=\"fas fas fa-exclamation\"></i></h4></li>}\r\n\r\n                {order.failed && <li><h4><i className=\"fas fas fa-exclamation\"></i> Некачественный заказ <i className=\"fas fas fa-exclamation\"></i></h4></li>}\r\n\r\n                {order.repeatedOrder ? (\r\n                  <React.Fragment>\r\n                    <li>Это повторный заказ</li>\r\n                    {order.repeatedOrderDecided ? (\r\n                      <React.Fragment>\r\n                        <li>Решение по проведению повторной работы принята</li>\r\n                        {order.repeatedOrderNeeded ? <li>Повторная Работа требуется</li> : <li>Повторная Работа Не требуется</li>}\r\n                      </React.Fragment>\r\n                    ) : <li>Решение по проведению повторной заявки еще не принята</li>}\r\n                  </React.Fragment>\r\n                ) : ''}\r\n\r\n                {order.completed ? <li>Заказ выполнен</li> : <li>Заказ еще не выполнен</li>}\r\n\r\n                {order.operatorDecided ? (\r\n                  <React.Fragment>\r\n                    <li>Оператор рассмотрел заявку</li>\r\n                    {order.operatorConfirmed ? (\r\n                      <React.Fragment>\r\n                        <li className=\"text-success\">Оператор Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.operatorCheckedAt}</Moment>)</li>\r\n                        <li>Балл (0-5): {order.score}</li>\r\n                        <li>Отзыв Клиента: {order.clientReview ? order.clientReview : 'Нет Отзыва'}</li>\r\n                      </React.Fragment>\r\n                    ) : <li className=\"text-danger\">Оператор Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.operatorCheckedAt}</Moment>)</li>}\r\n                  </React.Fragment>\r\n                ) : <li>Оператор еще не рассмотрел заявку</li>}\r\n\r\n\r\n\r\n                {order.accountantDecided ? (\r\n                  <React.Fragment>\r\n                    <li>Бухгалтер рассмотрел заявку</li>\r\n                    {order.accountantConfirmed ? (\r\n                      <React.Fragment>\r\n                        <li className=\"text-success\">Бухгалтер Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.accountantCheckedAt}</Moment>)</li>\r\n                        <li>Счет-Фактура: {order.invoice ? order.invoice : '--'}</li>\r\n                        <li>Общая Сумма: {order.cost.toLocaleString()} UZS (каждому по {(order.cost / order.disinfectors.length).toLocaleString()} UZS)</li>\r\n                      </React.Fragment>\r\n                    ) : <li className=\"text-danger\">Бухгалтер Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.accountantCheckedAt}</Moment>)</li>}\r\n                  </React.Fragment>\r\n                ) : (\r\n                  <React.Fragment>\r\n\r\n                    {order.adminDecided ? (\r\n                      <React.Fragment>\r\n                        <li>Админ рассмотрел заявку</li>\r\n                        {order.adminConfirmed ? (\r\n                          <li className=\"text-success\">Админ Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>\r\n                        ) : <li className=\"text-danger\">Админ Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>}\r\n                      </React.Fragment>\r\n                    ) : (\r\n                      <li>Бухгалтер еще не рассмотрел заявку</li>\r\n                    )}\r\n\r\n                  </React.Fragment>\r\n                )}\r\n\r\n\r\n\r\n\r\n\r\n                {/* {order.clientType === 'corporate' && order.paymentMethod === 'notCash' && !order.accountantDecided ? <li>Бухгалтер еще не рассмотрел заявку</li> : ''}\r\n\r\n                {order.clientType === 'corporate' && order.paymentMethod === 'notCash' && order.accountantDecided ?\r\n                  <React.Fragment>\r\n                    <li>Бухгалтер рассмотрел заявку</li>\r\n                    {order.accountantConfirmed ? (\r\n                      <React.Fragment>\r\n                        <li className=\"text-success\">Бухгалтер Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.accountantCheckedAt}</Moment>)</li>\r\n                        <li>Счет-Фактура: {order.invoice}</li>\r\n                        <li>Общая Сумма: {order.cost.toLocaleString()} UZS (каждому по {(order.cost / order.disinfectors.length).toLocaleString()} UZS)</li>\r\n                      </React.Fragment>\r\n                    ) : <li className=\"text-danger\">Бухгалтер Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.accountantCheckedAt}</Moment>)</li>}\r\n                  </React.Fragment>\r\n                  : ''}\r\n\r\n                {order.clientType === 'corporate' && order.paymentMethod === 'cash' && !order.adminDecided ? <li>Админ еще не рассмотрел заявку</li> : ''}\r\n\r\n                {order.clientType === 'corporate' && order.paymentMethod === 'cash' && order.adminDecided ? (\r\n                  <React.Fragment>\r\n                    <li>Админ рассмотрел заявку</li>\r\n                    {order.adminConfirmed ? (\r\n                      <li className=\"text-success\">Админ Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>\r\n                    ) : <li className=\"text-danger\">Админ Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>}\r\n                  </React.Fragment>\r\n                ) : ''}\r\n\r\n                {order.clientType === 'individual' && !order.adminDecided ? <li>Админ еще не рассмотрел заявку</li> : ''}\r\n\r\n                {order.clientType === 'individual' && order.adminDecided ? (\r\n                  <React.Fragment>\r\n                    <li>Админ рассмотрел заявку</li>\r\n                    {order.adminConfirmed ? (\r\n                      <li className=\"text-success\">Админ Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>\r\n                    ) : <li className=\"text-danger\">Админ Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>}\r\n                  </React.Fragment>\r\n                ) : ''} */}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                {order.clientType === 'corporate' ?\r\n                  <React.Fragment>\r\n                    {order.clientId ? (\r\n                      <li className=\"text-danger\">Корпоративный Клиент: {order.clientId.name}</li>\r\n                    ) : <li className=\"text-danger\">Корпоративный Клиент</li>}\r\n                    <li className=\"text-danger\">Имя клиента: {order.client}</li>\r\n                  </React.Fragment>\r\n                  : ''}\r\n\r\n                {order.clientType === 'individual' ?\r\n                  <li className=\"text-danger\">Физический Клиент: {order.client}</li>\r\n                  : ''}\r\n\r\n                <li className=\"text-danger\">Телефон Клиента: {order.phone}</li>\r\n                {order.phone2 ? <li>Другой номер: {order.phone2}</li> : ''}\r\n\r\n                {order.completed ? (\r\n                  <React.Fragment>\r\n                    <li className=\"text-danger\">Дата выполнения: <Moment format=\"DD/MM/YYYY\">{order.dateFrom}</Moment></li>\r\n                    <li className=\"text-danger\">Время выполнения: <Moment format=\"HH:mm\">{order.dateFrom}</Moment></li>\r\n                  </React.Fragment>\r\n                ) : ''}\r\n\r\n                {!order.completed && order.repeatedOrder && order.repeatedOrderDecided && order.repeatedOrderNeeded ? (\r\n                  <React.Fragment>\r\n                    <li className=\"text-danger\">Дата выполнения: <Moment format=\"DD/MM/YYYY\">{order.dateFrom}</Moment></li>\r\n                    <li className=\"text-danger\">Время выполнения: <Moment format=\"HH:mm\">{order.dateFrom}</Moment></li>\r\n                  </React.Fragment>\r\n                ) : ''}\r\n\r\n                <li className=\"text-danger\">Адрес: {order.address}</li>\r\n                <li className=\"text-danger\">Тип услуги: {order.typeOfService}</li>\r\n\r\n                <li>Комментарии Оператора: {order.comment ? order.comment : '--'}</li>\r\n                <li>Комментарии Дезинфектора: {order.disinfectorComment ? order.disinfectorComment : '--'}</li>\r\n                <li>Срок гарантии (в месяцах): {order.guarantee}</li>\r\n\r\n                <li>Расход Материалов (заказ выполнили {order.disinfectors.length} чел):</li>\r\n                <ul className=\"font-bold mb-0\">\r\n                  {renderOrderConsumption}\r\n                </ul>\r\n\r\n                {order.completed && order.clientType === 'corporate' ? (\r\n                  <React.Fragment>\r\n                    {order.paymentMethod === 'cash' ? (\r\n                      <React.Fragment>\r\n                        <li>Тип Платежа: Наличный</li>\r\n                        <li>Общая Сумма: {order.cost.toLocaleString()} UZS (каждому по {(order.cost / order.disinfectors.length).toLocaleString()} UZS)</li>\r\n                      </React.Fragment>\r\n                    ) : (\r\n                      <React.Fragment>\r\n                        <li>Тип Платежа: Безналичный</li>\r\n                        <li>Номер Договора: {order.contractNumber}</li>\r\n                      </React.Fragment>\r\n                    )}\r\n                  </React.Fragment>\r\n                ) : ''}\r\n\r\n\r\n                {order.completed && order.clientType === 'individual' ?\r\n                  <li>Общая Сумма: {order.cost.toLocaleString()} UZS (каждому по {(order.cost / order.disinfectors.length).toLocaleString()} UZS)</li>\r\n                  : ''}\r\n\r\n                {/* {order.completed ?\r\n                  <Link to={`/order-full-details/${order._id}`} className=\"btn btn-primary\">Подробнее</Link>\r\n                  :\r\n                  <Link to={`/order-details/${order._id}`} className=\"btn btn-primary mr-1\">Подробнее</Link>\r\n                } */}\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  toggleShowOrders = (param) => {\r\n    this.setState({\r\n      showOrders: param\r\n    });\r\n  };\r\n\r\n  render() {\r\n    // calculate statistics\r\n    let {\r\n      // totalSum,\r\n      totalScore,\r\n      totalOrders,\r\n      completed,\r\n      confirmedOrders,\r\n      rejected,\r\n      consultAndOsmotrConfirmed,\r\n\r\n      // сумма заказов для дезинфектора (она равна сумме заказа / количество дезинфекторов, выполнивших заказ)\r\n      totalSumForDisinfector,\r\n\r\n      failed,\r\n      povtors,\r\n\r\n      corporate,\r\n      corporatePercent,\r\n      corpSum,\r\n      corpSumPercent,\r\n\r\n      indiv,\r\n      indivPercent,\r\n      indivSum,\r\n      indivSumPercent\r\n    } = calculateStats(this.state.orders);\r\n\r\n    let totalSumOfAcceptedOrders = 0;\r\n\r\n    // let totalSum = 0,\r\n    //   totalScore = 0,\r\n    //   totalSumOfAcceptedOrders = 0,\r\n    //   totalConsumption = [],\r\n    //   completedOrders = [],\r\n    //   confirmedOrders = [],\r\n    //   rejectedOrders = [],\r\n    //   failedOrders = 0;\r\n\r\n    // let corporateClientOrders = {\r\n    //   sum: 0,\r\n    //   orders: 0\r\n    // };\r\n\r\n    // let indivClientOrders = {\r\n    //   sum: 0,\r\n    //   orders: 0\r\n    // };\r\n\r\n\r\n    // this.state.orders.forEach(order => {\r\n    //   if (order.completed) {\r\n    //     completedOrders.push(order);\r\n    //   }\r\n\r\n    //   if (order.clientType === 'corporate') {\r\n    //     if (order.paymentMethod === 'cash') {\r\n    //       if (order.operatorConfirmed && order.adminConfirmed) {\r\n    //         confirmedOrders.push(order);\r\n    //         totalSum += order.cost;\r\n    //         totalScore += order.score;\r\n\r\n    //         corporateClientOrders.orders++;\r\n    //         corporateClientOrders.sum += order.cost;\r\n    //       }\r\n\r\n    //       if ((order.operatorDecided && !order.operatorConfirmed) || (order.adminDecided && !order.adminConfirmed)) {\r\n    //         rejectedOrders.push(order);\r\n    //       }\r\n    //     }\r\n\r\n    //     if (order.paymentMethod === 'notCash') {\r\n    //       if (order.operatorConfirmed && order.accountantConfirmed) {\r\n    //         confirmedOrders.push(order);\r\n    //         totalSum += order.cost;\r\n    //         totalScore += order.score;\r\n\r\n    //         corporateClientOrders.orders++;\r\n    //         corporateClientOrders.sum += order.cost;\r\n    //       }\r\n    //       if ((order.operatorDecided && !order.operatorConfirmed) || (order.accountantDecided && !order.accountantConfirmed)) {\r\n    //         rejectedOrders.push(order);\r\n    //       }\r\n    //     }\r\n    //   }\r\n\r\n\r\n\r\n\r\n    //   if (order.clientType === 'individual') {\r\n    //     if (order.completed && order.operatorConfirmed && order.adminConfirmed) {\r\n    //       confirmedOrders.push(order);\r\n    //       totalSum += order.cost / order.disinfectors.length;\r\n    //       totalScore += order.score;\r\n\r\n    //       indivClientOrders.orders++;\r\n    //       indivClientOrders.sum += order.cost;\r\n    //     }\r\n    //     if (order.completed && ((order.operatorDecided && !order.operatorConfirmed) || (order.adminDecided && !order.adminConfirmed))) {\r\n    //       rejectedOrders.push(order);\r\n    //     }\r\n    //   }\r\n\r\n    //   if (order.failed) {\r\n    //     failedOrders++;\r\n    //   }\r\n\r\n    //   // calculate total consumption of all orders of disinfector in given period\r\n    //   if (order.completed) {\r\n\r\n    //     order.disinfectors.forEach(element => {\r\n    //       // we dont populate disinfectors.user field, this is why we write element.user === ..\r\n    //       if (element.user._id === this.props.admin.stats.disinfectorId) {\r\n    //         // if (element.user === this.props.admin.stats.disinfectorId) {\r\n    //         element.consumption.forEach(object => {\r\n    //           totalConsumption.forEach(item => {\r\n    //             if (object.material === item.material && object.unit === item.unit) {\r\n    //               item.amount += object.amount;\r\n    //             }\r\n    //           });\r\n    //         });\r\n    //       }\r\n    //     });\r\n\r\n    //   }\r\n\r\n    // });\r\n\r\n\r\n\r\n    // calculate total consumption of all orders of disinfector in given period\r\n\r\n    // this function will not work because we are calculating consumption of specific user\r\n    // let totalConsumption = calcMaterialConsumption(this.state.orders);\r\n\r\n    let totalConsumption = [];\r\n    materials.forEach(item => {\r\n      const emptyObject = {\r\n        material: item.material,\r\n        amount: 0,\r\n        unit: item.unit\r\n      };\r\n      totalConsumption.push(emptyObject);\r\n    });\r\n\r\n    // не считать расходы материалов у повторных и некачественных заказов (нужно учесть)\r\n    // заказ, который не является некачественным и не является повторным\r\n    let approvedOrders = this.state.orders.filter(order =>\r\n      order.completed &&\r\n      !order.failed &&\r\n      !order.hasOwnProperty('prevFailedOrder')\r\n    );\r\n\r\n    approvedOrders.forEach(order => {\r\n      // this.state.orders.forEach(order => {\r\n\r\n      if (order.completed) {\r\n\r\n        order.disinfectors.forEach(element => {\r\n          // we dont populate disinfectors.user field, this is why we write element.user === ..\r\n          if (element.user._id === this.props.admin.stats.disinfectorId) {\r\n            // if (element.user === this.props.admin.stats.disinfectorId) {\r\n            element.consumption.forEach(object => {\r\n              totalConsumption.forEach(item => {\r\n                if (object.material === item.material && object.unit === item.unit) {\r\n                  item.amount += object.amount;\r\n                }\r\n              });\r\n            });\r\n          }\r\n        });\r\n\r\n      }\r\n\r\n    });\r\n\r\n\r\n    this.state.acceptedOrders.forEach(order => {\r\n      if (\r\n        order.completed &&\r\n        !order.failed &&\r\n        order.operatorConfirmed &&\r\n        (order.accountantConfirmed || order.adminConfirmed)\r\n      ) {\r\n        totalSumOfAcceptedOrders += order.cost;\r\n      }\r\n\r\n      // if (order.clientType === 'corporate') {\r\n      //   if (order.paymentMethod === 'cash') {\r\n      //     if (order.operatorConfirmed && order.adminConfirmed) {\r\n      //       totalSumOfAcceptedOrders += order.cost;\r\n      //     }\r\n      //   }\r\n\r\n      //   if (order.paymentMethod === 'notCash') {\r\n      //     if (order.operatorConfirmed && order.accountantConfirmed) {\r\n      //       totalSumOfAcceptedOrders += order.cost;\r\n      //     }\r\n      //   }\r\n      // }\r\n\r\n      // if (order.clientType === 'individual') {\r\n      //   if (order.completed && order.operatorConfirmed && order.adminConfirmed) {\r\n      //     totalSumOfAcceptedOrders += order.cost;\r\n      //   }\r\n      // }\r\n    });\r\n\r\n    // calculate average score\r\n    let averageScore = calculateDisinfScore({\r\n      totalScore: totalScore,\r\n      totalOrders: confirmedOrders.length,\r\n      failedOrders: failed\r\n    }) || 0;\r\n\r\n    // remove materials with amount of 0\r\n    totalConsumption = removeZeros(totalConsumption);\r\n\r\n    let renderTotalConsumption = totalConsumption.map((item, key) =>\r\n      <li key={key}>{item.material}: {item.amount.toLocaleString()} {item.unit}</li>\r\n    );\r\n\r\n\r\n    let renderAllOrders = this.renderOrders(this.state.orders);\r\n\r\n    let renderAcceptedOrders = this.renderOrders(this.state.acceptedOrders);\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-4 col-md-6\">\r\n            <div className=\"card order mt-2\">\r\n              <div className=\"card-body p-0\">\r\n                <h4 className=\"text-center\">Заказы</h4>\r\n                <ul className=\"font-bold mb-0 list-unstyled\">\r\n                  <li>Всего Получено Заказов: {totalOrders}</li>\r\n                  <li>Выполнено Заказов: {completed}</li>\r\n                  <li>Подтверждено Заказов: {confirmedOrders.length} (из них Консультации и Осмотры: {consultAndOsmotrConfirmed})</li>\r\n\r\n                  <li className=\"pt-2\">Общая Сумма: {totalSumForDisinfector.toLocaleString()} UZS</li>\r\n                  <li className=\"pb-2\">Средний балл: {averageScore.toFixed(2)} (из 5)</li>\r\n                  {/* <li>Средний балл: {(totalScore / confirmedOrders.length).toFixed(2)} (из 5)</li> */}\r\n                  <li>Отвергнуто Заказов: {rejected}</li>\r\n                  <li>Некачественные заказы: {failed}</li>\r\n                  <li>Повторные заказы: {povtors}</li>\r\n\r\n                  <h6 className=\"mt-2\">* некачественные и повторные заказы не входят в подтвержденные заказы и общую сумму</h6>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-lg-4 col-md-6\">\r\n            <div className=\"card order mt-2\">\r\n              <div className=\"card-body p-0\">\r\n                <ul className=\"font-bold mb-0 list-unstyled\">\r\n                  <li>Пользователь принял заказов: {this.state.acceptedOrders.length}</li>\r\n                  <li>Общая сумма принятых заказов: {totalSumOfAcceptedOrders.toLocaleString()} UZS</li>\r\n\r\n                  <h4 className=\"text-center\">Корпоративные клиенты</h4>\r\n                  <li>Подтвержденные заказы: {corporate} ({corporatePercent} %)</li>\r\n                  <li>На общую сумму: {corpSum.toLocaleString()} UZS  ({corpSumPercent} %)</li>\r\n\r\n                  <h4 className=\"text-center\">Физические клиенты</h4>\r\n                  <li>Подтвержденные заказы: {indiv} ({indivPercent} %)</li>\r\n                  <li>На общую сумму: {indivSum.toLocaleString()} UZS ({indivSumPercent} %)</li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-lg-4 col-md-6\">\r\n            <div className=\"card order mt-2\">\r\n              <div className=\"card-body p-0\">\r\n                <h4 className=\"text-center\">Расход Материалов:</h4>\r\n                <ul className=\"font-bold mb-0 list-unstyled\">\r\n                  {renderTotalConsumption}\r\n\r\n                  <h6 className=\"mt-2\">* сюда не входят некачественные и повторные заказы</h6>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {this.state.showOrders ? (\r\n          <React.Fragment>\r\n            <div className=\"row mt-2\">\r\n              <div className=\"col-12\">\r\n                <button className=\"btn btn-dark\" onClick={this.toggleShowOrders.bind(this, false)}><i className=\"fas fa-eye-slash\"></i> Скрыть заказы</button>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"row mt-2\">\r\n              <div className=\"col-12\">\r\n                <h2 className=\"text-center pl-3 pr-3\">Все Заказы Пользователя</h2>\r\n              </div>\r\n              {this.state.orders.length > 0 ? (renderAllOrders) : <h2>Нет заказов</h2>}\r\n            </div>\r\n\r\n            <div className=\"row mt-2\">\r\n              <div className=\"col-12\">\r\n                <h2 className=\"text-center pl-3 pr-3\">Принятые Заказы Пользователя</h2>\r\n              </div>\r\n              {this.state.acceptedOrders.length > 0 ? (renderAcceptedOrders) : <h2>Нет заказов</h2>}\r\n            </div>\r\n          </React.Fragment>\r\n        ) : (\r\n          <button className=\"btn btn-dark mt-2\" onClick={this.toggleShowOrders.bind(this, true)}><i className=\"fas fa-eye\"></i> Показать заказы</button>\r\n        )}\r\n\r\n\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  order: state.order,\r\n  admin: state.admin,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps)(withRouter(ShowDisStats));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from '../common/Spinner';\r\nimport Moment from 'react-moment';\r\n\r\nimport ShowDisStats from './ShowDisStats';\r\nimport {\r\n  getAllDisinfectorsAndSubadmins,\r\n  getDisinfectorStatsForAdmin,\r\n  clearStatsData\r\n} from '../../actions/adminActions';\r\nimport monthsNames from '../common/monthNames';\r\nimport getMonthAndYearLabels from '../../utils/monthAndYearLabels';\r\nimport returnMonthAndYear from '../../utils/returnMonthAndYear';\r\n\r\n\r\nimport { getWeekDays, getWeekRange } from '../common/weekFunc';\r\nimport DayPicker from 'react-day-picker';\r\nimport 'react-day-picker/lib/style.css';\r\n\r\n\r\nclass DisStats extends Component {\r\n  state = {\r\n    month: '',\r\n    year: '',\r\n    day: '',\r\n\r\n    // // to display month and year in heading h2\r\n    headingMonth: '',\r\n    headingYear: '',\r\n    headingDay: '',\r\n\r\n    hoverRange: undefined,\r\n    selectedDays: [],\r\n    selectedDaysAfterSubmit: [],\r\n\r\n    disinfectorIdMonth: '',\r\n    disinfectorIdWeek: '',\r\n    disinfectorIdDay: '',\r\n    disinfectorName: '',\r\n    occupation: ''\r\n  };\r\n\r\n  componentWillMount() {\r\n    this.props.clearStatsData();\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.getAllDisinfectorsAndSubadmins();\r\n  }\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  setSpecificMonth = (param) => {\r\n    const { month, year } = returnMonthAndYear(param);\r\n    this.setState({ month, year });\r\n  }\r\n\r\n  getMonthStats = (e) => {\r\n    e.preventDefault();\r\n    this.props.admin.disinfectors.forEach(person => {\r\n      if (person._id.toString() === this.state.disinfectorIdMonth.toString()) {\r\n        this.setState({\r\n          headingMonth: this.state.month,\r\n          headingYear: this.state.year,\r\n          disinfectorName: person.name,\r\n          occupation: person.occupation\r\n        });\r\n      }\r\n    });\r\n\r\n    let object = {\r\n      type: 'month',\r\n      id: this.state.disinfectorIdMonth,\r\n      month: Number(this.state.month),\r\n      year: Number(this.state.year)\r\n    };\r\n    this.props.getDisinfectorStatsForAdmin(object);\r\n  }\r\n\r\n  getWeekStats = (e) => {\r\n    e.preventDefault();\r\n    if (this.state.selectedDays.length === 0) {\r\n      alert('Вы не выбрали неделю');\r\n    } else {\r\n      this.props.admin.disinfectors.forEach(person => {\r\n        if (person._id.toString() === this.state.disinfectorIdWeek.toString()) {\r\n          this.setState({\r\n            selectedDaysAfterSubmit: this.state.selectedDays,\r\n            disinfectorName: person.name,\r\n            occupation: person.occupation\r\n          });\r\n        }\r\n      });\r\n\r\n      let object = {\r\n        type: 'week',\r\n        id: this.state.disinfectorIdWeek,\r\n        days: this.state.selectedDays\r\n      };\r\n      this.props.getDisinfectorStatsForAdmin(object);\r\n    }\r\n  }\r\n\r\n  getDayStats = (e) => {\r\n    e.preventDefault();\r\n\r\n    this.props.admin.disinfectors.forEach(person => {\r\n      if (person._id.toString() === this.state.disinfectorIdDay.toString()) {\r\n        this.setState({\r\n          headingDay: this.state.day.split('-').reverse().join('-'),\r\n          disinfectorName: person.name,\r\n          occupation: person.occupation\r\n        });\r\n      }\r\n    });\r\n\r\n    let object = {\r\n      type: 'day',\r\n      id: this.state.disinfectorIdDay,\r\n      day: this.state.day\r\n    };\r\n    this.props.getDisinfectorStatsForAdmin(object);\r\n  }\r\n\r\n\r\n  // weekly calendar\r\n  handleDayChange = date => {\r\n    this.setState({\r\n      selectedDays: getWeekDays(getWeekRange(date).from)\r\n    });\r\n  };\r\n\r\n  handleDayEnter = date => {\r\n    this.setState({\r\n      hoverRange: getWeekRange(date)\r\n    });\r\n  };\r\n\r\n  handleDayLeave = () => {\r\n    this.setState({\r\n      hoverRange: undefined\r\n    });\r\n  };\r\n\r\n  handleWeekClick = (weekNumber, days, e) => {\r\n    this.setState({\r\n      selectedDays: getWeekDays(getWeekRange(days[0]).from)\r\n    });\r\n  };\r\n  // end of weekly calendar\r\n\r\n\r\n\r\n  render() {\r\n    const { monthLabels, yearLabels } = getMonthAndYearLabels();\r\n\r\n    const yearsOptions = yearLabels.map((year, index) =>\r\n      <option value={year.value} key={index}>{year.label}</option>\r\n    );\r\n    const monthOptions = monthLabels.map((month, index) =>\r\n      <option value={month.value} key={index}>{month.label}</option>\r\n    );\r\n\r\n    let disinfectorOptions = [{\r\n      label: \"-- Выберите Пользователя -- \", value: \"\"\r\n    }];\r\n\r\n    this.props.admin.disinfectors.forEach(person => {\r\n      disinfectorOptions.push({\r\n        label: `${person.occupation} ${person.name}`, value: person._id\r\n      });\r\n    });\r\n\r\n    let renderDisinfectorOptions = disinfectorOptions.map((item, index) =>\r\n      <option value={item.value} key={index}>{item.label}</option>\r\n    );\r\n\r\n\r\n    // weekly calender\r\n    const { hoverRange, selectedDays } = this.state;\r\n\r\n    const daysAreSelected = selectedDays.length > 0;\r\n\r\n    const modifiers = {\r\n      hoverRange,\r\n      selectedRange: daysAreSelected && {\r\n        from: selectedDays[0],\r\n        to: selectedDays[6],\r\n      },\r\n      hoverRangeStart: hoverRange && hoverRange.from,\r\n      hoverRangeEnd: hoverRange && hoverRange.to,\r\n      selectedRangeStart: daysAreSelected && selectedDays[0],\r\n      selectedRangeEnd: daysAreSelected && selectedDays[6]\r\n    };\r\n    // end of calendar\r\n\r\n\r\n    return (\r\n      <div className=\"container-fluid\" >\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-4 col-md-6 mt-3\">\r\n            <form onSubmit={this.getMonthStats} className=\"form-bg p-2\">\r\n              <h4 className=\"text-center\">Статистика по месяцам</h4>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"disinfectorIdMonth\"><strong>Выберите Пользователя:</strong></label>\r\n                <select name=\"disinfectorIdMonth\" className=\"form-control\" onChange={this.onChange} required>\r\n                  {renderDisinfectorOptions}\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"year\"><strong>Выберите Год:</strong></label>\r\n                <select name=\"year\" className=\"form-control\" onChange={this.onChange} value={this.state.year} required>\r\n                  {yearsOptions}\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"month\"><strong>Выберите Месяц:</strong></label>\r\n                <select name=\"month\" className=\"form-control\" onChange={this.onChange} value={this.state.month} required>\r\n                  {monthOptions}\r\n                </select>\r\n              </div>\r\n              <button type=\"submit\" className=\"btn btn-success mr-1 mt-1\"><i className=\"fas fa-search\"></i> Искать</button>\r\n\r\n              <button type=\"button\" className=\"btn btn-danger mr-1 mt-1\" onClick={() => this.setSpecificMonth('current')}>Этот месяц</button>\r\n\r\n              <button type=\"button\" className=\"btn btn-primary mr-1 mt-1\" onClick={() => this.setSpecificMonth('previous')}>Прошлый месяц</button>\r\n            </form>\r\n          </div>\r\n\r\n          <div className=\"col-lg-4 col-md-6 mt-3\">\r\n            <form onSubmit={this.getDayStats} className=\"form-bg p-2\">\r\n              <h4 className=\"text-center\">Статистика по дням</h4>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"disinfectorIdDay\"><strong>Выберите Пользователя:</strong></label>\r\n                <select name=\"disinfectorIdDay\" className=\"form-control\" onChange={this.onChange} required>\r\n                  {renderDisinfectorOptions}\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"day\"><strong>Выберите День:</strong></label>\r\n                <input type=\"date\" name=\"day\" className=\"form-control\" onChange={this.onChange} required />\r\n              </div>\r\n              <button type=\"submit\" className=\"btn btn-primary\"><i className=\"fas fa-search\"></i> Искать</button>\r\n            </form>\r\n          </div>\r\n\r\n          <div className=\"col-lg-4 col-md-6 weekly-stats mt-3\">\r\n            <div className=\"SelectedWeekExample form-bg font-weight-bold\">\r\n              <h4 className=\"text-center\">Статистика по неделям</h4>\r\n              <DayPicker\r\n                selectedDays={selectedDays}\r\n                showWeekNumbers\r\n                showOutsideDays\r\n                modifiers={modifiers}\r\n                firstDayOfWeek={1}\r\n                onDayClick={this.handleDayChange}\r\n                onDayMouseEnter={this.handleDayEnter}\r\n                onDayMouseLeave={this.handleDayLeave}\r\n                onWeekClick={this.handleWeekClick}\r\n              />\r\n            </div>\r\n            <form onSubmit={this.getWeekStats} className=\"form-bg p-2\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"disinfectorIdWeek\"><strong>Выберите Пользователя:</strong></label>\r\n                <select name=\"disinfectorIdWeek\" className=\"form-control\" onChange={this.onChange} required>\r\n                  {renderDisinfectorOptions}\r\n                </select>\r\n              </div>\r\n              <button type=\"submit\" className=\"btn btn-success\"><i className=\"fas fa-search\"></i> Искать</button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row mt-2\">\r\n          <div className=\"col-12\">\r\n            {this.props.admin.method === 'week' && this.state.disinfectorName && this.state.selectedDays ?\r\n              <h2 className=\"text-center pl-3 pr-3\">Недельная статистика {this.state.occupation} {this.state.disinfectorName} за <Moment format=\"DD/MM/YYYY\">{this.state.selectedDaysAfterSubmit[0]}</Moment> - <Moment format=\"DD/MM/YYYY\">{this.state.selectedDaysAfterSubmit[6]}</Moment></h2> : ''\r\n            }\r\n\r\n            {this.props.admin.method === 'month' && this.state.disinfectorName && this.state.month && this.state.year ?\r\n              <h2 className=\"text-center pl-3 pr-3\">Месячная Статистика {this.state.occupation}  {this.state.disinfectorName} за {monthsNames[this.state.headingMonth]}, {this.state.headingYear}</h2> : ''}\r\n\r\n            {this.props.admin.method === 'day' && this.state.disinfectorName && this.state.day ?\r\n              <h2 className=\"text-center pl-3 pr-3\">Дневная Статистика {this.state.occupation}  {this.state.disinfectorName} за {this.state.headingDay}</h2> : ''}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            {this.props.admin.loadingStats ? <Spinner /> : <ShowDisStats />}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  admin: state.admin,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n  getAllDisinfectorsAndSubadmins,\r\n  getDisinfectorStatsForAdmin,\r\n  clearStatsData\r\n})(withRouter(DisStats));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Moment from 'react-moment';\r\n\r\n// import materials from '../common/materials';\r\nimport removeZeros from '../../utils/removeZerosMat';\r\nimport calculateDisinfScore from '../../utils/calcDisinfScore';\r\nimport calculateStats from '../../utils/calcStats';\r\nimport calcMaterialConsumption from '../../utils/calcMatConsumption';\r\n\r\n\r\nclass ShowOperStats extends Component {\r\n  state = {\r\n    orders: this.props.admin.stats.orders,\r\n    showOrders: false\r\n  };\r\n\r\n  toggleShowOrders = (param) => {\r\n    this.setState({\r\n      showOrders: param\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { orders } = this.state;\r\n\r\n    // calculate statistics\r\n    let {\r\n      totalSum,\r\n      totalScore,\r\n      totalOrders,\r\n      completed,\r\n      confirmedOrders,\r\n      rejected,\r\n      consultAndOsmotrConfirmed,\r\n\r\n      failed,\r\n      povtors,\r\n\r\n      corporate,\r\n      corporatePercent,\r\n      corpSum,\r\n      corpSumPercent,\r\n\r\n      indiv,\r\n      indivPercent,\r\n      indivSum,\r\n      indivSumPercent\r\n    } = calculateStats(orders);\r\n\r\n    // let totalConsumption = [];\r\n\r\n    // let totalSum = 0,\r\n    //   totalScore = 0,\r\n    //   totalConsumption = [],\r\n    //   completedOrders = [],\r\n    //   confirmedOrders = [],\r\n    //   rejectedOrders = [],\r\n    //   failedOrders = 0;\r\n\r\n    // let corporateClientOrders = {\r\n    //   sum: 0,\r\n    //   orders: 0\r\n    // };\r\n\r\n    // let indivClientOrders = {\r\n    //   sum: 0,\r\n    //   orders: 0\r\n    // };\r\n\r\n    // materials.forEach(object => {\r\n    //   const emptyObject = {\r\n    //     material: object.material,\r\n    //     amount: 0,\r\n    //     unit: object.unit\r\n    //   };\r\n    //   totalConsumption.push(emptyObject);\r\n    // });\r\n\r\n    // orders.forEach(order => {\r\n    //   if (order.completed) {\r\n    //     completedOrders.push(order);\r\n\r\n    //     if (order.clientType === 'corporate') {\r\n    //       // if (order.operatorConfirmed && order.accountantConfirmed) {\r\n    //       //   confirmedOrders.push(order);\r\n    //       //   totalSum += order.cost;\r\n    //       //   totalScore += order.score;\r\n\r\n    //       //   corporateClientOrders.orders++;\r\n    //       //   corporateClientOrders.sum += order.cost;\r\n    //       // }\r\n    //       // if ((order.operatorDecided && !order.operatorConfirmed) || (order.accountantDecided && !order.accountantConfirmed)) {\r\n    //       //   rejectedOrders.push(order);\r\n    //       // }\r\n\r\n\r\n    //       if (order.paymentMethod === 'cash') {\r\n    //         if (order.operatorConfirmed && order.adminConfirmed) {\r\n    //           confirmedOrders.push(order);\r\n    //           totalSum += order.cost;\r\n    //           totalScore += order.score;\r\n\r\n    //           corporateClientOrders.orders++;\r\n    //           corporateClientOrders.sum += order.cost;\r\n    //         }\r\n\r\n    //         if ((order.operatorDecided && !order.operatorConfirmed) || (order.adminDecided && !order.adminConfirmed)) {\r\n    //           rejectedOrders.push(order);\r\n    //         }\r\n    //       }\r\n\r\n    //       if (order.paymentMethod === 'notCash') {\r\n    //         if (order.operatorConfirmed && order.accountantConfirmed) {\r\n    //           confirmedOrders.push(order);\r\n    //           totalSum += order.cost;\r\n    //           totalScore += order.score;\r\n\r\n    //           corporateClientOrders.orders++;\r\n    //           corporateClientOrders.sum += order.cost;\r\n    //         }\r\n    //         if ((order.operatorDecided && !order.operatorConfirmed) || (order.accountantDecided && !order.accountantConfirmed)) {\r\n    //           rejectedOrders.push(order);\r\n    //         }\r\n    //       }\r\n    //     }\r\n\r\n    //     if (order.clientType === 'individual') {\r\n    //       if (order.operatorConfirmed && order.adminConfirmed) {\r\n    //         confirmedOrders.push(order);\r\n    //         totalSum += order.cost;\r\n    //         totalScore += order.score;\r\n\r\n    //         indivClientOrders.orders++;\r\n    //         indivClientOrders.sum += order.cost;\r\n    //       }\r\n    //       if ((order.operatorDecided && !order.operatorConfirmed) || (order.adminDecided && !order.adminConfirmed)) {\r\n    //         rejectedOrders.push(order);\r\n    //       }\r\n    //     }\r\n\r\n    //     if (order.failed) {\r\n    //       failedOrders++;\r\n    //     }\r\n\r\n    //     // calculate total consumption of all orders in given period\r\n    //     order.disinfectors.forEach(element => {\r\n    //       element.consumption.forEach(object => {\r\n    //         totalConsumption.forEach(item => {\r\n    //           if (object.material === item.material && object.unit === item.unit) {\r\n    //             item.amount += object.amount;\r\n    //           }\r\n    //         });\r\n    //       });\r\n    //     });\r\n    //   }\r\n    // });\r\n\r\n\r\n    // // calculate total consumption of all orders in given period\r\n    // orders.forEach(order => {\r\n    //   if (order.completed) {\r\n    //     order.disinfectors.forEach(element => {\r\n    //       element.consumption.forEach(object => {\r\n    //         totalConsumption.forEach(item => {\r\n    //           if (object.material === item.material && object.unit === item.unit) {\r\n    //             item.amount += object.amount;\r\n    //           }\r\n    //         });\r\n    //       });\r\n    //     });\r\n    //   }\r\n    // });\r\n\r\n\r\n    // не считать расходы материалов у повторных и некачественных заказов (нужно учесть)\r\n    // заказ, который не является некачественным и не является повторным\r\n    let approvedOrders = this.state.orders.filter(order =>\r\n      order.completed &&\r\n      !order.failed &&\r\n      !order.hasOwnProperty('prevFailedOrder')\r\n    );\r\n\r\n    // calculate total consumption of all orders in given period\r\n    // let totalConsumption = calcMaterialConsumption(orders);\r\n    let totalConsumption = calcMaterialConsumption(approvedOrders);\r\n\r\n    // calculate average score\r\n    let averageScore = calculateDisinfScore({\r\n      totalScore: totalScore,\r\n      totalOrders: confirmedOrders.length,\r\n      failedOrders: failed\r\n    }) || 0;\r\n\r\n    // remove materials with amount of 0\r\n    totalConsumption = removeZeros(totalConsumption);\r\n\r\n    let renderTotalConsumption = totalConsumption.map((element, key) =>\r\n      <li key={key}>{element.material}: {element.amount.toLocaleString()} {element.unit}</li>\r\n    );\r\n\r\n\r\n\r\n    let renderOrders = orders.map((item, key) => {\r\n      // consumption array of specific confirmed order\r\n      let consumptionArray = [];\r\n\r\n      item.disinfectors.forEach(item => {\r\n        consumptionArray.push({\r\n          user: item.user,\r\n          consumption: item.consumption\r\n        });\r\n      });\r\n\r\n      let renderOrderConsumption = consumptionArray.map((object, number) =>\r\n        <li key={number}>\r\n          <p className=\"mb-0\">Пользователь: {object.user.occupation} {object.user.name}</p>\r\n          {object.consumption.map((element, number) =>\r\n            <p key={number} className=\"mb-0\">{element.material}: {element.amount.toLocaleString()} {element.unit}</p>\r\n          )}\r\n        </li>\r\n      );\r\n\r\n      return (\r\n        <div className=\"col-lg-4 col-md-6\" key={key}>\r\n          <div className=\"card order mt-2\">\r\n            <div className=\"card-body p-0\">\r\n              <ul className=\"font-bold mb-0 list-unstyled\">\r\n                {item.prevFailedOrder && (\r\n                  <li><h4><i className=\"fas fas fa-exclamation\"></i> Повторный заказ <i className=\"fas fas fa-exclamation\"></i></h4></li>\r\n                )}\r\n\r\n                {item.failed && (\r\n                  <li><h4><i className=\"fas fas fa-exclamation\"></i> Некачественный заказ <i className=\"fas fas fa-exclamation\"></i></h4></li>\r\n                )}\r\n\r\n                {item.disinfectorId ? (\r\n                  <li>Ответственный: {item.disinfectorId.occupation} {item.disinfectorId.name}</li>\r\n                ) : ''}\r\n\r\n                {item.operatorDecided ? (\r\n                  <React.Fragment>\r\n                    <li>Оператор рассмотрел заявку</li>\r\n                    {item.operatorConfirmed ? (\r\n                      <React.Fragment>\r\n                        <li className=\"text-success\">Оператор Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{item.operatorCheckedAt}</Moment>)</li>\r\n                        <li>Балл (0-5): {item.score}</li>\r\n                        <li>Отзыв Клиента: {item.clientReview ? item.clientReview : 'Нет Отзыва'}</li>\r\n                      </React.Fragment>\r\n                    ) : <li className=\"text-danger\">Оператор Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{item.operatorCheckedAt}</Moment>)</li>}\r\n                  </React.Fragment>\r\n                ) : <li>Оператор еще не рассмотрел заявку</li>}\r\n\r\n\r\n\r\n\r\n\r\n\r\n                {item.accountantDecided ? (\r\n                  <React.Fragment>\r\n                    <li>Бухгалтер рассмотрел заявку</li>\r\n                    {item.accountantConfirmed ? (\r\n                      <React.Fragment>\r\n                        <li className=\"text-success\">Бухгалтер Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{item.accountantCheckedAt}</Moment>)</li>\r\n                        <li>Счет-Фактура: {item.invoice ? item.invoice : '--'}</li>\r\n                        <li>Общая Сумма: {item.cost.toLocaleString()} UZS (каждому по {(item.cost / item.disinfectors.length).toLocaleString()} UZS)</li>\r\n                      </React.Fragment>\r\n                    ) : <li className=\"text-danger\">Бухгалтер Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{item.accountantCheckedAt}</Moment>)</li>}\r\n                  </React.Fragment>\r\n                ) : (\r\n                  <React.Fragment>\r\n\r\n                    {item.adminDecided ? (\r\n                      <React.Fragment>\r\n                        <li>Админ рассмотрел заявку</li>\r\n                        {item.adminConfirmed ? (\r\n                          <li className=\"text-success\">Админ Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{item.adminCheckedAt}</Moment>)</li>\r\n                        ) : <li className=\"text-danger\">Админ Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{item.adminCheckedAt}</Moment>)</li>}\r\n                      </React.Fragment>\r\n                    ) : (\r\n                      <li>Бухгалтер еще не рассмотрел заявку</li>\r\n                    )}\r\n\r\n                  </React.Fragment>\r\n                )}\r\n\r\n\r\n                {/* {item.clientType === 'corporate' && item.paymentMethod === 'notCash' && !item.accountantDecided ? <li>Бухгалтер еще не рассмотрел заявку</li> : ''}\r\n\r\n                {item.clientType === 'corporate' && item.paymentMethod === 'notCash' && item.accountantDecided ?\r\n                  <React.Fragment>\r\n                    <li>Бухгалтер рассмотрел заявку</li>\r\n                    {item.accountantConfirmed ? (\r\n                      <React.Fragment>\r\n                        <li className=\"text-success\">Бухгалтер Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{item.accountantCheckedAt}</Moment>)</li>\r\n                        <li>Счет-Фактура: {item.invoice}</li>\r\n                        <li>Общая Сумма: {item.cost.toLocaleString()} UZS (каждому по {(item.cost / item.disinfectors.length).toLocaleString()} UZS)</li>\r\n                      </React.Fragment>\r\n                    ) : <li className=\"text-danger\">Бухгалтер Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{item.accountantCheckedAt}</Moment>)</li>}\r\n                  </React.Fragment>\r\n                  : ''}\r\n\r\n                {item.clientType === 'corporate' && item.paymentMethod === 'cash' && !item.adminDecided ? <li>Админ еще не рассмотрел заявку</li> : ''}\r\n\r\n                {item.clientType === 'corporate' && item.paymentMethod === 'cash' && item.adminDecided ? (\r\n                  <React.Fragment>\r\n                    <li>Админ рассмотрел заявку</li>\r\n                    {item.adminConfirmed ? (\r\n                      <li className=\"text-success\">Админ Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{item.adminCheckedAt}</Moment>)</li>\r\n                    ) : <li className=\"text-danger\">Админ Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{item.adminCheckedAt}</Moment>)</li>}\r\n                  </React.Fragment>\r\n                ) : ''}\r\n\r\n                {item.clientType === 'individual' && !item.adminDecided ? <li>Админ еще не рассмотрел заявку</li> : ''}\r\n                {item.clientType === 'individual' && item.adminDecided ? (\r\n                  <React.Fragment>\r\n                    <li>Админ рассмотрел заявку</li>\r\n                    {item.adminConfirmed ? (\r\n                      <li className=\"text-success\">Админ Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{item.adminCheckedAt}</Moment>)</li>\r\n                    ) : <li className=\"text-danger\">Админ Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{item.adminCheckedAt}</Moment>)</li>}\r\n                  </React.Fragment>\r\n                ) : ''} */}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                {item.clientType === 'corporate' ?\r\n                  <React.Fragment>\r\n                    {item.clientId ? (\r\n                      <li className=\"text-danger\">Корпоративный Клиент: {item.clientId.name}</li>\r\n                    ) : <li className=\"text-danger\">Корпоративный Клиент</li>}\r\n                    <li className=\"text-danger\">Имя клиента: {item.client}</li>\r\n                  </React.Fragment>\r\n                  : ''}\r\n\r\n                {item.clientType === 'individual' ?\r\n                  <li className=\"text-danger\">Физический Клиент: {item.client}</li>\r\n                  : ''}\r\n\r\n                <li className=\"text-danger\">Дата выполнения: <Moment format=\"DD/MM/YYYY\">{item.dateFrom}</Moment></li>\r\n                {item.completed ? (\r\n                  <li className=\"text-danger\">Время выполнения: С <Moment format=\"HH:mm\">{item.dateFrom}</Moment> ПО <Moment format=\"HH:mm\">{item.completedAt}</Moment></li>\r\n                ) : (\r\n                  <li className=\"text-danger\">Время выполнения: С <Moment format=\"HH:mm\">{item.dateFrom}</Moment></li>\r\n                )}\r\n                <li className=\"text-danger\">Адрес: {item.address}</li>\r\n                <li className=\"text-danger\">Тип услуги: {item.typeOfService}</li>\r\n\r\n                <li>Комментарии Оператора: {item.comment ? item.comment : '--'}</li>\r\n                <li>Комментарии Дезинфектора: {item.disinfectorComment ? item.disinfectorComment : '--'}</li>\r\n                <li>Срок гарантии (в месяцах): {item.guarantee}</li>\r\n\r\n                <li>Расход Материалов (заказ выполнили {item.disinfectors.length} чел):</li>\r\n                <ul className=\"font-bold mb-0\">\r\n                  {renderOrderConsumption}\r\n                </ul>\r\n\r\n                {item.completed && item.clientType === 'corporate' ? (\r\n                  <React.Fragment>\r\n                    {item.paymentMethod === 'cash' ? (\r\n                      <React.Fragment>\r\n                        <li>Тип Платежа: Наличный</li>\r\n                        <li>Общая Сумма: {item.cost.toLocaleString()} UZS (каждому по {(item.cost / item.disinfectors.length).toLocaleString()} UZS)</li>\r\n                      </React.Fragment>\r\n                    ) : (\r\n                      <React.Fragment>\r\n                        <li>Тип Платежа: Безналичный</li>\r\n                        <li>Номер Договора: {item.contractNumber}</li>\r\n                      </React.Fragment>\r\n                    )}\r\n                  </React.Fragment>\r\n                ) : ''}\r\n\r\n                {item.completed && item.clientType === 'individual' && item.cost ?\r\n                  <li>Общая Сумма: {item.cost.toLocaleString()} UZS (каждому по {(item.cost / item.disinfectors.length).toLocaleString()} UZS)</li>\r\n                  : ''}\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )\r\n    });\r\n\r\n\r\n\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-4 col-md-6\">\r\n            <div className=\"card order mt-2\">\r\n              <div className=\"card-body p-0\">\r\n                <ul className=\"font-bold mb-0 list-unstyled\">\r\n                  <li>Всего Пользователь принял Заказов: {totalOrders}</li>\r\n                  <li>Выполнено Заказов: {completed}</li>\r\n                  <li>Подтверждено Заказов: {confirmedOrders.length} (из них Консультации и Осмотры: {consultAndOsmotrConfirmed})</li>\r\n\r\n                  <li className=\"pt-2\">Общая Сумма: {totalSum.toLocaleString()} UZS</li>\r\n                  <li className=\"pb-2\">Средний балл: {averageScore.toFixed(2)} (из 5)</li>\r\n\r\n                  <li>Отвергнуто Заказов: {rejected}</li>\r\n                  <li>Некачественные заказы: {failed}</li>\r\n                  <li>Повторные заказы: {povtors}</li>\r\n\r\n                  <h6 className=\"mt-2\">* некачественные и повторные заказы не входят в подтвержденные заказы и общую сумму</h6>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-lg-4 col-md-6\">\r\n            <div className=\"card order mt-2\">\r\n              <div className=\"card-body p-0\">\r\n                <ul className=\"font-bold mb-0 list-unstyled\">\r\n\r\n                  <h4 className=\"text-center\">Корпоративные клиенты</h4>\r\n                  <li>Подтвержденные заказы: {corporate} ({corporatePercent} %)</li>\r\n                  <li>На общую сумму: {corpSum.toLocaleString()} UZS  ({corpSumPercent} %)</li>\r\n\r\n                  <h4 className=\"text-center\">Физические клиенты</h4>\r\n                  <li>Подтвержденные заказы: {indiv} ({indivPercent} %)</li>\r\n                  <li>На общую сумму: {indivSum.toLocaleString()} UZS ({indivSumPercent} %)</li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-lg-4 col-md-6\">\r\n            <div className=\"card order mt-2\">\r\n              <div className=\"card-body p-0\">\r\n                <h4 className=\"text-center\">На этих заказах расходовано материалов:</h4>\r\n                <ul className=\"font-bold mb-0 list-unstyled\">\r\n                  {renderTotalConsumption}\r\n\r\n                  <h6 className=\"mt-2\">* расход только подтвержденных заказов</h6>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {this.state.showOrders ? (\r\n          <React.Fragment>\r\n            <div className=\"row mt-2\">\r\n              <div className=\"col-12\">\r\n                <button className=\"btn btn-dark\" onClick={this.toggleShowOrders.bind(this, false)}><i className=\"fas fa-eye-slash\"></i> Скрыть заказы</button>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"row mt-2\">\r\n              <div className=\"col-12\">\r\n                <h2 className=\"text-center pl-3 pr-3\">Заказы, которые принял Пользователь</h2>\r\n              </div>\r\n              {orders.length > 0 ? (renderOrders) : <h2>Нет заказов</h2>}\r\n            </div>\r\n          </React.Fragment>\r\n        ) : (\r\n          <button className=\"btn btn-dark mt-2\" onClick={this.toggleShowOrders.bind(this, true)}><i className=\"fas fa-eye\"></i> Показать заказы</button>\r\n        )}\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  order: state.order,\r\n  admin: state.admin,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps)(withRouter(ShowOperStats));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from '../common/Spinner';\r\nimport Moment from 'react-moment';\r\n\r\nimport ShowOperStats from './ShowOperStats';\r\nimport {\r\n  getAllOperatorsAndAmins,\r\n  getOperatorStats,\r\n  clearStatsData\r\n} from '../../actions/adminActions';\r\nimport monthsNames from '../common/monthNames';\r\nimport getMonthAndYearLabels from '../../utils/monthAndYearLabels';\r\nimport returnMonthAndYear from '../../utils/returnMonthAndYear';\r\n\r\n\r\nimport { getWeekDays, getWeekRange } from '../common/weekFunc';\r\nimport DayPicker from 'react-day-picker';\r\nimport 'react-day-picker/lib/style.css';\r\n\r\n\r\nclass OperStats extends Component {\r\n  state = {\r\n    month: '',\r\n    year: '',\r\n    day: '',\r\n\r\n    // // to display month and year in heading h2\r\n    headingMonth: '',\r\n    headingYear: '',\r\n    headingDay: '',\r\n\r\n    hoverRange: undefined,\r\n    selectedDays: [],\r\n    selectedDaysAfterSubmit: [],\r\n\r\n    operatorId: '',\r\n    operatorName: '',\r\n    occupation: ''\r\n  };\r\n\r\n  componentWillMount() {\r\n    this.props.clearStatsData();\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.getAllOperatorsAndAmins();\r\n  }\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  setSpecificMonth = (param) => {\r\n    const { month, year } = returnMonthAndYear(param);\r\n    this.setState({ month, year });\r\n  }\r\n\r\n  getMonthStats = (e) => {\r\n    e.preventDefault();\r\n    this.props.admin.operators.forEach(person => {\r\n      if (person._id.toString() === this.state.operatorId.toString()) {\r\n        this.setState({\r\n          headingMonth: this.state.month,\r\n          headingYear: this.state.year,\r\n          operatorName: person.name,\r\n          occupation: person.occupation\r\n        });\r\n      }\r\n    });\r\n    const object = {\r\n      type: 'month',\r\n      operatorId: this.state.operatorId,\r\n      month: Number(this.state.month),\r\n      year: Number(this.state.year)\r\n    };\r\n    this.props.getOperatorStats(object);\r\n  }\r\n\r\n  getWeekStats = (e) => {\r\n    e.preventDefault();\r\n    if (this.state.selectedDays.length === 0) {\r\n      alert('Вы не выбрали неделю');\r\n    } else {\r\n      this.props.admin.operators.forEach(person => {\r\n        if (person._id.toString() === this.state.operatorId.toString()) {\r\n          this.setState({\r\n            selectedDaysAfterSubmit: this.state.selectedDays,\r\n            operatorName: person.name,\r\n            occupation: person.occupation\r\n          });\r\n        }\r\n      });\r\n      const object = {\r\n        type: 'week',\r\n        operatorId: this.state.operatorId,\r\n        days: this.state.selectedDays\r\n      };\r\n      this.props.getOperatorStats(object);\r\n    }\r\n  }\r\n\r\n  getDayStats = (e) => {\r\n    e.preventDefault();\r\n    this.props.admin.operators.forEach(person => {\r\n      if (person._id.toString() === this.state.operatorId.toString()) {\r\n        this.setState({\r\n          headingDay: this.state.day.split('-').reverse().join('-'),\r\n          operatorName: person.name,\r\n          occupation: person.occupation\r\n        });\r\n      }\r\n    });\r\n    const object = {\r\n      type: 'day',\r\n      operatorId: this.state.operatorId,\r\n      day: this.state.day\r\n    };\r\n    this.props.getOperatorStats(object);\r\n  }\r\n\r\n\r\n  // weekly calendar\r\n  handleDayChange = date => {\r\n    this.setState({\r\n      selectedDays: getWeekDays(getWeekRange(date).from)\r\n    });\r\n  };\r\n\r\n  handleDayEnter = date => {\r\n    this.setState({\r\n      hoverRange: getWeekRange(date)\r\n    });\r\n  };\r\n\r\n  handleDayLeave = () => {\r\n    this.setState({\r\n      hoverRange: undefined\r\n    });\r\n  };\r\n\r\n  handleWeekClick = (weekNumber, days, e) => {\r\n    this.setState({\r\n      selectedDays: getWeekDays(getWeekRange(days[0]).from)\r\n    });\r\n  };\r\n  // end of weekly calendar\r\n\r\n\r\n  render() {\r\n    const { monthLabels, yearLabels } = getMonthAndYearLabels();\r\n\r\n    const yearsOptions = yearLabels.map((year, index) =>\r\n      <option value={year.value} key={index}>{year.label}</option>\r\n    );\r\n    const monthOptions = monthLabels.map((month, index) =>\r\n      <option value={month.value} key={index}>{month.label}</option>\r\n    );\r\n\r\n    let operatorOptions = [{\r\n      label: \"-- Выберите Оператора/Админа -- \", value: \"\"\r\n    }];\r\n\r\n    this.props.admin.operators.forEach(person => {\r\n      operatorOptions.push({\r\n        label: `${person.occupation} ${person.name}`, value: person._id\r\n      });\r\n    });\r\n\r\n    let renderOperatorOptions = operatorOptions.map((item, index) =>\r\n      <option value={item.value} key={index}>{item.label}</option>\r\n    );\r\n\r\n\r\n    // weekly calender\r\n    const { hoverRange, selectedDays } = this.state;\r\n\r\n    const daysAreSelected = selectedDays.length > 0;\r\n\r\n    const modifiers = {\r\n      hoverRange,\r\n      selectedRange: daysAreSelected && {\r\n        from: selectedDays[0],\r\n        to: selectedDays[6],\r\n      },\r\n      hoverRangeStart: hoverRange && hoverRange.from,\r\n      hoverRangeEnd: hoverRange && hoverRange.to,\r\n      selectedRangeStart: daysAreSelected && selectedDays[0],\r\n      selectedRangeEnd: daysAreSelected && selectedDays[6]\r\n    };\r\n    // end of calendar\r\n\r\n\r\n    return (\r\n      <div className=\"container-fluid\" >\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-4 col-md-6 mt-3\">\r\n            <form onSubmit={this.getMonthStats} className=\"form-bg p-2\">\r\n              <h4 className=\"text-center\">Статистика по месяцам</h4>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"operatorId\"><strong>Выберите Оператора/Админа:</strong></label>\r\n                <select name=\"operatorId\" className=\"form-control\" onChange={this.onChange} required>\r\n                  {renderOperatorOptions}\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"year\"><strong>Выберите Год:</strong></label>\r\n                <select name=\"year\" className=\"form-control\" onChange={this.onChange} value={this.state.year} required>\r\n                  {yearsOptions}\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"month\"><strong>Выберите Месяц:</strong></label>\r\n                <select name=\"month\" className=\"form-control\" onChange={this.onChange} value={this.state.month} required>\r\n                  {monthOptions}\r\n                </select>\r\n              </div>\r\n              <button type=\"submit\" className=\"btn btn-success mr-1 mt-1\"><i className=\"fas fa-search\"></i> Искать</button>\r\n\r\n              <button type=\"button\" className=\"btn btn-danger mr-1 mt-1\" onClick={() => this.setSpecificMonth('current')}>Этот месяц</button>\r\n\r\n              <button type=\"button\" className=\"btn btn-primary mr-1 mt-1\" onClick={() => this.setSpecificMonth('previous')}>Прошлый месяц</button>\r\n            </form>\r\n          </div>\r\n\r\n          <div className=\"col-lg-4 col-md-6 mt-3\">\r\n            <form onSubmit={this.getDayStats} className=\"form-bg p-2\">\r\n              <h4 className=\"text-center\">Статистика по дням</h4>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"operatorId\"><strong>Выберите Оператора/Админа:</strong></label>\r\n                <select name=\"operatorId\" className=\"form-control\" onChange={this.onChange} required>\r\n                  {renderOperatorOptions}\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"day\"><strong>Выберите День:</strong></label>\r\n                <input type=\"date\" name=\"day\" className=\"form-control\" onChange={this.onChange} required />\r\n              </div>\r\n              <button type=\"submit\" className=\"btn btn-primary\"><i className=\"fas fa-search\"></i> Искать</button>\r\n            </form>\r\n          </div>\r\n\r\n          <div className=\"col-lg-4 col-md-6 weekly-stats mt-3\">\r\n            <div className=\"SelectedWeekExample form-bg font-weight-bold\">\r\n              <h4 className=\"text-center\">Статистика по неделям</h4>\r\n              <DayPicker\r\n                selectedDays={selectedDays}\r\n                showWeekNumbers\r\n                showOutsideDays\r\n                modifiers={modifiers}\r\n                firstDayOfWeek={1}\r\n                onDayClick={this.handleDayChange}\r\n                onDayMouseEnter={this.handleDayEnter}\r\n                onDayMouseLeave={this.handleDayLeave}\r\n                onWeekClick={this.handleWeekClick}\r\n              />\r\n            </div>\r\n            <form onSubmit={this.getWeekStats} className=\"form-bg p-2\">\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"operatorId\"><strong>Выберите Оператора/Админа:</strong></label>\r\n                <select name=\"operatorId\" className=\"form-control\" onChange={this.onChange} required>\r\n                  {renderOperatorOptions}\r\n                </select>\r\n              </div>\r\n              <button type=\"submit\" className=\"btn btn-success\"><i className=\"fas fa-search\"></i> Искать</button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row mt-2\">\r\n          <div className=\"col-12\">\r\n            {this.props.admin.method === 'week' && this.state.operatorName && this.state.selectedDays ?\r\n              <h2 className=\"text-center pl-3 pr-3\">Недельная статистика {this.state.occupation} {this.state.operatorName} за <Moment format=\"DD/MM/YYYY\">{this.state.selectedDaysAfterSubmit[0]}</Moment> - <Moment format=\"DD/MM/YYYY\">{this.state.selectedDaysAfterSubmit[6]}</Moment></h2> : ''\r\n            }\r\n\r\n            {this.props.admin.method === 'month' && this.state.operatorName && this.state.headingMonth && this.state.headingYear ?\r\n              <h2 className=\"text-center pl-3 pr-3\">Месячная Статистика {this.state.occupation} {this.state.operatorName} за {monthsNames[this.state.headingMonth]}, {this.state.headingYear}</h2> : ''}\r\n\r\n            {this.props.admin.method === 'day' && this.state.operatorName && this.state.headingDay ?\r\n              <h2 className=\"text-center pl-3 pr-3\">Дневная Статистика {this.state.occupation} {this.state.operatorName} за {this.state.headingDay}</h2> : ''}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            {this.props.admin.loadingStats ? <Spinner /> : <ShowOperStats />}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  admin: state.admin,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getAllOperatorsAndAmins, getOperatorStats, clearStatsData })(withRouter(OperStats));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Moment from 'react-moment';\r\n\r\nimport { getQueriesForAdmin, adminConfirmsOrderQuery } from '../../actions/adminActions';\r\n\r\nclass ShowQueriesForAdmin extends Component {\r\n  _isMounted = false;\r\n\r\n  state = {\r\n    orderQueries: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    this._isMounted = true;\r\n    if (this.props.admin.orderQueries && this.props.admin.orderQueries.length > 0) {\r\n      this.setState({\r\n        orderQueries: this.props.admin.orderQueries\r\n      });\r\n    }\r\n  }\r\n\r\n  adminConfirmsOrderQuery = (orderId, response, disinfectors) => {\r\n    const object = {\r\n      orderId: orderId,\r\n      response: response,\r\n      disinfectors: disinfectors\r\n    };\r\n    this.props.adminConfirmsOrderQuery(object, this.props.history);\r\n    window.location.reload();\r\n  };\r\n\r\n  goToAddNewForm = (order) => {\r\n    this.props.history.push(`/fail/add-new/${order._id}`, {\r\n      pathname: `/fail/add-new/${order._id}`,\r\n      state: { order }\r\n    });\r\n    // this.props.goToAddNewForm(order, this.props.history);\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  }\r\n\r\n  render() {\r\n    let orderQueries = this.state.orderQueries.map((order, index) => {\r\n\r\n      let consumptionArray = [];\r\n      order.disinfectors.forEach(item => {\r\n        consumptionArray.push({\r\n          user: item.user,\r\n          consumption: item.consumption\r\n        });\r\n      });\r\n\r\n      let renderConsumptionOfOrder = consumptionArray.map((item, index) => {\r\n        return (\r\n          <li key={index}>\r\n            <p className=\"mb-0\">Пользователь: {item.user.occupation} {item.user.name}</p>\r\n            {item.consumption.map((element, number) =>\r\n              <p key={number} className=\"mb-0\">{element.material}: {element.amount.toLocaleString()} {element.unit}</p>\r\n            )}\r\n          </li>\r\n        );\r\n      });\r\n\r\n      return (\r\n        <div className=\"col-lg-4 col-md-6 mt-3\" key={index}>\r\n          <div className=\"card order mt-2\">\r\n            <div className=\"card-body p-0\">\r\n              <ul className=\"font-bold mb-0 pl-0 list-unstyled\">\r\n                {order.prevFailedOrder && (\r\n                  <li><h4><i className=\"fas fas fa-exclamation\"></i> Повторный заказ <i className=\"fas fas fa-exclamation\"></i></h4></li>\r\n                )}\r\n\r\n                {order.failed && (\r\n                  <li><h4><i className=\"fas fas fa-exclamation\"></i>Некачественный заказ <i className=\"fas fas fa-exclamation\"></i></h4></li>\r\n                )}\r\n\r\n                {order.returnedBack ? (\r\n                  <li className=\"text-danger\">Это возвращенный заказ</li>\r\n                ) : ''}\r\n\r\n                {order.disinfectorId ? (\r\n                  <li>Ответственный: {order.disinfectorId.occupation} {order.disinfectorId.name}</li>\r\n                ) : ''}\r\n\r\n                {order.clientType === 'corporate' ?\r\n                  <React.Fragment>\r\n                    {order.clientId ? (\r\n                      <li className=\"text-danger\">Корпоративный Клиент: {order.clientId.name}</li>\r\n                    ) : <li className=\"text-danger\">Корпоративный Клиент</li>}\r\n                    <li className=\"text-danger\">Имя клиента: {order.client}</li>\r\n                  </React.Fragment>\r\n                  : ''}\r\n\r\n                {order.clientType === 'individual' ?\r\n                  <li className=\"text-danger\">Физический Клиент: {order.client}</li>\r\n                  : ''}\r\n\r\n                <li className=\"text-danger\">Телефон Клиента: {order.phone}</li>\r\n                <li className=\"text-danger\">Дата: <Moment format=\"DD/MM/YYYY\">{order.dateFrom}</Moment></li>\r\n                <li className=\"text-danger\">Время выполнения: С <Moment format=\"HH:mm\">{order.dateFrom}</Moment> ПО <Moment format=\"HH:mm\">{order.completedAt}</Moment></li>\r\n                <li className=\"text-danger\">Адрес: {order.address}</li>\r\n                <li>Тип услуги: {order.typeOfService}</li>\r\n                <li>Откуда узнали: {order.advertising}</li>\r\n                <li>Форма Выполнения Заказа заполнена: <Moment format=\"DD/MM/YYYY HH:mm\">{order.completedAt}</Moment></li>\r\n                <li>Срок гарантии (в месяцах): {order.guarantee}</li>\r\n\r\n                <li>Расход Материалов (заказ выполнили {order.disinfectors.length} чел):</li>\r\n                <ul className=\"font-bold mb-0\">\r\n                  {renderConsumptionOfOrder}\r\n                </ul>\r\n\r\n                {order.clientType === 'corporate' ? (\r\n                  <React.Fragment>\r\n                    {order.paymentMethod === 'cash' ? (\r\n                      <React.Fragment>\r\n                        <li>Тип Платежа: Наличный</li>\r\n                        <li>Общая Сумма: {order.cost.toLocaleString()} UZS (каждому по {(order.cost / order.disinfectors.length).toLocaleString()} UZS)</li>\r\n                      </React.Fragment>\r\n                    ) : (\r\n                      <React.Fragment>\r\n                        <li>Тип Платежа: Безналичный</li>\r\n                        <li>Номер Договора: {order.contractNumber}</li>\r\n                      </React.Fragment>\r\n                    )}\r\n                  </React.Fragment>\r\n                ) : ''}\r\n\r\n                {order.clientType === 'individual' ?\r\n                  <li>Общая Сумма: {order.cost.toLocaleString()} Сум (каждому по {(order.cost / order.disinfectors.length).toFixed(2).toLocaleString()} Сум)</li>\r\n                  : ''}\r\n\r\n                {order.userCreated ? (\r\n                  <li>Добавил Заказ: {order.userCreated.occupation} {order.userCreated.name}</li>\r\n                ) : ''}\r\n\r\n                {order.userAcceptedOrder ? (\r\n                  <li>Заказ принял: {order.userAcceptedOrder.occupation} {order.userAcceptedOrder.name}</li>\r\n                ) : ''}\r\n\r\n                {order.operatorDecided ? (\r\n                  <React.Fragment>\r\n                    <li>Оператор рассмотрел заявку</li>\r\n                    {order.operatorConfirmed ? (\r\n                      <React.Fragment>\r\n                        <li className=\"text-success\">Оператор Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.operatorCheckedAt}</Moment>)</li>\r\n                        <li>Балл (0-5): {order.score}</li>\r\n                        <li>Отзыв Клиента: {order.clientReview ? order.clientReview : 'Нет Отзыва'}</li>\r\n                      </React.Fragment>\r\n                    ) : <li className=\"text-danger\">Оператор Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.operatorCheckedAt}</Moment>)</li>}\r\n                  </React.Fragment>\r\n                ) : <li>Оператор еще не рассмотрел заявку</li>}\r\n              </ul>\r\n\r\n              <div className=\"btn-group mt-3\">\r\n                <button className=\"btn btn-danger mr-2\" onClick={() => { if (window.confirm('Вы уверены отменить заказ?')) { this.adminConfirmsOrderQuery(order._id, 'false') } }}>Отменить</button>\r\n              </div>\r\n\r\n              <div className=\"btn-group mt-3\">\r\n                <button className=\"btn btn-success mr-2\" onClick={() => { if (window.confirm('Вы уверены подтвердить заказ?')) { this.adminConfirmsOrderQuery(order._id, 'true') } }}>Подтвердить</button>\r\n              </div>\r\n\r\n              <div className=\"btn-group mt-3\">\r\n                <button className=\"btn btn-dark mr-2\" onClick={() => { if (window.confirm('Вы уверены отправить заказ обратно дезинфектору?')) { this.adminConfirmsOrderQuery(order._id, 'back', order.disinfectors) } }}>Обратно</button>\r\n              </div>\r\n\r\n              {!order.failed ? (\r\n                <div className=\"btn-group mt-3\">\r\n                  <button\r\n                    className=\"btn btn-secondary mr-2\"\r\n                    onClick={() => this.goToAddNewForm(order)}\r\n                  >Клиент Недоволен</button>\r\n                </div>\r\n              ) : ''}\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )\r\n    });\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <h1 className=\"text-center\">Выполненные Заказы</h1>\r\n          </div>\r\n\r\n          <div className=\"col-12\">\r\n            <button className=\"btn btn-primary\" onClick={() => this.props.getQueriesForAdmin()}>Обновить запросы</button>\r\n          </div>\r\n          {orderQueries}\r\n        </div>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  order: state.order,\r\n  admin: state.admin,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getQueriesForAdmin, adminConfirmsOrderQuery })(withRouter(ShowQueriesForAdmin));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from '../common/Spinner';\r\n\r\nimport { getQueriesForAdmin } from '../../actions/adminActions';\r\n\r\nimport ShowQueriesForAdmin from './ShowQueriesForAdmin';\r\n\r\nclass AdminQueries extends Component {\r\n  componentDidMount() {\r\n    if (!this.props.admin.orderQueries || this.props.admin.orderQueries.length === 0) {\r\n      this.props.getQueriesForAdmin();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        {this.props.admin.loadingOrderQueries ? <Spinner /> : <ShowQueriesForAdmin />}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  order: state.order,\r\n  admin: state.admin,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getQueriesForAdmin })(withRouter(AdminQueries));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from '../common/Spinner';\r\nimport Moment from 'react-moment';\r\n\r\nimport materials from '../common/materials';\r\nimport removeZeros from '../../utils/removeZerosMat';\r\n\r\nimport {\r\n  getAllDisinfectorsAndSubadmins,\r\n  getCurrentMaterials,\r\n  addMaterialToDisinfector\r\n} from '../../actions/adminActions';\r\n\r\nclass AdminMaterials extends Component {\r\n  state = {\r\n    array: [{}],\r\n    currentMaterials: [],\r\n    materials: [\r\n      {\r\n        material: '',\r\n        amount: 0,\r\n        unit: ''\r\n      }\r\n    ],\r\n    disinfector: ''\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.getCurrentMaterials();\r\n    this.props.getAllDisinfectorsAndSubadmins();\r\n    window.scrollTo({ top: 0 });\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    this.setState({\r\n      currentMaterials: nextProps.admin.currentMaterials.materials\r\n    });\r\n  }\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  changeSelect = (e) => {\r\n    const index = e.target.name.split('-')[1];\r\n    let newMaterialsArray = this.state.materials;\r\n    newMaterialsArray[index].material = e.target.value.split('+')[0];\r\n    newMaterialsArray[index].unit = e.target.value.split('+')[1];\r\n    this.setState({\r\n      materials: newMaterialsArray\r\n    });\r\n  }\r\n\r\n  changeAmount = (e) => {\r\n    const index = e.target.name.split('-')[1];\r\n    let newMaterialsArray = this.state.materials;\r\n    newMaterialsArray[index].amount = Number(e.target.value);\r\n    this.setState({\r\n      materials: newMaterialsArray\r\n    });\r\n  }\r\n\r\n  addMaterial = (e) => {\r\n    e.preventDefault();\r\n    let newArray = this.state.array;\r\n    newArray.push({});\r\n    let newMaterialsArray = this.state.materials;\r\n    newMaterialsArray.push({\r\n      material: '',\r\n      amount: 0,\r\n      unit: ''\r\n    });\r\n    this.setState({\r\n      array: newArray,\r\n      materials: newMaterialsArray\r\n    });\r\n  }\r\n\r\n  deleteMaterial = (e) => {\r\n    e.preventDefault();\r\n    let newArray = this.state.array;\r\n    newArray.pop();\r\n    let newMaterialsArray = this.state.materials;\r\n    newMaterialsArray.pop();\r\n    this.setState({\r\n      array: newArray,\r\n      materials: newMaterialsArray\r\n    });\r\n  }\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n    let emptyFields = 0, notEnoughMaterials = 0, zeroValues = 0;\r\n    this.state.materials.forEach(item => {\r\n      if (item.material === '') {\r\n        emptyFields++;\r\n      }\r\n      if (item.amount <= 0) {\r\n        zeroValues++;\r\n      }\r\n      this.state.currentMaterials.forEach(element => {\r\n        if (item.material === element.material && item.unit === element.unit && item.amount > element.amount) {\r\n          notEnoughMaterials++;\r\n          return;\r\n        }\r\n      });\r\n    });\r\n\r\n    if (emptyFields > 0) {\r\n      alert('Заполните Поле \"Выберите Материал и Количество\"');\r\n    } else if (zeroValues > 0) {\r\n      alert('Количество Материала не может быть нулем или отрицательнам числом');\r\n    } else if (notEnoughMaterials > 0) {\r\n      alert('У вас недостаточно материалов');\r\n    } else {\r\n      const object = {\r\n        disinfector: this.state.disinfector,\r\n        admin: this.props.auth.user.id,\r\n        materials: this.state.materials\r\n      };\r\n      this.props.addMaterialToDisinfector(object, this.props.auth.user.occupation, this.props.history);\r\n      this.props.getAllDisinfectorsAndSubadmins();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let showDisinfectors = this.props.admin.disinfectors.map((item, index) => {\r\n      let matArray = removeZeros([...item.materials]);\r\n\r\n      let disinfectorMaterials = matArray.map((material, number) =>\r\n        <li key={number}>{material.material}: {material.amount} {material.unit}</li>\r\n      );\r\n\r\n      return (\r\n        <div className=\"col-lg-4 col-md-6\" key={index}>\r\n          <div className=\"card order mt-2\">\r\n            <div className=\"card-body p-0\">\r\n              <ul className=\"font-bold mb-0 list-unstyled\">\r\n                <h4 className=\"text-center\">{item.occupation} {item.name}</h4>\r\n                <p className=\"mb-0\">Имеется в наличии материалов:</p>\r\n                <ul>\r\n                  {disinfectorMaterials}\r\n                </ul>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )\r\n    });\r\n\r\n    let consumptionMaterials = [\r\n      { label: '-- Выберите вещество --', value: \"\", unit: \"\" }\r\n    ];\r\n\r\n    materials.forEach(item => {\r\n      consumptionMaterials.push({\r\n        label: item.material,\r\n        value: item.material,\r\n        unit: item.unit\r\n      })\r\n    });\r\n\r\n    const materialOptions = consumptionMaterials.map((option, index) =>\r\n      <option value={`${option.value}+${option.unit}`} key={index}>{option.label} {option.unit}</option>\r\n    );\r\n\r\n    let renderMaterials = this.state.array.map((item, index) =>\r\n      <React.Fragment key={index}>\r\n        <div className=\"form-group\">\r\n          <select name={`consumption-${index}`} className=\"form-control\" onChange={this.changeSelect} required>\r\n            {materialOptions}\r\n          </select>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor={`quantity-${index}`}>Количество:</label>\r\n          <input\r\n            type=\"number\"\r\n            step=\"0.001\"\r\n            className=\"form-control\"\r\n            name={`quantity-${index}`}\r\n            onChange={this.changeAmount}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"border-bottom-red\"></div>\r\n      </React.Fragment>\r\n    );\r\n\r\n    let disinfectorOptions = [\r\n      { label: '-- Выберите пользователя --', value: \"\" }\r\n    ];\r\n\r\n    this.props.admin.disinfectors.forEach(worker => disinfectorOptions.push({\r\n      label: `${worker.occupation} ${worker.name}`, value: worker._id\r\n    }));\r\n\r\n    // current materials\r\n    let currentMat = removeZeros([...this.state.currentMaterials]);\r\n\r\n    let renderCurMat = currentMat.map((item, index) =>\r\n      <li key={index}>{item.material}: {item.amount} {item.unit}</li>\r\n    );\r\n\r\n\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        {this.props.admin.loadingCurMat ? <Spinner /> :\r\n          <div className=\"row mt-2\">\r\n            <div className=\"col-lg-6 col-md-8 m-auto\">\r\n              <div className=\"card order mt-2\">\r\n                <div className=\"card-body p-0\">\r\n                  <h3 className=\"text-center\">Сейчас имеется материалов на складе</h3>\r\n                  <ul className=\"font-bold mb-0 list-unstyled\">\r\n                    {renderCurMat}\r\n                    <li>Последнее обновление: <Moment format=\"DD/MM/YYYY HH:mm\">{this.props.admin.currentMaterials.lastUpdated}</Moment></li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        }\r\n\r\n        <div className=\"row mt-3\">\r\n          <div className=\"col-12\">\r\n            <h3 className=\"text-center\">Материалы у пользователей</h3>\r\n          </div>\r\n        </div>\r\n\r\n        {this.props.admin.loadingDisinfectors ? <Spinner /> :\r\n          <div className=\"row mt-2\">\r\n            {showDisinfectors}\r\n          </div>\r\n        }\r\n\r\n        <div className=\"row mt-3\">\r\n          <div className=\"col-lg-6 col-md-8 mx-auto\">\r\n            <div className=\"card mt-2\">\r\n              <div className=\"card-body\">\r\n                <h2 className=\"text-center\">Добавить Материалы Пользователю</h2>\r\n                <form onSubmit={this.onSubmit}>\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"disinfector\">Выберите Пользователя:</label>\r\n                    {this.props.admin.loadingDisinfectors ? (\r\n                      <p>Дезинфекторы загружаются...</p>\r\n                    ) : (\r\n                      <select value={this.state.disinfector} name=\"disinfector\" className=\"form-control\" onChange={this.onChange} required>\r\n                        {disinfectorOptions.map((item, index) =>\r\n                          <option value={item.value} key={index}>{item.label}</option>\r\n                        )}\r\n                      </select>\r\n                    )}\r\n                  </div>\r\n\r\n                  <label htmlFor=\"consumption\">Выберите Материал и Количество:</label>\r\n                  {renderMaterials}\r\n\r\n                  {this.state.array.length < materials.length ? <button className=\"btn btn-primary mr-2 mt-2\" onClick={this.addMaterial}><i className=\"fas fa-plus\"></i> Добавить Материал</button> : ''}\r\n\r\n                  {this.state.array.length === 1 ? '' : <button className=\"btn btn-danger mt-2\" onClick={this.deleteMaterial}><i className=\"fas fa-trash-alt\"></i> Удалить последний материал</button>}\r\n\r\n                  <div className=\"border-bottom\"></div>\r\n\r\n                  <button type=\"submit\" className=\"btn btn-success\"><i className=\"fas fa-plus-circle\"></i> Добавить Пользователю</button>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  admin: state.admin,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getAllDisinfectorsAndSubadmins, getCurrentMaterials, addMaterialToDisinfector })(withRouter(AdminMaterials));","import React from 'react';\r\nimport classnames from 'classnames';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst TextFieldGroup = ({\r\n  name,\r\n  placeholder,\r\n  value,\r\n  label,\r\n  error,\r\n  info,\r\n  type,\r\n  onChange,\r\n  disabled,\r\n  required\r\n}) => {\r\n  return (\r\n    <div className=\"form-group\">\r\n      <label htmlFor={name}>{label}</label>\r\n      <input\r\n        type={type}\r\n        className={classnames('form-control', {\r\n          'is-invalid': error\r\n        })}\r\n        placeholder={placeholder}\r\n        name={name}\r\n        value={value}\r\n        onChange={onChange}\r\n        disabled={disabled}\r\n        required={required}\r\n      />\r\n      {info && <small className=\"form-text text-muted\">{info}</small>}\r\n      {error && (\r\n        <div className=\"invalid-feedback\">{error}</div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nTextFieldGroup.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  placeholder: PropTypes.string,\r\n  info: PropTypes.string,\r\n  error: PropTypes.string,\r\n  type: PropTypes.string.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  disabled: PropTypes.string\r\n};\r\n\r\nTextFieldGroup.defaultProps = {\r\n  type: 'text'\r\n};\r\n\r\nexport default TextFieldGroup;","import React from 'react';\r\nimport classnames from 'classnames';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst TextAreaFieldGroup = ({\r\n  name,\r\n  placeholder,\r\n  value,\r\n  error,\r\n  info,\r\n  onChange\r\n}) => {\r\n  return (\r\n    <div className=\"form-group\">\r\n      <textarea\r\n        className={classnames('form-control', {\r\n          'is-invalid': error\r\n        })}\r\n        placeholder={placeholder}\r\n        name={name}\r\n        value={value}\r\n        onChange={onChange}\r\n      />\r\n      {info && <small className=\"form-text text-muted\">{info}</small>}\r\n      {error && (\r\n        <div className=\"invalid-feedback\">{error}</div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nTextAreaFieldGroup.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  placeholder: PropTypes.string,\r\n  value: PropTypes.string.isRequired,\r\n  info: PropTypes.string,\r\n  error: PropTypes.string,\r\n  onChange: PropTypes.func.isRequired\r\n}\r\n\r\nexport default TextAreaFieldGroup;","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Spinner from '../common/Spinner';\r\nimport TextFieldGroup from '../common/TextFieldGroup';\r\nimport TextAreaFieldGroup from '../common/TextAreaFieldGroup';\r\nimport isEmpty from '../../validation/is-empty';\r\n\r\nimport {\r\n  getDisinfectors,\r\n  getAllUsers,\r\n  getCorporateClients,\r\n  getOrderForEdit,\r\n  editOrder\r\n} from '../../actions/orderActions';\r\n\r\nimport orderTypes from '../common/orderTypes';\r\nimport advertisements from '../common/advertisements';\r\n\r\n\r\n\r\nclass EditOrder extends Component {\r\n  state = {\r\n    _id: '',\r\n    disinfectorId: '',\r\n    userAcceptedOrder: '',\r\n    clientType: '',\r\n    client: '',\r\n    clientId: '',\r\n\r\n    address: '',\r\n    date: '',\r\n    timeFrom: '',\r\n    phone: '',\r\n    hasSecondPhone: false,\r\n    phone2: '',\r\n    typeOfService: [],\r\n    advertising: '',\r\n    comment: ''\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.getOrderForEdit(this.props.match.params.orderId);\r\n    this.props.getDisinfectors();\r\n    this.props.getCorporateClients();\r\n    this.props.getAllUsers();\r\n    // window.location.reload();\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    // if (nextProps.order) {\r\n    //   this.setState({\r\n    //     order: nextProps.order\r\n    //   });\r\n    // }\r\n\r\n    if (nextProps.order.orderById) {\r\n      let orderForEdit = nextProps.order.orderById;\r\n\r\n      orderForEdit.disinfectorId = !isEmpty(orderForEdit.disinfectorId) ? orderForEdit.disinfectorId : '';\r\n\r\n      // orderForEdit.userAcceptedOrder = !isEmpty(orderForEdit.userAcceptedOrder) ? orderForEdit.userAcceptedOrder : '';\r\n      orderForEdit.userAcceptedOrder = orderForEdit.userAcceptedOrder ? orderForEdit.userAcceptedOrder : '';\r\n\r\n      orderForEdit.clientType = !isEmpty(orderForEdit.clientType) ? orderForEdit.clientType : '';\r\n      orderForEdit.clientId = !isEmpty(orderForEdit.clientId) ? orderForEdit.clientId : '';\r\n\r\n      orderForEdit.client = !isEmpty(orderForEdit.client) ? orderForEdit.client : '';\r\n      orderForEdit.address = !isEmpty(orderForEdit.address) ? orderForEdit.address : '';\r\n      orderForEdit.phone = !isEmpty(orderForEdit.phone) ? orderForEdit.phone : '';\r\n      orderForEdit.typeOfService = !isEmpty(orderForEdit.typeOfService) ? orderForEdit.typeOfService : '';\r\n      orderForEdit.advertising = !isEmpty(orderForEdit.advertising) ? orderForEdit.advertising : '';\r\n\r\n      orderForEdit.comment = !isEmpty(orderForEdit.comment) ? orderForEdit.comment : '';\r\n\r\n      if (isEmpty(orderForEdit.phone2)) {\r\n        this.setState({\r\n          hasSecondPhone: false\r\n        });\r\n        orderForEdit.phone2 = '';\r\n      } else {\r\n        this.setState({\r\n          hasSecondPhone: true\r\n        });\r\n      }\r\n\r\n      const date = !isEmpty(orderForEdit.dateFrom) ? new Date(orderForEdit.dateFrom) : '';\r\n\r\n      let defaultDateMonth, defaultDateDay, defaultHourString;\r\n      if (new Date(date).getMonth() < 9) {\r\n        defaultDateMonth = `0${new Date(date).getMonth() + 1}`;\r\n      } else {\r\n        defaultDateMonth = `${new Date(date).getMonth() + 1}`;\r\n      }\r\n\r\n      if (new Date(date).getDate() < 10) {\r\n        defaultDateDay = `0${new Date(date).getDate()}`;\r\n      } else {\r\n        defaultDateDay = new Date(date).getDate();\r\n      }\r\n      const defaultDateString = `${new Date(date).getFullYear()}-${defaultDateMonth}-${defaultDateDay}`;\r\n\r\n      if (new Date(date).getHours() < 10) {\r\n        defaultHourString = `0${new Date(date).getHours()}:00`;\r\n      } else {\r\n        defaultHourString = `${new Date(date).getHours()}:00`;\r\n      }\r\n\r\n\r\n\r\n      let array = [];\r\n      orderTypes.forEach(object => {\r\n        array.push({\r\n          type: object.value,\r\n          selected: false\r\n        });\r\n      });\r\n\r\n      // service type array\r\n      let arraySelectedItems = orderForEdit.typeOfService.split(',');\r\n\r\n      array.forEach(item => {\r\n        arraySelectedItems.forEach(element => {\r\n          if (item.type === element.trim()) {\r\n            item.selected = true;\r\n          }\r\n        });\r\n      });\r\n\r\n\r\n      this.setState({\r\n        _id: orderForEdit._id,\r\n        disinfectorId: orderForEdit.disinfectorId._id,\r\n        userAcceptedOrder: orderForEdit.userAcceptedOrder._id,\r\n        clientType: orderForEdit.clientType,\r\n        client: orderForEdit.client,\r\n        clientId: orderForEdit.clientId._id,\r\n        address: orderForEdit.address,\r\n        date: defaultDateString,\r\n        timeFrom: defaultHourString,\r\n        phone: orderForEdit.phone,\r\n        phone2: orderForEdit.phone2,\r\n        typeOfService: array,\r\n        advertising: orderForEdit.advertising,\r\n        comment: orderForEdit.comment\r\n      });\r\n    }\r\n  }\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  onChangeTypes = (e) => {\r\n    let array = [...this.state.typeOfService];\r\n    array.forEach(item => {\r\n      if (item.type === e.target.value) {\r\n        item.selected = e.target.checked;\r\n      }\r\n    });\r\n\r\n    this.setState({\r\n      typeOfService: array\r\n    });\r\n  }\r\n\r\n  toggleSecondPhone = (e) => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      hasSecondPhone: !this.state.hasSecondPhone\r\n    });\r\n  }\r\n\r\n  deleteSecondPhone = (e) => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      hasSecondPhone: false,\r\n      phone2: ''\r\n    });\r\n  }\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const date = this.state.date.split('-');\r\n    const dateStringFrom = new Date(`${date[1]}-${date[2]}-${date[0]} ${this.state.timeFrom}`);\r\n\r\n    let numberCharacters = 0, phone2Characters = 0;\r\n    for (let i = 1; i <= 12; i++) {\r\n      if (this.state.phone[i] >= '0' && this.state.phone[i] <= '9') {\r\n        numberCharacters++;\r\n      }\r\n      if (this.state.phone2[i] >= '0' && this.state.phone2[i] <= '9') {\r\n        phone2Characters++;\r\n      }\r\n    }\r\n\r\n    let serviceTypeString = '', selectedItems = 0;\r\n    this.state.typeOfService.forEach(item => {\r\n      if (item.selected) {\r\n        selectedItems++;\r\n        if (selectedItems === 1) {\r\n          serviceTypeString = serviceTypeString + item.type;\r\n        } else {\r\n          serviceTypeString = serviceTypeString + ', ' + item.type;\r\n        }\r\n      }\r\n    });\r\n\r\n    if (this.state.phone.length !== 13 || (this.state.hasSecondPhone && this.state.phone2.length !== 13)) {\r\n      alert('Телефонный номер должен содержать 13 символов. Введите в формате +998XXXXXXXXX');\r\n    } else if (this.state.phone[0] !== '+' || (this.state.hasSecondPhone && this.state.phone2[0] !== '+')) {\r\n      alert('Телефонный номер должен начинаться с \"+\". Введите в формате +998XXXXXXXXX');\r\n    } else if (numberCharacters !== 12 || (this.state.hasSecondPhone && phone2Characters !== 12)) {\r\n      alert('Телефонный номер должен содержать \"+\" и 12 цифр');\r\n    } else if (selectedItems === 0) {\r\n      alert('Выберите тип заказа');\r\n    } else {\r\n      const order = {\r\n        _id: this.state._id,\r\n        disinfectorId: this.state.disinfectorId,\r\n        userAcceptedOrder: this.state.userAcceptedOrder,\r\n        clientType: this.state.clientType,\r\n        client: this.state.client,\r\n        clientId: this.state.clientId,\r\n        address: this.state.address,\r\n        date: this.state.date,\r\n        dateFrom: dateStringFrom,\r\n        timeFrom: this.state.timeFrom,\r\n        phone: this.state.phone,\r\n        phone2: this.state.phone2,\r\n        typeOfService: serviceTypeString,\r\n        advertising: this.state.advertising,\r\n        comment: this.state.comment,\r\n      };\r\n      this.props.editOrder(order, this.props.history, this.props.auth.user.occupation);\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n    let allUsers = this.props.order.allUsers ? this.props.order.allUsers.sort((x, y) => x.name - y.name) : [];\r\n    const userOptions = [\r\n      { label: '-- Кто принял заказ? --', value: '' }\r\n    ];\r\n    allUsers.forEach(item => {\r\n      userOptions.push({\r\n        label: `${item.occupation}, ${item.name}`,\r\n        value: item._id\r\n      });\r\n    });\r\n\r\n    let disinfectors = allUsers.filter(user => user.occupation === 'disinfector' || user.occupation === 'subadmin');\r\n    let disinfectorOptions = [\r\n      { label: '-- Выберите ответственного дезинфектора --', value: '' }\r\n    ];\r\n    disinfectors.forEach(worker => disinfectorOptions.push(\r\n      { label: `${worker.name}, ${worker.occupation}`, value: worker._id }\r\n    ));\r\n\r\n    const clientTypes = [\r\n      { label: '-- Выберите тип клиента --', value: '' },\r\n      { label: 'Корпоративный', value: 'corporate' },\r\n      { label: 'Физический', value: 'individual' }\r\n    ];\r\n\r\n    const corporateClients = [\r\n      { label: '-- Выберите корпоративного клиента --', value: '' }\r\n    ];\r\n    // sort clients alphabetically\r\n    let sortedCorpClients = this.props.order.corporateClients.sort((a, b) => {\r\n      if (a.name.toUpperCase() < b.name.toUpperCase()) { return -1; }\r\n      if (a.name.toUpperCase() > b.name.toUpperCase()) { return 1; }\r\n      return 0;\r\n    });\r\n    sortedCorpClients.forEach(item => {\r\n      corporateClients.push({\r\n        label: item.name,\r\n        value: item._id\r\n      });\r\n    });\r\n\r\n    const advOptions = [\r\n      { label: '-- Откуда узнали о нас? --', value: '' }\r\n    ];\r\n\r\n    advertisements.forEach(item => {\r\n      advOptions.push({\r\n        label: item.label,\r\n        value: item.value\r\n      });\r\n    });\r\n\r\n    let renderServiceTypes = this.state.typeOfService.map((item, key) =>\r\n      <div className=\"form-check\" key={key}>\r\n        <label className=\"form-check-label\">\r\n          {item.selected ?\r\n            <React.Fragment>\r\n              <input type=\"checkbox\" defaultChecked=\"checked\" className=\"form-check-input\" onChange={this.onChangeTypes} value={item.type} />{item.type}\r\n            </React.Fragment> :\r\n            <React.Fragment>\r\n              <input type=\"checkbox\" className=\"form-check-input\" onChange={this.onChangeTypes} value={item.type} />{item.type}\r\n            </React.Fragment>}\r\n        </label>\r\n      </div>\r\n    );\r\n\r\n    return (\r\n      <React.Fragment>\r\n        {this.props.order.loading ? <Spinner /> : (\r\n          <div className=\"container edit-order mt-4\">\r\n            <div className=\"row\">\r\n              <div className=\"col-md-8 m-auto\">\r\n                <div className=\"card\">\r\n                  <div className=\"card-body\">\r\n                    <h2 className=\"display-5 text-center\">Редактировать Заказ</h2>\r\n                    <form onSubmit={this.onSubmit}>\r\n                      <div className=\"form-group\">\r\n                        <label htmlFor=\"clientType\">Выберите Тип Клиента:</label>\r\n                        <select className=\"form-control\" value={this.state.clientType} name=\"clientType\" onChange={this.onChange} required>\r\n                          {clientTypes.map((item, index) =>\r\n                            <option key={index} value={item.value}>{item.label}</option>\r\n                          )}\r\n                        </select>\r\n                      </div>\r\n\r\n                      {this.state.clientType === 'corporate' ? (\r\n                        <div className=\"form-group\">\r\n                          <label htmlFor=\"clientId\">Выберите Корпоративного Клиента:</label>\r\n                          <select className=\"form-control\" value={this.state.clientId} name=\"clientId\" onChange={this.onChange} required>\r\n                            {corporateClients.map((item, index) =>\r\n                              <option key={index} value={item.value}>{item.label}</option>\r\n                            )}\r\n                          </select>\r\n                        </div>\r\n                      ) : ''}\r\n\r\n                      <TextFieldGroup\r\n                        label=\"Введите Имя Клиента:\"\r\n                        type=\"text\"\r\n                        name=\"client\"\r\n                        value={this.state.client}\r\n                        onChange={this.onChange}\r\n                        required\r\n                      />\r\n                      <TextFieldGroup\r\n                        label=\"Адрес\"\r\n                        type=\"text\"\r\n                        name=\"address\"\r\n                        value={this.state.address}\r\n                        onChange={this.onChange}\r\n                        required\r\n                      />\r\n                      <TextFieldGroup\r\n                        label=\"Телефон\"\r\n                        type=\"phone\"\r\n                        name=\"phone\"\r\n                        value={this.state.phone}\r\n                        onChange={this.onChange}\r\n                        required\r\n                      />\r\n\r\n                      {this.state.hasSecondPhone ? (\r\n                        <React.Fragment>\r\n                          <TextFieldGroup\r\n                            label=\"Другой Номер Телефона\"\r\n                            placeholder=\"Введите запасной номер телефона\"\r\n                            type=\"phone\"\r\n                            name=\"phone2\"\r\n                            value={this.state.phone2}\r\n                            onChange={this.onChange}\r\n                            required\r\n                          />\r\n                          <button className=\"btn btn-danger mb-2\" onClick={this.deleteSecondPhone}><i className=\"fas fa-minus-circle\"></i> Убрать запасной номер телефона</button>\r\n                        </React.Fragment>\r\n                      ) : (\r\n                        <button className=\"btn btn-success mb-3\" onClick={this.toggleSecondPhone}><i className=\"fas fa-plus-circle\"></i> Добавить другой номер</button>\r\n                      )}\r\n\r\n                      <TextFieldGroup\r\n                        label=\"Дата выполнения заказа\"\r\n                        name=\"date\"\r\n                        type=\"date\"\r\n                        value={this.state.date}\r\n                        onChange={this.onChange}\r\n                        required\r\n                      />\r\n                      <TextFieldGroup\r\n                        label=\"Время (часы:минуты:AM/PM) C\"\r\n                        name=\"timeFrom\"\r\n                        type=\"time\"\r\n                        value={this.state.timeFrom}\r\n                        onChange={this.onChange}\r\n                        required\r\n                      />\r\n\r\n                      {/* <div className=\"form-group\">\r\n                        <label htmlFor=\"typeOfService\">Выберите Тип Заказа:</label>\r\n                        <select className=\"form-control\" value={this.state.typeOfService} name=\"typeOfService\" onChange={this.onChange} required>\r\n                          {orderTypes.map((item, index) =>\r\n                            <option key={index} value={item.value}>{item.label}</option>\r\n                          )}\r\n                        </select>\r\n                      </div> */}\r\n\r\n\r\n                      <div className=\"border-bottom\"></div>\r\n                      <label htmlFor=\"\">Выберите тип заказа (можно выбрать несколько):</label>\r\n                      {renderServiceTypes}\r\n                      <div className=\"border-bottom\"></div>\r\n\r\n\r\n                      <div className=\"form-group\">\r\n                        <label htmlFor=\"advertising\">Откуда Узнали:</label>\r\n                        <select className=\"form-control\" value={this.state.advertising} name=\"advertising\" onChange={this.onChange} required>\r\n                          {advOptions.map((item, index) =>\r\n                            <option key={index} value={item.value}>{item.label}</option>\r\n                          )}\r\n                        </select>\r\n                      </div>\r\n\r\n                      {this.props.order.loading ? (\r\n                        <p>Дезинфекторы загружаются...</p>\r\n                      ) : (\r\n                        <div className=\"form-group\">\r\n                          <label htmlFor=\"disinfectorId\">Выберите Дезинфектора:</label>\r\n                          <select className=\"form-control\" value={this.state.disinfectorId} name=\"disinfectorId\" onChange={this.onChange} required>\r\n                            {disinfectorOptions.map((item, index) =>\r\n                              <option key={index} value={item.value}>{item.label}</option>\r\n                            )}\r\n                          </select>\r\n                        </div>\r\n                      )}\r\n\r\n\r\n                      <div className=\"form-group\">\r\n                        <label htmlFor=\"userAcceptedOrder\">Кто принял заказ:</label>\r\n                        <select className=\"form-control\" value={this.state.userAcceptedOrder} name=\"userAcceptedOrder\" onChange={this.onChange} required>\r\n                          {userOptions.map((item, index) =>\r\n                            <option key={index} value={item.value}>{item.label}</option>\r\n                          )}\r\n                        </select>\r\n                      </div>\r\n\r\n                      <TextAreaFieldGroup\r\n                        name=\"comment\"\r\n                        placeholder=\"Комментарии (Это поле не обязательное)\"\r\n                        value={this.state.comment}\r\n                        onChange={this.onChange}\r\n                        required\r\n                      />\r\n                      <button type=\"submit\" className=\"btn btn-primary\"><i className=\"fas fa-edit\"></i> Редактировать</button>\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  admin: state.admin,\r\n  order: state.order,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getDisinfectors, getAllUsers, getCorporateClients, getOrderForEdit, editOrder })(withRouter(EditOrder));","import React, { Component } from 'react';\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from '../common/Spinner';\r\nimport Moment from 'react-moment';\r\n\r\nimport { getCurrentMaterials, addMatComing } from '../../actions/adminActions';\r\n\r\nimport materials from '../common/materials';\r\nimport removeZeros from '../../utils/removeZerosMat';\r\n\r\nclass MatComing extends Component {\r\n  state = {\r\n    array: [{}],\r\n    currentMaterials: [],\r\n    materials: [\r\n      {\r\n        material: '',\r\n        amount: 0,\r\n        unit: ''\r\n      }\r\n    ]\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.getCurrentMaterials();\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    this.setState({\r\n      currentMaterials: nextProps.admin.currentMaterials.materials\r\n    });\r\n  }\r\n\r\n  changeSelect = (e) => {\r\n    const index = e.target.name.split('-')[1];\r\n    let newMaterialsArray = this.state.materials;\r\n    newMaterialsArray[index].material = e.target.value.split('+')[0];\r\n    newMaterialsArray[index].unit = e.target.value.split('+')[1];\r\n    this.setState({\r\n      materials: newMaterialsArray\r\n    });\r\n  }\r\n\r\n  changeAmount = (e) => {\r\n    const index = e.target.name.split('-')[1];\r\n    let newMaterialsArray = this.state.materials;\r\n    newMaterialsArray[index].amount = Number(e.target.value);\r\n    this.setState({\r\n      materials: newMaterialsArray\r\n    });\r\n  }\r\n\r\n  addMaterial = (e) => {\r\n    e.preventDefault();\r\n    let newArray = this.state.array;\r\n    newArray.push({});\r\n    let newMaterialsArray = this.state.materials;\r\n    newMaterialsArray.push({\r\n      material: '',\r\n      amount: 0,\r\n      unit: ''\r\n    });\r\n    this.setState({\r\n      array: newArray,\r\n      materials: newMaterialsArray\r\n    });\r\n  }\r\n\r\n  deleteMaterial = (e) => {\r\n    e.preventDefault();\r\n    let newArray = this.state.array;\r\n    newArray.pop();\r\n    let newMaterialsArray = this.state.materials;\r\n    newMaterialsArray.pop();\r\n    this.setState({\r\n      array: newArray,\r\n      materials: newMaterialsArray\r\n    });\r\n  }\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n    let emptyFields = 0, zeroValues = 0;\r\n    this.state.materials.forEach(item => {\r\n      if (item.material === '') {\r\n        emptyFields++;\r\n      }\r\n      if (item.amount <= 0) {\r\n        zeroValues++;\r\n      }\r\n    });\r\n    if (emptyFields > 0) {\r\n      alert('Заполните Поле \"Выберите Материал и Количество\"');\r\n    } else if (zeroValues > 0) {\r\n      alert('Количество Материала не может быть нулем или отрицательнам числом');\r\n    } else {\r\n      const object = {\r\n        admin: this.props.auth.user.id,\r\n        materials: this.state.materials\r\n      };\r\n      this.props.addMatComing(object, this.props.history);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let consumptionMaterials = [\r\n      { label: '-- Выберите вещество --', value: \"\", unit: \"\" }\r\n    ];\r\n\r\n    materials.forEach(item => {\r\n      consumptionMaterials.push({\r\n        label: item.material,\r\n        value: item.material,\r\n        unit: item.unit\r\n      })\r\n    });\r\n\r\n    const materialOptions = consumptionMaterials.map((option, index) =>\r\n      <option value={`${option.value}+${option.unit}`} key={index}>{option.label} {option.unit}</option>\r\n    );\r\n\r\n    let renderMaterials = this.state.array.map((item, index) =>\r\n      <React.Fragment key={index}>\r\n        <div className=\"form-group\">\r\n          <select name={`consumption-${index}`} className=\"form-control\" onChange={this.changeSelect} required>\r\n            {materialOptions}\r\n          </select>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor={`quantity-${index}`}>Количество:</label>\r\n          <input\r\n            type=\"number\"\r\n            step=\"0.001\"\r\n            className=\"form-control\"\r\n            name={`quantity-${index}`}\r\n            onChange={this.changeAmount}\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div className=\"border-bottom-red\"></div>\r\n      </React.Fragment>\r\n    );\r\n\r\n    // current materials\r\n    let currentMat = removeZeros([...this.state.currentMaterials]);\r\n\r\n    let renderCurMat = currentMat.map((item, index) =>\r\n      <li key={index}>{item.material}: {item.amount} {item.unit}</li>\r\n    );\r\n\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row mt-2\">\r\n          <div className=\"col-lg-6 col-md-8\">\r\n            {this.props.admin.loadingCurMat ? <Spinner /> :\r\n              <div className=\"card order mt-2\">\r\n                <div className=\"card-body p-0\">\r\n                  <h3 className=\"text-center\">Сейчас имеется материалов на складе</h3>\r\n                  <ul className=\"font-bold mb-0 list-unstyled\">\r\n                    {renderCurMat}\r\n                    <li className=\"mt-2\">Последнее обновление: <Moment format=\"DD/MM/YYYY HH:mm\">{this.props.admin.currentMaterials.lastUpdated}</Moment></li>\r\n\r\n                    <Link\r\n                      to='/admin/set-current-materials'\r\n                      className=\"btn btn-warning mt-2\"\r\n                    >\r\n                      <i className=\"fas fa-marker\"></i> Изменить материалы на складе\r\n                    </Link>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            }\r\n          </div>\r\n\r\n          <div className=\"col-lg-6 col-md-8\">\r\n            <div className=\"card mt-2\">\r\n              <div className=\"card-body\">\r\n                <h3 className=\"text-center\">Приход Материалов</h3>\r\n                <form onSubmit={this.onSubmit}>\r\n                  <label htmlFor=\"consumption\">Выберите Материал и Количество:</label>\r\n                  {renderMaterials}\r\n                  {this.state.array.length < materials.length ? <button className=\"btn btn-primary mr-2 mt-2\" onClick={this.addMaterial}><i className=\"fas fa-plus\"></i> Добавить Материал</button> : ''}\r\n\r\n                  {this.state.array.length === 1 ? '' : <button className=\"btn btn-danger mt-2\" onClick={this.deleteMaterial}><i className=\"fas fa-trash-alt\"></i> Удалить последний материал</button>}\r\n\r\n                  <div className=\"border-bottom\"></div>\r\n\r\n                  <button type=\"submit\" className=\"btn btn-success\"><i className=\"fas fa-plus-circle\"></i> Добавить приход материалов</button>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  admin: state.admin,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getCurrentMaterials, addMatComing })(withRouter(MatComing));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Moment from 'react-moment';\r\n\r\nimport materials from '../common/materials';\r\nimport removeZeros from '../../utils/removeZerosMat';\r\n\r\nclass ShowMatComingHistory extends Component {\r\n  state = {\r\n    comings: this.props.admin.materialComing\r\n  };\r\n\r\n  render() {\r\n    const { comings } = this.state;\r\n\r\n    let totalMatComing = [];\r\n\r\n    materials.forEach(item => {\r\n      totalMatComing.push({\r\n        material: item.material,\r\n        amount: 0,\r\n        unit: item.unit\r\n      });\r\n    });\r\n\r\n    comings.forEach(thing => {\r\n      thing.materials.forEach(item => {\r\n        totalMatComing.forEach(element => {\r\n          if (item.material === element.material && item.unit === element.unit) {\r\n            element.amount += item.amount;\r\n          }\r\n        });\r\n      });\r\n    });\r\n\r\n    // remove materials with amount of 0\r\n    totalMatComing = removeZeros(totalMatComing);\r\n\r\n    let renderTotal = totalMatComing.map((item, index) =>\r\n      <li key={index}>{item.material}: {item.amount.toLocaleString()} {item.unit}</li>\r\n    );\r\n\r\n    let renderComings = comings.map((item, index) => {\r\n      let renderMaterials = item.materials.map((element, number) =>\r\n        <li key={number}>{element.material}: {element.amount.toLocaleString()} {element.unit}</li>\r\n      );\r\n\r\n      return (\r\n        <div className=\"col-lg-4 col-md-6\" key={index}>\r\n          <div className=\"card order mt-2\">\r\n            <div className=\"card-body p-0\">\r\n              <ul className=\"font-bold mb-0 list-unstyled\">\r\n                <li>Админ: {item.admin.name}</li>\r\n                <li>Дата: <Moment format=\"DD/MM/YYYY HH:mm\">{item.createdAt}</Moment></li>\r\n                <li>Материалы:</li>\r\n                <ul>\r\n                  {renderMaterials}\r\n                </ul>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <React.Fragment>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-5 col-md-7 m-auto\">\r\n            <div className=\"card order mt-2\">\r\n              <div className=\"card-body p-0\">\r\n                <h4 className=\"text-center\">Общий Приход Материалов за этот период:</h4>\r\n                <ul className=\"font-bold mb-0 list-unstyled\">\r\n                  {renderTotal}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row mt-3\">\r\n          {renderComings}\r\n        </div>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  order: state.order,\r\n  admin: state.admin,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps)(withRouter(ShowMatComingHistory));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from '../common/Spinner';\r\nimport Moment from 'react-moment';\r\n\r\nimport {\r\n  getMaterialComingEvents,\r\n  getAllDisinfectorsAndSubadmins\r\n} from '../../actions/adminActions';\r\nimport monthsNames from '../common/monthNames';\r\nimport getMonthAndYearLabels from '../../utils/monthAndYearLabels';\r\nimport returnMonthAndYear from '../../utils/returnMonthAndYear';\r\n\r\nimport ShowMatComingHistory from './ShowMatComingHistory';\r\n\r\n\r\nimport { getWeekDays, getWeekRange } from '../common/weekFunc';\r\nimport DayPicker from 'react-day-picker';\r\nimport 'react-day-picker/lib/style.css';\r\n\r\n\r\nclass MatComHistory extends Component {\r\n  state = {\r\n    month: '',\r\n    year: '',\r\n\r\n    // // to display month and year in heading h2\r\n    headingMonth: '',\r\n    headingYear: '',\r\n\r\n    hoverRange: undefined,\r\n    selectedDays: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    const thisMonth = new Date().getMonth();\r\n    const thisYear = new Date().getFullYear();\r\n\r\n    let object = {\r\n      type: 'month',\r\n      month: Number(thisMonth),\r\n      year: Number(thisYear)\r\n    };\r\n    // this.props.getMatComMonth(thisMonth, thisYear);\r\n    this.props.getMaterialComingEvents(object);\r\n\r\n    this.props.getAllDisinfectorsAndSubadmins();\r\n    this.setState({\r\n      headingMonth: thisMonth,\r\n      headingYear: thisYear\r\n    });\r\n  }\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  getMonthStats = (e) => {\r\n    e.preventDefault();\r\n    let object = {\r\n      type: 'month',\r\n      month: Number(this.state.month),\r\n      year: Number(this.state.year)\r\n    };\r\n    // this.props.getMatComMonth(this.state.month, this.state.year);\r\n    this.props.getMaterialComingEvents(object);\r\n\r\n    this.setState({\r\n      headingMonth: this.state.month,\r\n      headingYear: this.state.year\r\n    });\r\n  }\r\n\r\n  getSpecificMonthStats = (param) => {\r\n    const { month, year } = returnMonthAndYear(param);\r\n\r\n    const object = { type: 'month', month, year };\r\n\r\n    this.props.getMaterialComingEvents(object);\r\n\r\n    this.setState({\r\n      headingMonth: month,\r\n      headingYear: year\r\n    });\r\n  };\r\n\r\n\r\n  // weekly calendar\r\n  handleDayChange = date => {\r\n    let object = {\r\n      type: 'week',\r\n      days: getWeekDays(getWeekRange(date).from)\r\n    }\r\n    // this.props.getMatComWeek(getWeekDays(getWeekRange(date).from));\r\n    this.props.getMaterialComingEvents(object);\r\n\r\n    this.setState({\r\n      selectedDays: getWeekDays(getWeekRange(date).from)\r\n    });\r\n  };\r\n\r\n  handleDayEnter = date => {\r\n    this.setState({\r\n      hoverRange: getWeekRange(date)\r\n    });\r\n  };\r\n\r\n  handleDayLeave = () => {\r\n    this.setState({\r\n      hoverRange: undefined\r\n    });\r\n  };\r\n\r\n  handleWeekClick = (weekNumber, days, e) => {\r\n    let object = {\r\n      type: 'week',\r\n      days: getWeekDays(getWeekRange(days[0]).from)\r\n    };\r\n    this.props.getMaterialComingEvents(object);\r\n    // this.props.getMatComWeek(getWeekDays(getWeekRange(days[0]).from));\r\n\r\n    this.setState({\r\n      selectedDays: getWeekDays(getWeekRange(days[0]).from)\r\n    });\r\n  };\r\n  // end of weekly calendar\r\n\r\n\r\n  render() {\r\n    const { monthLabels, yearLabels } = getMonthAndYearLabels();\r\n\r\n    const yearsOptions = yearLabels.map((year, index) =>\r\n      <option value={year.value} key={index}>{year.label}</option>\r\n    );\r\n    const monthOptions = monthLabels.map((month, index) =>\r\n      <option value={month.value} key={index}>{month.label}</option>\r\n    );\r\n\r\n\r\n    // weekly calender\r\n    const { hoverRange, selectedDays } = this.state;\r\n\r\n    const daysAreSelected = selectedDays.length > 0;\r\n\r\n    const modifiers = {\r\n      hoverRange,\r\n      selectedRange: daysAreSelected && {\r\n        from: selectedDays[0],\r\n        to: selectedDays[6],\r\n      },\r\n      hoverRangeStart: hoverRange && hoverRange.from,\r\n      hoverRangeEnd: hoverRange && hoverRange.to,\r\n      selectedRangeStart: daysAreSelected && selectedDays[0],\r\n      selectedRangeEnd: daysAreSelected && selectedDays[6]\r\n    };\r\n    // end of calendar\r\n\r\n\r\n    return (\r\n      <div className=\"container-fluid\" >\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-4 col-md-6 mt-2\">\r\n            <form onSubmit={this.getMonthStats} className=\"form-bg p-2\">\r\n              <h4 className=\"text-center\">Приход Материалов по месяцам</h4>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"year\"><strong>Выберите Год:</strong></label>\r\n                <select name=\"year\" className=\"form-control\" onChange={this.onChange} required>\r\n                  {yearsOptions}\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"month\"><strong>Выберите Месяц:</strong></label>\r\n                <select name=\"month\" className=\"form-control\" onChange={this.onChange} required>\r\n                  {monthOptions}\r\n                </select>\r\n              </div>\r\n              <button type=\"submit\" className=\"btn btn-success mr-1 mt-1\"><i className=\"fas fa-search\"></i> Искать</button>\r\n\r\n              <button type=\"button\" className=\"btn btn-danger mr-1 mt-1\" onClick={() => this.getSpecificMonthStats('current')}>Этот месяц</button>\r\n\r\n              <button type=\"button\" className=\"btn btn-primary mr-1 mt-1\" onClick={() => this.getSpecificMonthStats('previous')}>Прошлый месяц</button>\r\n            </form>\r\n          </div>\r\n\r\n          <div className=\"col-lg-4 col-md-6 ml-auto weekly-stats mt-2\">\r\n            <div className=\"SelectedWeekExample form-bg font-weight-bold\">\r\n              <h4 className=\"text-center\">Приход Материалов по неделям</h4>\r\n              <DayPicker\r\n                selectedDays={selectedDays}\r\n                showWeekNumbers\r\n                showOutsideDays\r\n                modifiers={modifiers}\r\n                firstDayOfWeek={1}\r\n                onDayClick={this.handleDayChange}\r\n                onDayMouseEnter={this.handleDayEnter}\r\n                onDayMouseLeave={this.handleDayLeave}\r\n                onWeekClick={this.handleWeekClick}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row mt-2\">\r\n          <div className=\"col-12\">\r\n            {this.props.admin.addMatEventsMethod === 'week' ?\r\n              <h3 className=\"text-center pl-3 pr-3\">Недельный Приход Материалов за <Moment format=\"DD/MM/YYYY\">{this.state.selectedDays[0]}</Moment> - <Moment format=\"DD/MM/YYYY\">{this.state.selectedDays[6]}</Moment></h3> :\r\n              <h3 className=\"text-center pl-3 pr-3\">Месячный Приход Материалов за {monthsNames[this.state.headingMonth]}, {this.state.headingYear}</h3>\r\n            }\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            {this.props.admin.loadingStats ? <Spinner /> : <ShowMatComingHistory />}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  admin: state.admin,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getMaterialComingEvents, getAllDisinfectorsAndSubadmins })(withRouter(MatComHistory));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Moment from 'react-moment';\r\n\r\nimport materials from '../common/materials';\r\nimport removeZeros from '../../utils/removeZerosMat';\r\n\r\nclass ShowAddMatEvents extends Component {\r\n  state = {\r\n    events: this.props.admin.addMatEvents\r\n  };\r\n\r\n  render() {\r\n    const { events } = this.state;\r\n    const { disinfectors } = this.props.admin;\r\n\r\n    let totalAddedMat = [];\r\n\r\n    materials.forEach(item => {\r\n      totalAddedMat.push({\r\n        material: item.material,\r\n        amount: 0,\r\n        unit: item.unit\r\n      });\r\n    });\r\n\r\n    let disinfArray = [];\r\n    disinfectors.forEach(person => disinfArray.push({\r\n      _id: person._id,\r\n      name: person.name,\r\n      occupation: person.occupation,\r\n      events: [],\r\n      received: materials.map(item => {\r\n        return {\r\n          material: item.material,\r\n          amount: 0,\r\n          unit: item.unit\r\n        }\r\n      })\r\n    }));\r\n\r\n    totalAddedMat.forEach(item => {\r\n      events.forEach(event => {\r\n        event.materials.forEach(material => {\r\n          if (material.material === item.material && material.unit === item.unit) {\r\n            item.amount += material.amount;\r\n          }\r\n        });\r\n      });\r\n    });\r\n\r\n    events.forEach(event => {\r\n      disinfArray.forEach(element => {\r\n\r\n        if (event.disinfector && event.disinfector._id.toString() === element._id.toString() && event.disinfector.name === element.name) {\r\n          element.events.push(event);\r\n          element.received.forEach(i => {\r\n            event.materials.forEach(thing => {\r\n              if (thing.material === i.material && thing.unit === i.unit) {\r\n                i.amount += thing.amount;\r\n                return;\r\n              }\r\n            });\r\n          });\r\n        }\r\n      });\r\n    });\r\n\r\n    // remove materials with amount of 0\r\n    totalAddedMat = removeZeros(totalAddedMat);\r\n\r\n    let renderTotal = totalAddedMat.map((item, index) =>\r\n      <li key={index}>{item.material}: {item.amount.toLocaleString()} {item.unit}</li>\r\n    );\r\n\r\n    let renderDisinfectors = disinfArray.map((person, index) => {\r\n      // remove materials with amount of 0\r\n      person.received = removeZeros(person.received);\r\n\r\n      let renderDisinfectorTotal = person.received.map((item, number) =>\r\n        <li key={number}>{item.material}: {item.amount.toLocaleString()} {item.unit}</li>\r\n      );\r\n\r\n      let renderDisinfEvents = person.events.map((event, iteration) => {\r\n\r\n        let renderEventsInDisinfArray = event.materials.map((item, number) =>\r\n          <li key={number}>{item.material}: {item.amount.toLocaleString()} {item.unit}</li>\r\n        );\r\n\r\n        return (\r\n          <React.Fragment key={iteration}>\r\n            <div className=\"col-lg-4 col-md-6\" key={iteration}>\r\n              <div className=\"card order mt-2\">\r\n                <div className=\"card-body p-0\">\r\n                  <ul className=\"font-bold mb-0 list-unstyled\">\r\n                    <li>Когда Получено: <Moment format=\"DD/MM/YYYY HH:mm\">{event.createdAt}</Moment></li>\r\n                    <li>Кто раздал: {event.admin.occupation} {event.admin.name}</li>\r\n                    <p className=\"mb-0\">Материалы</p>\r\n                    <ul>\r\n                      {renderEventsInDisinfArray}\r\n                    </ul>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </React.Fragment>\r\n        );\r\n      });\r\n\r\n      return (\r\n        <React.Fragment key={index}>\r\n          <div className=\"border-between-disinfectors mt-3\"></div>\r\n          <div className=\"border-between-disinfectors mt-1\"></div>\r\n          <h3 className=\"text-center mt-3\">{person.occupation} {person.name}</h3>\r\n\r\n          {person.events.length === 0 ? (\r\n            <h4>У пользователя нет раздач</h4>\r\n          ) : (\r\n            <React.Fragment>\r\n              <div className=\"row mt-3\">\r\n                <div className=\"col-lg-4 col-md-6\">\r\n                  <div className=\"card order mt-2\">\r\n                    <div className=\"card-body p-0\">\r\n                      <h4 className=\"text-center\">Всего {person.name} Получил за этот период:</h4>\r\n                      <ul className=\"font-bold mb-0 list-unstyled\">\r\n                        {renderDisinfectorTotal}\r\n                      </ul>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"row mt-3\">\r\n                {renderDisinfEvents}\r\n              </div>\r\n            </React.Fragment>\r\n          )}\r\n        </React.Fragment>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <React.Fragment>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-4 col-md-6\">\r\n            <div className=\"card order mt-2\">\r\n              <div className=\"card-body p-0\">\r\n                <h4 className=\"text-center\">Общая Раздача Материалов за этот период:</h4>\r\n                <ul className=\"font-bold mb-0 list-unstyled\">\r\n                  {renderTotal}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row mt-3\">\r\n          <div className=\"col-12\">\r\n            <h2 className=\"text-center pl-3 pr-3\">Раздача Материалов Пользователям</h2>\r\n            {renderDisinfectors}\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  order: state.order,\r\n  admin: state.admin,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps)(withRouter(ShowAddMatEvents));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from '../common/Spinner';\r\nimport Moment from 'react-moment';\r\n\r\nimport {\r\n  getAddMaterialEvents,\r\n  getAllDisinfectorsAndSubadmins\r\n} from '../../actions/adminActions';\r\nimport monthsNames from '../common/monthNames';\r\nimport getMonthAndYearLabels from '../../utils/monthAndYearLabels';\r\nimport returnMonthAndYear from '../../utils/returnMonthAndYear';\r\n\r\nimport ShowAddMatEvents from './ShowAddMatEvents';\r\n\r\n\r\nimport { getWeekDays, getWeekRange } from '../common/weekFunc';\r\nimport DayPicker from 'react-day-picker';\r\nimport 'react-day-picker/lib/style.css';\r\n\r\n\r\nclass MaterialHistory extends Component {\r\n  state = {\r\n    month: '',\r\n    year: '',\r\n\r\n    // // to display month and year in heading h2\r\n    headingMonth: '',\r\n    headingYear: '',\r\n\r\n    hoverRange: undefined,\r\n    selectedDays: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    const thisMonth = new Date().getMonth();\r\n    const thisYear = new Date().getFullYear();\r\n\r\n    let object = {\r\n      type: 'month',\r\n      month: Number(thisMonth),\r\n      year: Number(thisYear)\r\n    };\r\n    // this.props.getAddMaterialEventsMonth(thisMonth, thisYear);\r\n    this.props.getAddMaterialEvents(object);\r\n\r\n    this.props.getAllDisinfectorsAndSubadmins();\r\n    this.setState({\r\n      headingMonth: Number(thisMonth),\r\n      headingYear: Number(thisYear)\r\n    });\r\n  }\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  getMonthStats = (e) => {\r\n    e.preventDefault();\r\n    let object = {\r\n      type: 'month',\r\n      month: Number(this.state.month),\r\n      year: Number(this.state.year)\r\n    };\r\n    // this.props.getAddMaterialEventsMonth(this.state.month, this.state.year);\r\n    this.props.getAddMaterialEvents(object);\r\n\r\n    this.setState({\r\n      headingMonth: this.state.month,\r\n      headingYear: this.state.year\r\n    });\r\n  }\r\n\r\n  getSpecificMonthStats = (param) => {\r\n    const { month, year } = returnMonthAndYear(param);\r\n\r\n    const object = { type: 'month', month, year };\r\n\r\n    this.props.getAddMaterialEvents(object);\r\n\r\n    this.setState({\r\n      headingMonth: month,\r\n      headingYear: year\r\n    });\r\n  };\r\n\r\n\r\n  // weekly calendar\r\n  handleDayChange = date => {\r\n    let object = {\r\n      type: 'week',\r\n      days: getWeekDays(getWeekRange(date).from)\r\n    };\r\n    // this.props.getAddMaterialEventsWeek(getWeekDays(getWeekRange(date).from));\r\n    this.props.getAddMaterialEvents(object);\r\n\r\n    this.setState({\r\n      selectedDays: getWeekDays(getWeekRange(date).from)\r\n    });\r\n  };\r\n\r\n  handleDayEnter = date => {\r\n    this.setState({\r\n      hoverRange: getWeekRange(date)\r\n    });\r\n  };\r\n\r\n  handleDayLeave = () => {\r\n    this.setState({\r\n      hoverRange: undefined\r\n    });\r\n  };\r\n\r\n  handleWeekClick = (weekNumber, days, e) => {\r\n    let object = {\r\n      type: 'week',\r\n      days: getWeekDays(getWeekRange(days[0]).from)\r\n    };\r\n    // this.props.getAddMaterialEventsWeek(getWeekDays(getWeekRange(days[0]).from));\r\n    this.props.getAddMaterialEvents(object);\r\n\r\n    this.setState({\r\n      selectedDays: getWeekDays(getWeekRange(days[0]).from)\r\n    });\r\n  };\r\n  // end of weekly calendar\r\n\r\n\r\n  render() {\r\n    const { monthLabels, yearLabels } = getMonthAndYearLabels();\r\n\r\n    const yearsOptions = yearLabels.map((year, index) =>\r\n      <option value={year.value} key={index}>{year.label}</option>\r\n    );\r\n    const monthOptions = monthLabels.map((month, index) =>\r\n      <option value={month.value} key={index}>{month.label}</option>\r\n    );\r\n\r\n\r\n    // weekly calender\r\n    const { hoverRange, selectedDays } = this.state;\r\n\r\n    const daysAreSelected = selectedDays.length > 0;\r\n\r\n    const modifiers = {\r\n      hoverRange,\r\n      selectedRange: daysAreSelected && {\r\n        from: selectedDays[0],\r\n        to: selectedDays[6],\r\n      },\r\n      hoverRangeStart: hoverRange && hoverRange.from,\r\n      hoverRangeEnd: hoverRange && hoverRange.to,\r\n      selectedRangeStart: daysAreSelected && selectedDays[0],\r\n      selectedRangeEnd: daysAreSelected && selectedDays[6]\r\n    };\r\n    // end of calendar\r\n\r\n\r\n    return (\r\n      <div className=\"container-fluid\" >\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-4 col-md-6 mt-2\">\r\n            <form onSubmit={this.getMonthStats} className=\"form-bg p-2\">\r\n              <h4 className=\"text-center\">Раздача Материалов по месяцам</h4>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"year\"><strong>Выберите Год:</strong></label>\r\n                <select name=\"year\" className=\"form-control\" onChange={this.onChange} required>\r\n                  {yearsOptions}\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"month\"><strong>Выберите Месяц:</strong></label>\r\n                <select name=\"month\" className=\"form-control\" onChange={this.onChange} required>\r\n                  {monthOptions}\r\n                </select>\r\n              </div>\r\n              <button type=\"submit\" className=\"btn btn-success mr-1 mt-1\"><i className=\"fas fa-search\"></i> Искать</button>\r\n\r\n              <button type=\"button\" className=\"btn btn-danger mr-1 mt-1\" onClick={() => this.getSpecificMonthStats('current')}>Этот месяц</button>\r\n\r\n              <button type=\"button\" className=\"btn btn-primary mr-1 mt-1\" onClick={() => this.getSpecificMonthStats('previous')}>Прошлый месяц</button>\r\n            </form>\r\n          </div>\r\n\r\n          <div className=\"col-lg-4 col-md-6 ml-auto weekly-stats mt-2\">\r\n            <div className=\"SelectedWeekExample form-bg font-weight-bold\">\r\n              <h4 className=\"text-center\">Раздача Материалов по неделям</h4>\r\n              <DayPicker\r\n                selectedDays={selectedDays}\r\n                showWeekNumbers\r\n                showOutsideDays\r\n                modifiers={modifiers}\r\n                firstDayOfWeek={1}\r\n                onDayClick={this.handleDayChange}\r\n                onDayMouseEnter={this.handleDayEnter}\r\n                onDayMouseLeave={this.handleDayLeave}\r\n                onWeekClick={this.handleWeekClick}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row mt-2\">\r\n          <div className=\"col-12\">\r\n            {this.props.admin.addMatEventsMethod === 'week' ?\r\n              <h3 className=\"text-center pl-3 pr-3\">Недельная Раздача Материалов за <Moment format=\"DD/MM/YYYY\">{this.state.selectedDays[0]}</Moment> - <Moment format=\"DD/MM/YYYY\">{this.state.selectedDays[6]}</Moment></h3> :\r\n              <h3 className=\"text-center pl-3 pr-3\">Месячная Раздача Материалов за {monthsNames[this.state.headingMonth]}, {this.state.headingYear}</h3>\r\n            }\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            {this.props.admin.loadingAddMatEvents ? <Spinner /> : <ShowAddMatEvents />}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  admin: state.admin,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getAddMaterialEvents, getAllDisinfectorsAndSubadmins })(withRouter(MaterialHistory));","import React from 'react';\r\nimport classnames from 'classnames';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst SelectListGroup = ({\r\n  name,\r\n  value,\r\n  error,\r\n  info,\r\n  onChange,\r\n  options\r\n}) => {\r\n  const selectOptions = options.map(option => (\r\n    <option key={option.label} value={option.value}>\r\n      {option.label}\r\n    </option>\r\n  ));\r\n\r\n  return (\r\n    <div className=\"form-group\">\r\n      <select\r\n        className={classnames('form-control', {\r\n          'is-invalid': error\r\n        })}\r\n        name={name}\r\n        value={value}\r\n        onChange={onChange}>\r\n        {selectOptions}\r\n      </select>\r\n      {info && <small className=\"form-text text-muted\">{info}</small>}\r\n      {error && (\r\n        <div className=\"invalid-feedback\">{error}</div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nSelectListGroup.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  value: PropTypes.string.isRequired,\r\n  info: PropTypes.string,\r\n  error: PropTypes.string,\r\n  onChange: PropTypes.func.isRequired,\r\n  options: PropTypes.array.isRequired\r\n}\r\n\r\nexport default SelectListGroup;","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { addClient } from '../../actions/adminActions';\r\n\r\nimport TextFieldGroup from '../common/TextFieldGroup';\r\nimport SelectListGroup from '../common/SelectListGroup';\r\n\r\nclass AddClient extends Component {\r\n  state = {\r\n    type: '',\r\n    name: '',\r\n    phone: '',\r\n    address: '',\r\n    inn: '',\r\n    errors: {}\r\n  };\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.errors) {\r\n      this.setState({ errors: nextProps.errors });\r\n    }\r\n  }\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!this.state.type) {\r\n      alert('Выберите тип клиента');\r\n    } else if (this.state.type === 'individual') {\r\n      let numberCharacters = 0;\r\n      for (let i = 1; i <= 12; i++) {\r\n        if (this.state.phone[i] >= '0' && this.state.phone[i] <= '9') {\r\n          numberCharacters++;\r\n        }\r\n      }\r\n\r\n      if (this.state.phone.length !== 13) {\r\n        alert('Телефонный номер должен содержать 13 символов. Введите в формате +998XXXXXXXXX');\r\n      } else if (this.state.phone[0] !== '+') {\r\n        alert('Телефонный номер должен начинаться с \"+\". Введите в формате +998XXXXXXXXX');\r\n      } else if (numberCharacters !== 12) {\r\n        alert('Телефонный номер должен содержать \"+\" и 12 цифр');\r\n      } else {\r\n        let object = {\r\n          type: this.state.type,\r\n          name: this.state.name,\r\n          phone: this.state.phone,\r\n          address: this.state.address,\r\n          createdAt: new Date()\r\n        };\r\n        this.props.addClient(object, this.props.history, this.props.auth.user.occupation);\r\n      }\r\n    } else if (this.state.type === 'corporate') {\r\n      let object = {\r\n        type: this.state.type,\r\n        name: this.state.name,\r\n        inn: this.state.inn,\r\n        createdAt: new Date()\r\n      };\r\n      this.props.addClient(object, this.props.history, this.props.auth.user.occupation);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { errors } = this.state;\r\n\r\n    const clientTypes = [\r\n      { label: '-- Введите тип клиента --', value: '' },\r\n      { label: 'Корпоративный', value: 'corporate' },\r\n      { label: 'Физический', value: 'individual' }\r\n    ];\r\n\r\n    return (\r\n      <div className=\"container create-order mt-4\" >\r\n        <div className=\"row\">\r\n          <div className=\"col-md-8 m-auto\">\r\n            <div className=\"card\">\r\n              <div className=\"card-body\">\r\n                <h3 className=\"text-center\">Добавить Клиента</h3>\r\n                <form onSubmit={this.onSubmit}>\r\n                  <SelectListGroup\r\n                    name=\"type\"\r\n                    value={this.state.type}\r\n                    onChange={this.onChange}\r\n                    error={errors.type}\r\n                    options={clientTypes}\r\n                    required\r\n                  />\r\n                  <TextFieldGroup\r\n                    label=\"Введите Имя Клиента\"\r\n                    type=\"text\"\r\n                    name=\"name\"\r\n                    value={this.state.name}\r\n                    onChange={this.onChange}\r\n                    error={errors.name}\r\n                    required\r\n                  />\r\n\r\n                  {this.state.type === 'corporate' ? (\r\n                    <React.Fragment>\r\n                      <TextFieldGroup\r\n                        label=\"Введите ИНН Клиента\"\r\n                        type=\"text\"\r\n                        name=\"inn\"\r\n                        value={this.state.inn}\r\n                        onChange={this.onChange}\r\n                        error={errors.inn}\r\n                      />\r\n                    </React.Fragment>\r\n                  ) : ''}\r\n\r\n                  {this.state.type === 'individual' ? (\r\n                    <React.Fragment>\r\n                      <TextFieldGroup\r\n                        label=\"Введите Тел Номер Клиента в формате +998XX-XXX-XX-XX (без тире)\"\r\n                        type=\"text\"\r\n                        name=\"phone\"\r\n                        value={this.state.phone}\r\n                        onChange={this.onChange}\r\n                        error={errors.phone}\r\n                        required\r\n                      />\r\n                      <TextFieldGroup\r\n                        label=\"Введите Адрес Клиента\"\r\n                        type=\"text\"\r\n                        name=\"address\"\r\n                        value={this.state.address}\r\n                        onChange={this.onChange}\r\n                        error={errors.address}\r\n                        required\r\n                      />\r\n                    </React.Fragment>\r\n                  ) : ''}\r\n                  <button type=\"submit\" className=\"btn btn-success\"><i className=\"fas fa-plus-circle\"></i> Добавить</button>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  admin: state.admin,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { addClient })(withRouter(AddClient));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from '../common/Spinner';\r\n\r\nimport { clientById, editClient } from '../../actions/adminActions';\r\n\r\nclass EditClient extends Component {\r\n  state = {\r\n    client: {\r\n      orders: [],\r\n    },\r\n    id: '',\r\n    type: '',\r\n    name: '',\r\n    phone: '',\r\n    address: '',\r\n    inn: ''\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (this.props.admin.clientById._id) {\r\n      this.setState({\r\n        client: this.props.admin.clientById,\r\n        id: this.props.admin.clientById._id,\r\n        type: this.props.admin.clientById.type,\r\n        name: this.props.admin.clientById.name || '',\r\n        phone: this.props.admin.clientById.phone || '',\r\n        address: this.props.admin.clientById.address || '',\r\n        inn: this.props.admin.clientById.inn || ''\r\n      });\r\n    } else {\r\n      this.props.clientById(this.props.match.params.id);\r\n    }\r\n  };\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.admin.clientById) {\r\n      this.setState({\r\n        client: nextProps.admin.clientById,\r\n        id: nextProps.admin.clientById._id,\r\n        type: nextProps.admin.clientById.type,\r\n        name: nextProps.admin.clientById.name || '',\r\n        phone: nextProps.admin.clientById.phone || '',\r\n        address: nextProps.admin.clientById.address || '',\r\n        inn: nextProps.admin.clientById.inn || ''\r\n      });\r\n    }\r\n  };\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n    const object = {\r\n      id: this.state.id,\r\n      type: this.state.type,\r\n      name: this.state.name,\r\n      phone: this.state.phone,\r\n      address: this.state.address,\r\n      inn: this.state.inn\r\n    };\r\n    this.props.editClient(object, this.props.history);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid\">\r\n\r\n        {this.props.admin.loadingClients ? (\r\n          <div className=\"row mt-3\">\r\n            <div className=\"col-12\">\r\n              <Spinner />\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <React.Fragment>\r\n            <div className=\"row mt-3\">\r\n              <div className=\"col-lg-6 col-md-8 m-auto\">\r\n                <div className=\"card\">\r\n                  <div className=\"card-body\">\r\n                    <h3 className=\"display-5 text-center\">Редактировать Клиента</h3>\r\n                    <p className=\"font-bold mb-0\">Тип клиента: {this.state.type === 'corporate' ? 'Корпоративный' : 'Физический'}</p>\r\n\r\n                    <form onSubmit={this.onSubmit}>\r\n                      <div className=\"form-group\">\r\n                        <label htmlFor=\"name\">Имя Клиента:</label>\r\n                        <input type=\"text\" name=\"name\" className=\"form-control\" onChange={this.onChange} value={this.state.name} required />\r\n                      </div>\r\n\r\n                      {this.state.type === 'individual' && (\r\n                        <React.Fragment>\r\n                          <div className=\"form-group\">\r\n                            <label htmlFor=\"phone\">Телефон Клиента:</label>\r\n                            <input type=\"text\" name=\"phone\" className=\"form-control\" onChange={this.onChange} value={this.state.phone} required />\r\n                          </div>\r\n                          <div className=\"form-group\">\r\n                            <label htmlFor=\"address\">Адрес Клиента:</label>\r\n                            <input type=\"text\" name=\"address\" className=\"form-control\" onChange={this.onChange} value={this.state.address} required />\r\n                          </div>\r\n                        </React.Fragment>\r\n                      )}\r\n\r\n                      {this.state.type === 'corporate' && (\r\n                        <div className=\"form-group\">\r\n                          <label htmlFor=\"inn\">ИНН Клиента:</label>\r\n                          <input type=\"text\" name=\"inn\" className=\"form-control\" onChange={this.onChange} value={this.state.inn} />\r\n                        </div>\r\n                      )}\r\n                      <button type=\"submit\" className=\"btn btn-primary\"><i className=\"fas fa-edit\"></i> Редактировать</button>\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </React.Fragment>\r\n        )}\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  admin: state.admin,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { clientById, editClient })(withRouter(EditClient));","import React, { Component } from 'react';\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from '../common/Spinner';\r\n\r\nimport { getAllUsers } from '../../actions/orderActions';\r\nimport {\r\n  changePassword,\r\n  disableUser,\r\n  setUserById\r\n} from '../../actions/adminActions';\r\n\r\nclass Users extends Component {\r\n  state = {\r\n    users: [],\r\n    userId: '',\r\n    password1: '',\r\n    password2: ''\r\n  };\r\n\r\n  // componentDidMount() {\r\n  //   if (this.props.admin.users && this.props.admin.users.length > 0) {\r\n  //     this.setState({\r\n  //       users: this.props.admin.users\r\n  //     });\r\n  //   } else {\r\n  //     this.props.getAllUsers();\r\n  //   }\r\n  // }\r\n\r\n  componentDidMount() {\r\n    this.props.getAllUsers();\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.admin.users) {\r\n      this.setState({\r\n        users: nextProps.admin.users\r\n      });\r\n    }\r\n  }\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  clearState = (e) => {\r\n    this.setState({\r\n      userId: '',\r\n      password1: '',\r\n      password2: ''\r\n    });\r\n  };\r\n\r\n  changePassword = (e) => {\r\n    e.preventDefault();\r\n    let notMatch = false, invalidLength = false;\r\n\r\n    if (this.state.password1 !== this.state.password2) {\r\n      notMatch = true;\r\n    }\r\n    if (this.state.password1.length < 6 || this.state.password1.length > 30) {\r\n      invalidLength = true;\r\n    }\r\n    if (this.state.password2.length < 6 || this.state.password2.length > 30) {\r\n      invalidLength = true;\r\n    }\r\n\r\n    if (notMatch) {\r\n      alert('Пароли не совпадают');\r\n    } else if (invalidLength) {\r\n      alert('Длина пароля должна быть не менее 6 символов и не более 30 символов');\r\n    } else {\r\n      const object = {\r\n        userId: this.state.userId,\r\n        password1: this.state.password1,\r\n        password2: this.state.password2\r\n      };\r\n      this.props.changePassword(object, this.props.history);\r\n      window.location.reload();\r\n    }\r\n  };\r\n\r\n  deleteUser = (id) => {\r\n    const object = {\r\n      id: id\r\n    };\r\n\r\n    this.props.disableUser(object, this.props.history);\r\n  };\r\n\r\n  changeMaterials = (user) => {\r\n    this.props.setUserById(user);\r\n    this.props.history.push(`/admin/set-disinfector-materials/${user._id}`);\r\n  };\r\n\r\n  render() {\r\n    let userOptions = [{\r\n      label: '- Выберите Пользователя -- ', value: ''\r\n    }];\r\n\r\n    let renderUsers = this.state.users.map((user, key) => {\r\n      userOptions.push({\r\n        label: `${user.occupation} ${user.name}`, value: user._id\r\n      });\r\n\r\n      return (\r\n        <div className=\"col-lg-4 col-md-6 mt-3\" key={key}>\r\n          <div className=\"card order\">\r\n            <div className=\"card-body p-0\">\r\n              <ul className=\"font-bold mb-0 pl-0 list-unstyled\">\r\n                <li>Имя: {user.name}</li>\r\n                <li>E-mail: {user.email}</li>\r\n                <li>Телефон: {user.phone}</li>\r\n                <li>Должность: {user.occupation}</li>\r\n                <li>Цвет (в календаре): {user.color || '--'}</li>\r\n              </ul>\r\n\r\n              <Link\r\n                to={`/admin/edit-user/${user._id}`}\r\n                className=\"btn btn-dark mt-2 mr-2\"\r\n              >\r\n                <i className=\"fas fa-user-edit\"></i> Редактировать\r\n              </Link>\r\n\r\n              {['subadmin', 'disinfector'].includes(user.occupation) && (\r\n                <button\r\n                  className=\"btn btn-primary mt-2 mr-2\"\r\n                  onClick={() => this.changeMaterials(user)}\r\n                >\r\n                  <i className=\"fas fa-syringe\"></i> Изменить материалы\r\n                </button>\r\n              )}\r\n\r\n              <button\r\n                className=\"btn btn-danger mt-2 mr-2\"\r\n                onClick={() => {\r\n                  if (window.confirm(`Вы уверены удалить пользователя ${user.occupation} ${user.name}?`)) {\r\n                    this.deleteUser(user._id)\r\n                  }\r\n                }}\r\n              >\r\n                <i className=\"fas fa-trash-alt\"></i> Удалить\r\n              </button>\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <h2 className=\"text-center\">Все Пользователи</h2>\r\n          </div>\r\n        </div>\r\n\r\n        {this.props.admin.loadingUsers ? <Spinner /> : (\r\n          <React.Fragment>\r\n\r\n            <div className=\"row mt-1\">\r\n              <div className=\"col-12\">\r\n                <button type=\"button\" className=\"btn btn-primary mt-2\" data-toggle=\"modal\" data-target='#changePassword'><i className=\"fas fa-key\"></i> Изменить пароль Пользователя</button>\r\n\r\n                <div className=\"modal fade\" id='changePassword'>\r\n                  <div className=\"modal-dialog\">\r\n                    <div className=\"modal-content\">\r\n                      <div className=\"modal-header\">\r\n                        <button type=\"button\" className=\"close\" onClick={this.clearState.bind(this)} data-dismiss=\"modal\">&times;</button>\r\n                      </div>\r\n\r\n                      <div className=\"modal-body\">\r\n                        <h4 className=\"modal-title\"><i className=\"fas fa-key\"></i> Изменить Пароль Пользователя</h4>\r\n                        <form onSubmit={this.changePassword}>\r\n                          <div className=\"form-group\">\r\n                            <select className=\"form-control\" name=\"userId\" onChange={this.onChange} value={this.state.userId} required>\r\n                              {userOptions.map((user, key) =>\r\n                                <option key={key} value={user.value}>{user.label}</option>\r\n                              )}\r\n                            </select>\r\n                          </div>\r\n                          <div className=\"form-group\">\r\n                            <label htmlFor=\"password1\">Введите Новый Пароль:</label>\r\n                            <input type=\"password\" name=\"password1\" className=\"form-control\" onChange={this.onChange} value={this.state.password1} required />\r\n                          </div>\r\n                          <div className=\"form-group\">\r\n                            <label htmlFor=\"password2\">Повторите Пароль:</label>\r\n                            <input type=\"password\" name=\"password2\" className=\"form-control\" onChange={this.onChange} value={this.state.password2} required />\r\n                          </div>\r\n                          <button type=\"submit\" className=\"btn btn-success\"><i className=\"fas fa-copyright\"></i> Изменить Пароль</button>\r\n                        </form>\r\n                      </div>\r\n\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"row mt-2\">\r\n              {renderUsers}\r\n            </div>\r\n\r\n          </React.Fragment>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  admin: state.admin,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getAllUsers, changePassword, disableUser, setUserById })(withRouter(Users));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from '../common/Spinner';\r\nimport Moment from 'react-moment';\r\nimport isEmpty from '../../validation/is-empty';\r\n\r\nimport { getUserById, editUser } from '../../actions/adminActions';\r\n\r\nclass EditUser extends Component {\r\n  state = {\r\n    loading: true,\r\n\r\n    userId: '',\r\n    name: '',\r\n    email: '',\r\n    phone: '',\r\n    occupation: '',\r\n    color: '',\r\n\r\n    birthday: '',\r\n    married: '',\r\n    hasChildren: '',\r\n    children: ''\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.getUserById(this.props.match.params.userId);\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.admin.userById) {\r\n      this.setState({\r\n        userId: nextProps.admin.userById._id,\r\n        name: nextProps.admin.userById.name,\r\n        email: nextProps.admin.userById.email,\r\n        phone: nextProps.admin.userById.phone,\r\n        occupation: nextProps.admin.userById.occupation,\r\n        color: nextProps.admin.userById.color,\r\n        loading: false\r\n      });\r\n    }\r\n\r\n    let userForEdit = nextProps.admin.userById;\r\n    userForEdit.birthday = !isEmpty(userForEdit.birthday) ? new Date(userForEdit.birthday) : '';\r\n    userForEdit.married = !isEmpty(userForEdit.married) ? userForEdit.married : '';\r\n    userForEdit.hasChildren = !isEmpty(userForEdit.hasChildren) ? userForEdit.hasChildren : '';\r\n    userForEdit.children = !isEmpty(userForEdit.children) ? userForEdit.children : '';\r\n\r\n    let defaultDateMonth, defaultDateDay, defaultDateString;\r\n    if (new Date(userForEdit.birthday).getMonth() < 9) {\r\n      defaultDateMonth = `0${new Date(userForEdit.birthday).getMonth() + 1}`;\r\n    } else {\r\n      defaultDateMonth = `${new Date(userForEdit.birthday).getMonth() + 1}`;\r\n    }\r\n\r\n    if (new Date(userForEdit.birthday).getDate() < 10) {\r\n      defaultDateDay = `0${new Date(userForEdit.birthday).getDate()}`;\r\n    } else {\r\n      defaultDateDay = new Date(userForEdit.birthday).getDate();\r\n    }\r\n\r\n    if (userForEdit.birthday) {\r\n      defaultDateString = `${new Date(userForEdit.birthday).getFullYear()}-${defaultDateMonth}-${defaultDateDay}`;\r\n    }\r\n\r\n    let married, hasChildren;\r\n    if (userForEdit.married === true) {\r\n      married = 'yes';\r\n    } else if (userForEdit.married === false) {\r\n      married = 'no';\r\n    }\r\n\r\n    if (userForEdit.hasChildren === true) {\r\n      hasChildren = 'yes';\r\n    } else if (userForEdit.hasChildren === false) {\r\n      hasChildren = 'no';\r\n    }\r\n\r\n    this.setState({\r\n      birthday: defaultDateString,\r\n      married: married,\r\n      hasChildren: hasChildren,\r\n      children: userForEdit.hasChildren ? userForEdit.children : ''\r\n    });\r\n  }\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n    let children;\r\n    if (this.state.hasChildren === 'no') {\r\n      children = 0;\r\n    } else if (this.state.hasChildren === 'yes') {\r\n      children = Number(this.state.children);\r\n    }\r\n    const object = {\r\n      userId: this.state.userId,\r\n      name: this.state.name,\r\n      email: this.state.email,\r\n      phone: this.state.phone,\r\n      occupation: this.state.occupation,\r\n      color: this.state.color,\r\n      birthday: new Date(this.state.birthday),\r\n      married: this.state.married === 'yes' ? true : false,\r\n      hasChildren: this.state.hasChildren === 'yes' ? true : false,\r\n      children: children\r\n    };\r\n    this.props.editUser(object, this.props.history);\r\n  }\r\n\r\n  render() {\r\n\r\n    // user occupation options\r\n    const occupationOptions = [\r\n      { label: '-- Выберите должность пользователя --', value: '' },\r\n      { label: 'Админ', value: 'admin' },\r\n      { label: 'Субадмин', value: 'subadmin' },\r\n      { label: 'Оператор', value: 'operator' },\r\n      { label: 'Дезинфектор', value: 'disinfector' },\r\n      // { label: 'Маркетолог', value: 'marketer' },\r\n      { label: 'Бухгалтер', value: 'accountant' }\r\n    ];\r\n\r\n    const colorOptions = [\r\n      { label: '-- Выберите цвет пользователя (для календаря) --', value: '' },\r\n      { label: 'Красный', value: 'red' },\r\n      { label: 'Зеленый', value: 'green' },\r\n      { label: 'Синий', value: 'blue' },\r\n      { label: 'Оранжевый', value: 'orange' },\r\n      { label: 'Желтый', value: 'yellow' },\r\n      { label: 'Фиолетовый', value: 'violet' },\r\n      { label: 'Коричневый', value: 'brown' },\r\n      { label: 'Золотой', value: 'gold' },\r\n      { label: 'Желто-зеленый', value: 'greenyellow' },\r\n      { label: 'Индиго', value: 'indigo' },\r\n      { label: 'Светло-Синий', value: 'lightsteelblue' },\r\n      { label: 'Орхидея', value: 'orchid' },\r\n      { label: 'Цвет морской волны', value: 'seagreen' },\r\n      { label: 'Бирюзовый', value: 'turquoise' },\r\n      { label: 'Фора', value: 'bisque' },\r\n      { label: 'Сиян', value: 'cyan' },\r\n      { label: 'DarkGoldenRod', value: 'darkgoldenrod' }\r\n    ];\r\n\r\n    let renderUser = (\r\n      <div className=\"col-lg-6 col-md-8 m-auto\">\r\n        <div className=\"card order mt-2\">\r\n          <div className=\"card-body p-0\">\r\n            <ul className=\"font-bold mb-0 list-unstyled\">\r\n              <li>Имя: {this.state.name}</li>\r\n              <li>E-mail: {this.state.email}</li>\r\n              <li>Телефон: {this.state.phone}</li>\r\n              <li>Должность: {this.state.occupation}</li>\r\n              <li>Цвет (в календаре): {this.state.color ? this.state.color : '--'}</li>\r\n              <li>Дата Рождения: {this.state.birthday ? <Moment format=\"DD/MM/YYYY\">{this.state.birthday}</Moment> : '--'}</li>\r\n              { }\r\n              <li>Женат / Замужем ? {this.state.married === 'yes' ? 'Да' : 'Нет'}</li>\r\n              <li>Есть ли дети ? {this.state.hasChildren === 'yes' ? 'Да' : 'Нет'}</li>\r\n              {this.state.hasChildren === 'yes' ? <li>Количество детей: {this.state.children}</li> : ''}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        {this.state.loading ? <Spinner /> : (\r\n          <div className=\"row\">\r\n            {renderUser}\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"row mt-3\">\r\n          <div className=\"col-lg-6 col-md-8 m-auto\">\r\n            <div className=\"card\">\r\n              <div className=\"card-body\">\r\n                <h3 className=\"display-5 text-center\">Редактировать Пользователя</h3>\r\n                <form onSubmit={this.onSubmit}>\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"name\">Имя Пользователя:</label>\r\n                    <input type=\"text\" name=\"name\" className=\"form-control\" onChange={this.onChange} value={this.state.name} required />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"email\">Email Пользователя:</label>\r\n                    <input type=\"email\" name=\"email\" className=\"form-control\" onChange={this.onChange} value={this.state.email} required />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"phone\">Телефон:</label>\r\n                    <input type=\"text\" name=\"phone\" className=\"form-control\" onChange={this.onChange} value={this.state.phone} required />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"occupation\">Выберите Должность:</label>\r\n                    <select className=\"form-control\" value={this.state.occupation} name=\"occupation\" onChange={this.onChange} required>\r\n                      {occupationOptions.map((item, index) =>\r\n                        <option key={index} value={item.value}>{item.label}</option>\r\n                      )}\r\n                    </select>\r\n                  </div>\r\n\r\n                  {this.state.occupation === 'disinfector' || this.state.occupation === 'subadmin' ? (\r\n                    <div className=\"form-group\">\r\n                      <label htmlFor=\"color\">Выберите Цвет (для календаря):</label>\r\n                      <select className=\"form-control\" value={this.state.color} name=\"color\" onChange={this.onChange} required>\r\n                        {colorOptions.map((item, index) =>\r\n                          <option key={index} value={item.value}>{item.label}</option>\r\n                        )}\r\n                      </select>\r\n                    </div>\r\n                  ) : ''}\r\n\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"birthday\">Дата Рождения:</label>\r\n                    <input type=\"date\" name=\"birthday\" className=\"form-control\" onChange={this.onChange} defaultValue={this.state.birthday} required />\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"married\">Выберите социальный статус:</label>\r\n                    <select className=\"form-control\" value={this.state.married} name=\"married\" onChange={this.onChange} required>\r\n                      <option value=\"\">--Выберите здесь -- </option>\r\n                      <option value=\"yes\">Женат / Замужем</option>\r\n                      <option value=\"no\"> Не женат / Не замужем</option>\r\n                    </select>\r\n                  </div>\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"hasChildren\">Есть ли дети у пользователя?</label>\r\n                    <select className=\"form-control\" value={this.state.hasChildren} name=\"hasChildren\" onChange={this.onChange} required>\r\n                      <option value=\"\">--Выберите здесь -- </option>\r\n                      <option value=\"yes\">Есть</option>\r\n                      <option value=\"no\"> Нет</option>\r\n                    </select>\r\n                  </div>\r\n                  {this.state.hasChildren === 'yes' ? (\r\n                    <div className=\"form-group\">\r\n                      <label htmlFor=\"children\">Сколько детей?</label>\r\n                      <input type=\"number\" name=\"children\" step=\"1\" min=\"1\" className=\"form-control\" onChange={this.onChange} value={this.state.children} required />\r\n                    </div>\r\n                  ) : ''}\r\n                  <button type=\"submit\" className=\"btn btn-primary\"><i className=\"fas fa-user-edit\"></i> Редактировать</button>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  admin: state.admin,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getUserById, editUser })(withRouter(EditUser));","import React, { Component } from 'react';\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from '../common/Spinner';\r\n\r\nimport TextFieldGroup from '../common/TextFieldGroup';\r\nimport { searchClients } from '../../actions/adminActions';\r\n\r\nclass ClientList extends Component {\r\n  state = {\r\n    name: '',\r\n    phone: '',\r\n    address: '',\r\n    inn: '',\r\n    method: '',\r\n    headingText: '',\r\n    clients: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (this.props.admin.clients.length > 0) {\r\n      this.setState({\r\n        clients: this.props.admin.clients,\r\n        method: this.props.admin.searchClientsMethod,\r\n        headingText: this.props.admin.searchClientsInput\r\n      });\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    this.setState({\r\n      clients: nextProps.admin.clients\r\n    });\r\n  }\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  searchByName = (e) => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      method: 'name',\r\n      headingText: this.state.name\r\n    });\r\n    const object = {\r\n      method: 'name',\r\n      payload: this.state.name\r\n    };\r\n    this.props.searchClients(object);\r\n  }\r\n\r\n  searchByPhone = (e) => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      method: 'phone',\r\n      headingText: this.state.phone\r\n    });\r\n    const object = {\r\n      method: 'phone',\r\n      payload: this.state.phone\r\n    };\r\n    this.props.searchClients(object);\r\n  }\r\n\r\n  searchByAddress = (e) => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      method: 'address',\r\n      headingText: this.state.address\r\n    });\r\n    const object = {\r\n      method: 'address',\r\n      payload: this.state.address\r\n    };\r\n    this.props.searchClients(object);\r\n  }\r\n\r\n  searchByInn = (e) => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      method: 'inn',\r\n      headingText: this.state.inn\r\n    });\r\n    const object = {\r\n      method: 'inn',\r\n      payload: this.state.inn\r\n    };\r\n    this.props.searchClients(object);\r\n  };\r\n\r\n  searchAll = (e) => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      method: 'all'\r\n    });\r\n    const object = {\r\n      method: 'all',\r\n      payload: ''\r\n    };\r\n    this.props.searchClients(object);\r\n  }\r\n\r\n  showCorporate = () => {\r\n    this.setState({\r\n      method: 'corporate',\r\n      headingText: 'Корпоративный'\r\n    });\r\n    const object = {\r\n      method: 'corporate',\r\n      payload: 'Корпоративный'\r\n    };\r\n    this.props.searchClients(object);\r\n  };\r\n\r\n  render() {\r\n    // sort clients alphabetically\r\n    let clients = this.state.clients.sort((a, b) => {\r\n      if (a.name.toUpperCase() < b.name.toUpperCase()) { return -1; }\r\n      if (a.name.toUpperCase() > b.name.toUpperCase()) { return 1; }\r\n      return 0;\r\n    });\r\n\r\n    let renderClients = clients.map((client, index) =>\r\n      <tr key={index}>\r\n        <td>{client.name} {client.type === 'corporate' && client.inn ? `(ИНН: ${client.inn})` : ''}</td>\r\n        <td><Link to={`/client/${client._id}`} className=\"btn btn-primary pl-1 pr-1\"><i className=\"fas fa-comment-dots\"></i> Подробнее</Link></td>\r\n        <td>{client.type === 'corporate' ? 'Корп.' : 'Физ.'}</td>\r\n        <td>{client.phone ? client.phone : '--'}</td>\r\n        <td>{client.address ? client.address : '--'}</td>\r\n      </tr>\r\n    );\r\n\r\n    let wordInHeading = '';\r\n    switch (this.state.method) {\r\n      case 'name': wordInHeading = 'по имени'; break;\r\n\r\n      case 'phone': wordInHeading = 'по номеру телефона'; break;\r\n\r\n      case 'address': wordInHeading = 'по адресу'; break;\r\n\r\n      case 'inn': wordInHeading = 'по ИНН'; break;\r\n\r\n      case 'corporate': wordInHeading = 'по роли'; break;\r\n\r\n      default: wordInHeading = '';\r\n    }\r\n\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <h2 className=\"text-center\">Поиск клиентов</h2>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-4 col-md-6 mt-2\">\r\n            <form onSubmit={this.searchByName} className=\"form-bg p-1\">\r\n              <h4 className=\"text-center mb-0\">Поиск по имени</h4>\r\n              <TextFieldGroup\r\n                type=\"text\"\r\n                placeholder=\"Имя\"\r\n                name=\"name\"\r\n                value={this.state.client}\r\n                onChange={this.onChange}\r\n                required\r\n              />\r\n              <button type=\"submit\" className=\"btn btn-success\"><i className=\"fas fa-search\"></i> Искать</button>\r\n            </form>\r\n          </div>\r\n\r\n          <div className=\"col-lg-4 col-md-6 mt-2\">\r\n            <form onSubmit={this.searchByPhone} className=\"form-bg p-1\">\r\n              <h4 className=\"text-center mb-0\">Поиск по номеру телефона</h4>\r\n              <TextFieldGroup\r\n                type=\"text\"\r\n                placeholder=\"Номер телефона\"\r\n                name=\"phone\"\r\n                value={this.state.phone}\r\n                onChange={this.onChange}\r\n                required\r\n              />\r\n              <button type=\"submit\" className=\"btn btn-primary\"><i className=\"fas fa-search\"></i> Искать</button>\r\n            </form>\r\n          </div>\r\n\r\n          <div className=\"col-lg-4 col-md-6 mt-2\">\r\n            <form onSubmit={this.searchByAddress} className=\"form-bg p-1\">\r\n              <h4 className=\"text-center mb-0\">Поиск по адресу</h4>\r\n              <TextFieldGroup\r\n                type=\"text\"\r\n                placeholder=\"Адрес\"\r\n                name=\"address\"\r\n                value={this.state.address}\r\n                onChange={this.onChange}\r\n                required\r\n              />\r\n              <button type=\"submit\" className=\"btn btn-dark\"><i className=\"fas fa-search\"></i> Искать</button>\r\n            </form>\r\n          </div>\r\n\r\n          <div className=\"col-lg-4 col-md-6 mt-2\">\r\n            <form onSubmit={this.searchByInn} className=\"form-bg p-1\">\r\n              <h4 className=\"text-center mb-0\">Поиск по ИНН</h4>\r\n              <TextFieldGroup\r\n                type=\"text\"\r\n                placeholder=\"ИНН\"\r\n                name=\"inn\"\r\n                value={this.state.inn}\r\n                onChange={this.onChange}\r\n                required\r\n              />\r\n              <button type=\"submit\" className=\"btn btn-warning\"><i className=\"fas fa-search\"></i> Искать</button>\r\n            </form>\r\n          </div>\r\n\r\n          <div className=\"col-lg-4 col-md-6 mt-2\">\r\n            <button type=\"submit\" className=\"btn btn-danger\" onClick={() => this.showCorporate()}><i className=\"fas fa-building\"></i> Корпоративные клиенты</button>\r\n          </div>\r\n\r\n          {/* <div className=\"col-lg-4 col-md-6 mt-3\">\r\n            <form onSubmit={this.searchAll}>\r\n              <button type=\"submit\" className=\"btn btn-info\">Посмотреть все клиенты</button>\r\n            </form>\r\n          </div> */}\r\n        </div>\r\n\r\n        <div className=\"row mt-3\">\r\n          <div className=\"col-12\">\r\n            {/* {this.state.method === 'name' ? <h2 className=\"text-center\">Результаты поиска клиентов по имени \"{this.state.headingText}\"</h2> : ''}\r\n\r\n            {this.state.method === 'phone' ? <h2 className=\"text-center\">Результаты поиска клиентов по номеру телефона \"{this.state.headingText}\"</h2> : ''}\r\n\r\n            {this.state.method === 'address' ? <h2 className=\"text-center\">Результаты поиска клиентов по адресу \"{this.state.headingText}\"</h2> : ''} */}\r\n\r\n            {this.state.method !== '' && (\r\n              <React.Fragment>\r\n                {this.state.method === 'all' ?\r\n                  <h2 className=\"text-center\">Все клиенты</h2> :\r\n                  <h2 className=\"text-center\">Результаты поиска клиентов {wordInHeading} \"{this.state.headingText}\"</h2>\r\n                }\r\n              </React.Fragment>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {this.props.admin.loadingClients ? (\r\n          <div className=\"row mt-3\">\r\n            <div className=\"col-12\">\r\n              <Spinner />\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <React.Fragment>\r\n            {this.state.method !== '' && clients.length === 0 ? (\r\n              <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                  <h2 className=\"text-center\">Клиенты не найдены</h2>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div className=\"row\">\r\n                {clients.length > 0 &&\r\n                  <div className=\"col-12\">\r\n                    <h4>Найдено клиентов: {clients.length}</h4>\r\n                  </div>\r\n                }\r\n\r\n                <div className=\"col-12\">\r\n                  <div className=\"table-responsive mt-3\">\r\n                    <table className=\"table table-bordered table-hover table-striped\">\r\n                      <thead>\r\n                        <tr>\r\n                          <th>Имя</th>\r\n                          <th>Подробнее</th>\r\n                          <th>Тип</th>\r\n                          <th>Телефон</th>\r\n                          <th>Адрес</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {renderClients}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </React.Fragment>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  admin: state.admin,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { searchClients })(withRouter(ClientList));","// this function takes in array of client contracts and returns \r\n// string (comma separated values of contracts)\r\n\r\n// takes in array of strings e.g. ['1', '2', 'a']\r\n\r\nconst getContractsString = (arr) => {\r\n  let newString = '';\r\n\r\n  if (arr.length === 0) {\r\n    return '--';\r\n  }\r\n\r\n  arr.forEach((item, index) => {\r\n    if (index === arr.length - 1) {\r\n      newString += item;\r\n    } else {\r\n      newString += `${item}, `;\r\n    }\r\n  });\r\n\r\n  return newString;\r\n};\r\n\r\nexport default getContractsString;","// this function returns true if guarantee period of the completed\r\n// order is expired and false otherwise\r\n\r\nconst guaranteeExpired = (completedAt = new Date(), guarantee = 0) => {\r\n  let passedInDate = new Date(completedAt);\r\n  // console.log('func compl', passedInDate);\r\n  // console.log('func guarantee', guarantee);\r\n\r\n  // date of expire\r\n  let expireDate = new Date(passedInDate.setMonth(passedInDate.getMonth() + guarantee));\r\n\r\n  // console.log('func expireDate', expireDate);\r\n\r\n  if (new Date().getTime() > expireDate.getTime()) {\r\n    // console.log('func result true');\r\n    return true;\r\n  } else {\r\n    // console.log('func result false');\r\n    return false;\r\n  }\r\n};\r\n\r\nexport default guaranteeExpired;","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport guaranteeExpired from '../../utils/guaranteeExpired';\r\nimport orderFullyProcessed from '../../utils/orderFullyProcessed';\r\n\r\n\r\nclass ClientNotSatisfiedButton extends Component {\r\n  state = {\r\n    // роли, которые могут видеть кнопку \"Клиент недоволен\"\r\n    possibleOccupations: ['admin', 'accountant', 'subadmin', 'operator'],\r\n    // occupation of logged in user\r\n    userOccupation: this.props.auth.user.occupation,\r\n\r\n    // passed-in props\r\n    order: this.props.order,\r\n    shouldLoadOrder: this.props.shouldLoadOrder,\r\n\r\n    // if forceToShow === true, this button is displayed no matter what\r\n    // forceToShow: this.props.forceToShow,\r\n\r\n    // !!!\r\n    // if forceToShow === true, then it is recommended, that shouldLoadOrder is also true\r\n    // because we do not know in what component this button is clicked\r\n    // and if fields are populated\r\n    // !!!\r\n  };\r\n\r\n  goToAddNewForm = () => {\r\n    this.props.history.push(`/fail/add-new/${this.state.order._id}`, {\r\n      pathname: `/fail/add-new/${this.state.order._id}`,\r\n      state: {\r\n        order: this.state.order,\r\n        shouldLoadOrder: this.state.shouldLoadOrder\r\n      }\r\n    });\r\n  };\r\n\r\n\r\n  render() {\r\n    // console.log('ClientNedovolen', this.state);\r\n    // console.log('ClientNedovolen order', this.state.order);\r\n\r\n    const { userOccupation, order } = this.state;\r\n\r\n    let shouldShowButton = false;\r\n\r\n    // если заказ некачественный и срок гарантии не истек\r\n    let generalRule = false;\r\n\r\n    if (\r\n      this.state.possibleOccupations.includes(userOccupation) &&\r\n      order.completed &&\r\n      // order.failed && \r\n      order.guarantee && !guaranteeExpired(order.completedAt, order.guarantee)\r\n    ) {\r\n      generalRule = true;\r\n    }\r\n\r\n\r\n    if (\r\n      order.completed &&\r\n      (generalRule || !orderFullyProcessed(order)) &&\r\n      !order.prevFailedOrder\r\n    ) {\r\n      shouldShowButton = true;\r\n    } else {\r\n      shouldShowButton = false;\r\n    }\r\n\r\n    return (\r\n      <React.Fragment>\r\n        {shouldShowButton ? (\r\n          <button\r\n            className=\"btn btn-secondary mt-3 mr-2\"\r\n            onClick={() => this.goToAddNewForm()}\r\n          >\r\n            Клиент Недоволен\r\n          </button>\r\n        ) : ''}\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nClientNotSatisfiedButton.defaultProps = {\r\n  order: {},\r\n  shouldLoadOrder: true,\r\n  // forceToShow: false\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps)(withRouter(ClientNotSatisfiedButton));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Moment from 'react-moment';\r\n\r\nimport ClientNotSatisfiedButton from '../common/ClientNotSatisfiedButton';\r\n\r\n// import materials from '../common/materials';\r\n// import guaranteeExpired from '../../utils/guaranteeExpired';\r\nimport removeZeros from '../../utils/removeZerosMat';\r\nimport calculateStats from '../../utils/calcStats';\r\nimport calcMaterialConsumption from '../../utils/calcMatConsumption';\r\n\r\n\r\nclass ClientOrders extends Component {\r\n  state = {\r\n    orders: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (this.props.admin.ordersOfClient && this.props.admin.ordersOfClient.length > 0) {\r\n      this.setState({\r\n        orders: this.props.admin.ordersOfClient\r\n      });\r\n    }\r\n  }\r\n\r\n  // goToAddNewForm = (order) => {\r\n  //   this.props.history.push(`/fail/add-new/${order._id}`, {\r\n  //     pathname: `/fail/add-new/${order._id}`,\r\n  //     state: { order, shouldLoadOrder: true }\r\n  //   });\r\n  // };\r\n\r\n  render() {\r\n    // let totalSum = 0,\r\n    //   totalScore = 0,\r\n    //   totalConsumption = [],\r\n    //   completedOrders = 0,\r\n    //   confirmedOrders = 0,\r\n    //   rejectedOrders = 0,\r\n    //   failedOrders = 0;\r\n\r\n    // calculate statistics\r\n    let {\r\n      totalSum,\r\n      totalScore,\r\n      totalOrders,\r\n      completed,\r\n      confirmedOrders,\r\n      rejected,\r\n      failed,\r\n      povtors,\r\n    } = calculateStats(this.state.orders);\r\n\r\n    // let totalConsumption = [];\r\n    // materials.forEach(object => {\r\n    //   const emptyObject = {\r\n    //     material: object.material,\r\n    //     amount: 0,\r\n    //     unit: object.unit\r\n    //   };\r\n    //   totalConsumption.push(emptyObject);\r\n    // });\r\n\r\n    // this.state.orders.forEach(order => {\r\n    // if (order.completed) {\r\n    //   completedOrders++;\r\n    // }\r\n\r\n    // if (order.clientType === 'corporate') {\r\n\r\n    //   if (order.paymentMethod === 'cash') {\r\n    //     if (order.operatorConfirmed && order.adminConfirmed) {\r\n    //       confirmedOrders++;\r\n    //       totalSum += order.cost;\r\n    //       totalScore += order.score;\r\n    //     }\r\n\r\n    //     if ((order.operatorDecided && !order.operatorConfirmed) || (order.adminDecided && !order.adminConfirmed)) {\r\n    //       rejectedOrders++;\r\n    //     }\r\n    //   }\r\n\r\n    //   if (order.paymentMethod === 'notCash') {\r\n    //     if (order.operatorConfirmed && order.accountantConfirmed) {\r\n    //       confirmedOrders++;\r\n    //       totalSum += order.cost;\r\n    //       totalScore += order.score;\r\n    //     }\r\n    //     if (\r\n    //       (order.operatorDecided && !order.operatorConfirmed) ||\r\n    //       (order.accountantDecided && !order.accountantConfirmed)\r\n    //     ) {\r\n    //       rejectedOrders++;\r\n    //     }\r\n    //   }\r\n    // }\r\n\r\n    // if (order.clientType === 'individual') {\r\n    //   if (order.operatorConfirmed && order.adminConfirmed) {\r\n    //     confirmedOrders++;\r\n    //     totalSum += order.cost;\r\n    //     totalScore += order.score;\r\n    //   }\r\n    //   if (\r\n    //     (order.operatorDecided && !order.operatorConfirmed) ||\r\n    //     (order.adminDecided && !order.adminConfirmed)\r\n    //   ) {\r\n    //     rejectedOrders++;\r\n    //   }\r\n    // }\r\n\r\n    // if (order.failed) {\r\n    //   failedOrders++;\r\n    // }\r\n\r\n    // // calculate total consumption of all orders in given period\r\n    // order.disinfectors.forEach(element => {\r\n    //   element.consumption.forEach(object => {\r\n    //     totalConsumption.forEach(item => {\r\n    //       if (object.material === item.material && object.unit === item.unit) {\r\n    //         item.amount += object.amount;\r\n    //       }\r\n    //     });\r\n    //   });\r\n    // });\r\n    // });\r\n\r\n    // calculate total consumption of all orders in given period\r\n    let totalConsumption = calcMaterialConsumption(this.state.orders);\r\n\r\n    // remove materials with amount of 0\r\n    totalConsumption = removeZeros(totalConsumption);\r\n\r\n\r\n    let renderTotalConsumption = totalConsumption.map((item, key) =>\r\n      <li key={key}>{item.material}: {item.amount.toLocaleString()} {item.unit}</li>\r\n    );\r\n\r\n\r\n    let renderOrders = this.state.orders.map((order, index) => {\r\n      // consumption array of specific confirmed order\r\n      let consumptionArray = [];\r\n\r\n      order.disinfectors.forEach(item => {\r\n        consumptionArray.push({\r\n          user: item.user,\r\n          consumption: item.consumption\r\n        });\r\n      });\r\n\r\n      let renderOrderConsumption = consumptionArray.map((object, number) =>\r\n        <li key={number}>\r\n          <p className=\"mb-0\">Пользователь: {object.user.occupation} {object.user.name}</p>\r\n          {object.consumption.map((element, number) =>\r\n            <p key={number} className=\"mb-0\">{element.material}: {element.amount.toLocaleString()} {element.unit}</p>\r\n          )}\r\n        </li>\r\n      );\r\n\r\n      return (\r\n        <div className=\"col-lg-4 col-md-6\" key={index}>\r\n          <div className=\"card order mt-2\">\r\n            <div className=\"card-body p-0\">\r\n              <ul className=\"font-bold mb-0 list-unstyled\">\r\n                {order.prevFailedOrder && (\r\n                  <li><h4><i className=\"fas fas fa-exclamation\"></i> Повторный заказ <i className=\"fas fas fa-exclamation\"></i></h4></li>\r\n                )}\r\n\r\n                {order.failed && (\r\n                  <li><h4><i className=\"fas fas fa-exclamation\"></i> Некачественный заказ <i className=\"fas fas fa-exclamation\"></i></h4></li>\r\n                )}\r\n\r\n                {order.disinfectorId && (\r\n                  <li>Ответственный: {order.disinfectorId.occupation} {order.disinfectorId.name}</li>\r\n                )}\r\n\r\n                {order.operatorDecided ? (\r\n                  <React.Fragment>\r\n                    <li>Оператор рассмотрел заявку</li>\r\n                    {order.operatorConfirmed ? (\r\n                      <React.Fragment>\r\n                        <li className=\"text-success\">Оператор Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.operatorCheckedAt}</Moment>)</li>\r\n                        <li>Балл (0-5): {order.score}</li>\r\n                        <li>Отзыв Клиента: {order.clientReview ? order.clientReview : 'Нет Отзыва'}</li>\r\n                      </React.Fragment>\r\n                    ) : <li className=\"text-danger\">Оператор Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.operatorCheckedAt}</Moment>)</li>}\r\n                  </React.Fragment>\r\n                ) : <li>Оператор еще не рассмотрел заявку</li>}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                {order.accountantDecided ? (\r\n                  <React.Fragment>\r\n                    <li>Бухгалтер рассмотрел заявку</li>\r\n                    {order.accountantConfirmed ? (\r\n                      <React.Fragment>\r\n                        <li className=\"text-success\">Бухгалтер Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.accountantCheckedAt}</Moment>)</li>\r\n                        <li>Счет-Фактура: {order.invoice ? order.invoice : '--'}</li>\r\n                        <li>Общая Сумма: {order.cost.toLocaleString()} UZS (каждому по {(order.cost / order.disinfectors.length).toLocaleString()} UZS)</li>\r\n                      </React.Fragment>\r\n                    ) : <li className=\"text-danger\">Бухгалтер Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.accountantCheckedAt}</Moment>)</li>}\r\n                  </React.Fragment>\r\n                ) : (\r\n                  <React.Fragment>\r\n\r\n                    {order.adminDecided ? (\r\n                      <React.Fragment>\r\n                        <li>Админ рассмотрел заявку</li>\r\n                        {order.adminConfirmed ? (\r\n                          <li className=\"text-success\">Админ Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>\r\n                        ) : <li className=\"text-danger\">Админ Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>}\r\n                      </React.Fragment>\r\n                    ) : (\r\n                      <li>Бухгалтер еще не рассмотрел заявку</li>\r\n                    )}\r\n\r\n                  </React.Fragment>\r\n                )}\r\n\r\n\r\n\r\n                {/* {order.clientType === 'corporate' && order.paymentMethod === 'notCash' && !order.accountantDecided ? <li>Бухгалтер еще не рассмотрел заявку</li> : ''}\r\n\r\n                {order.clientType === 'corporate' && order.paymentMethod === 'notCash' && order.accountantDecided ?\r\n                  <React.Fragment>\r\n                    <li>Бухгалтер рассмотрел заявку</li>\r\n                    {order.accountantConfirmed ? (\r\n                      <React.Fragment>\r\n                        <li className=\"text-success\">Бухгалтер Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.accountantCheckedAt}</Moment>)</li>\r\n                        <li>Счет-Фактура: {order.invoice}</li>\r\n                        <li>Общая Сумма: {order.cost.toLocaleString()} UZS (каждому по {(order.cost / order.disinfectors.length).toLocaleString()} UZS)</li>\r\n                      </React.Fragment>\r\n                    ) : <li className=\"text-danger\">Бухгалтер Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.accountantCheckedAt}</Moment>)</li>}\r\n                  </React.Fragment>\r\n                  : ''}\r\n\r\n                {order.clientType === 'corporate' && order.paymentMethod === 'cash' && !order.adminDecided ? <li>Админ еще не рассмотрел заявку</li> : ''}\r\n\r\n                {order.clientType === 'corporate' && order.paymentMethod === 'cash' && order.adminDecided ? (\r\n                  <React.Fragment>\r\n                    <li>Админ рассмотрел заявку</li>\r\n                    {order.adminConfirmed ? (\r\n                      <li className=\"text-success\">Админ Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>\r\n                    ) : <li className=\"text-danger\">Админ Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>}\r\n                  </React.Fragment>\r\n                ) : ''}\r\n\r\n                {order.clientType === 'individual' && !order.adminDecided ? <li>Админ еще не рассмотрел заявку</li> : ''}\r\n                {order.clientType === 'individual' && order.adminDecided ? (\r\n                  <React.Fragment>\r\n                    <li>Админ рассмотрел заявку</li>\r\n                    {order.adminConfirmed ? (\r\n                      <li className=\"text-success\">Админ Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>\r\n                    ) : <li className=\"text-danger\">Админ Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>}\r\n                  </React.Fragment>\r\n                ) : ''} */}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                {order.clientType === 'corporate' ? (\r\n                  <React.Fragment>\r\n                    {order.clientId ? (\r\n                      <li className=\"text-danger\">Корпоративный Клиент: {order.clientId.name}</li>\r\n                    ) : <li className=\"text-danger\">Корпоративный Клиент</li>}\r\n                    <li className=\"text-danger\">Имя клиента: {order.client}</li>\r\n                  </React.Fragment>\r\n                ) : ''}\r\n\r\n                {order.clientType === 'individual' ? (\r\n                  <li className=\"text-danger\">Физический Клиент: {order.client}</li>\r\n                ) : ''}\r\n\r\n                <li className=\"text-danger\">Телефон Клиента: {order.phone}</li>\r\n\r\n                {order.phone2 ? <li>Другой номер: {order.phone2}</li> : ''}\r\n\r\n                <li className=\"text-danger\">Дата выполнения: <Moment format=\"DD/MM/YYYY\">{order.dateFrom}</Moment></li>\r\n                <li className=\"text-danger\">Время выполнения: С <Moment format=\"HH:mm\">{order.dateFrom}</Moment> ПО <Moment format=\"HH:mm\">{order.completedAt}</Moment></li>\r\n                <li className=\"text-danger\">Адрес: {order.address}</li>\r\n                <li className=\"text-danger\">Тип услуги: {order.typeOfService}</li>\r\n\r\n                <li>Комментарии Оператора: {order.comment ? order.comment : '--'}</li>\r\n                <li>Комментарии Дезинфектора: {order.disinfectorComment ? order.disinfectorComment : '--'}</li>\r\n                <li>Срок гарантии (в месяцах): {order.guarantee}</li>\r\n\r\n                <li>Расход Материалов (заказ выполнили {order.disinfectors.length} чел):</li>\r\n                <ul className=\"font-bold mb-0\">\r\n                  {renderOrderConsumption}\r\n                </ul>\r\n\r\n                {order.clientType === 'corporate' ? (\r\n                  <React.Fragment>\r\n                    {order.paymentMethod === 'cash' ? (\r\n                      <React.Fragment>\r\n                        <li>Тип Платежа: Наличный</li>\r\n                        {order.cost && <li>Общая Сумма: {order.cost.toLocaleString()} UZS (каждому по {(order.cost / order.disinfectors.length).toLocaleString()} UZS)</li>}\r\n                      </React.Fragment>\r\n                    ) : (\r\n                      <React.Fragment>\r\n                        <li>Тип Платежа: Безналичный</li>\r\n                        <li>Номер Договора: {order.contractNumber}</li>\r\n                      </React.Fragment>\r\n                    )}\r\n                  </React.Fragment>\r\n                ) : ''}\r\n\r\n                {order.clientType === 'individual' && order.cost ?\r\n                  <li>Общая Сумма: {order.cost.toLocaleString()} UZS (каждому по {(order.cost / order.disinfectors.length).toLocaleString()} UZS)</li>\r\n                  : ''}\r\n\r\n                <li>Форма Выполнения Заказа заполнена: <Moment format=\"DD/MM/YYYY HH:mm\">{order.completedAt}</Moment></li>\r\n\r\n                {/* {['admin', 'accountant', 'subadmin', 'operator'].includes(this.props.auth.user.occupation) &&\r\n                  order.completed && !order.failed && order.guarantee &&\r\n                  !guaranteeExpired(order.completedAt, order.guarantee) ?\r\n                  (\r\n                    <div className=\"btn-group\">\r\n                      <button\r\n                        className=\"btn btn-secondary mt-2 mr-2\"\r\n                        onClick={() => this.goToAddNewForm(order)}\r\n                      >Клиент Недоволен</button>\r\n                    </div>\r\n                  ) : ''\r\n                } */}\r\n\r\n                <ClientNotSatisfiedButton\r\n                  order={order}\r\n                  shouldLoadOrder={true}\r\n                />\r\n\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )\r\n    });\r\n\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-4 col-md-6\">\r\n            <div className=\"card order mt-2\">\r\n              <div className=\"card-body p-0\">\r\n                <h3 className=\"text-center\">Заказы</h3>\r\n                <ul className=\"font-bold mb-0 list-unstyled\">\r\n                  {/* <li>Всего Получено Заказов: {this.state.orders.length}</li>\r\n                  <li>Выполнено Заказов: {completedOrders}</li>\r\n                  <li>Подтверждено Заказов: {confirmedOrders}</li>\r\n                  <li>Общая Сумма: {totalSum.toLocaleString()} UZS</li>\r\n                  <li>Средний балл: {(totalScore / confirmedOrders).toFixed(2)} (из 5)</li>\r\n                  <li>Отвергнуто Заказов: {rejectedOrders}</li>\r\n                  <li>Некачественные заказы: {failedOrders}</li> */}\r\n\r\n                  <li>Всего Получено Заказов: {totalOrders}</li>\r\n                  <li>Выполнено Заказов: {completed}</li>\r\n                  <li>Подтверждено Заказов: {confirmedOrders.length}</li>\r\n                  <li>Общая Сумма: {totalSum.toLocaleString()} UZS</li>\r\n                  <li>Средний балл: {(totalScore / confirmedOrders.length).toFixed(2)} (из 5)</li>\r\n                  <li>Отвергнуто Заказов: {rejected}</li>\r\n                  <li>Некачественные заказы: {failed}</li>\r\n                  <li>Повторные заказы: {povtors}</li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-lg-4 col-md-6\">\r\n            <div className=\"card order mt-2\">\r\n              <div className=\"card-body p-0\">\r\n                <h4 className=\"text-center\">Общий Расход Материалов:</h4>\r\n                <ul className=\"font-bold mb-0 list-unstyled\">\r\n                  {renderTotalConsumption}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {this.state.orders.length > 0 && (\r\n          <React.Fragment>\r\n            <div className=\"row\">\r\n              <div className=\"col-12\">\r\n                <h2 className=\"text-center pl-3 pr-3\">Заказы</h2>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"row\">\r\n              {renderOrders}\r\n            </div>\r\n          </React.Fragment>\r\n        )}\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth,\r\n  admin: state.admin,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, {})(withRouter(ClientOrders));","import React, { Component } from 'react';\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from '../common/Spinner';\r\nimport Moment from 'react-moment';\r\n\r\nimport getContractsString from '../../utils/getContractString';\r\n\r\nimport ClientOrders from './ClientOrders';\r\nimport { clientById, changeContractNumbers, getOrdersOfClient } from '../../actions/adminActions';\r\n\r\n\r\nimport { getWeekDays, getWeekRange } from '../common/weekFunc';\r\nimport DayPicker from 'react-day-picker';\r\nimport 'react-day-picker/lib/style.css';\r\n\r\n\r\nclass ClientId extends Component {\r\n  state = {\r\n    client: {\r\n      orders: [],\r\n      contracts: []\r\n    },\r\n    contract: '',\r\n\r\n    // -----\r\n    searchMethod: '',\r\n    month: '',\r\n    year: '',\r\n    day: '',\r\n\r\n    // to display month and year in heading h2\r\n    headingMonth: '',\r\n    headingYear: '',\r\n    headingDay: '',\r\n\r\n    hoverRange: undefined,\r\n    selectedDays: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.clientById(this.props.match.params.clientId);\r\n    window.scrollTo({ top: 0 })\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.admin.clientById) {\r\n      this.setState({\r\n        client: nextProps.admin.clientById\r\n      });\r\n    }\r\n  }\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  handleContractCRUD = (method, contract) => {\r\n    const object = {\r\n      // client ID\r\n      id: this.state.client._id,\r\n      method, contract\r\n    };\r\n    this.props.changeContractNumbers(object, this.props.history);\r\n  };\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n    const object = {\r\n      // client ID\r\n      id: this.state.client._id,\r\n      method: 'add',\r\n      contract: this.state.contract\r\n    };\r\n    this.props.changeContractNumbers(object, this.props.history);\r\n    this.setState({\r\n      contract: ''\r\n    });\r\n  };\r\n\r\n  getOrdersOfClientDay = (e) => {\r\n    e.preventDefault();\r\n    const object = {\r\n      client: {\r\n        id: this.state.client._id,\r\n        type: this.state.client.type,\r\n        name: this.state.client.name,\r\n        phone: this.state.client.phone || ''\r\n      },\r\n      type: 'day',\r\n      day: this.state.day\r\n    };\r\n    this.props.getOrdersOfClient(object);\r\n\r\n    this.setState({\r\n      searchMethod: 'day',\r\n      headingDay: this.state.day.split('-').reverse().join('-')\r\n    });\r\n  };\r\n\r\n\r\n  // weekly calendar\r\n  handleDayChange = date => {\r\n    const object = {\r\n      client: {\r\n        id: this.state.client._id,\r\n        type: this.state.client.type,\r\n        name: this.state.client.name,\r\n        phone: this.state.client.phone || ''\r\n      },\r\n      type: 'week',\r\n      days: getWeekDays(getWeekRange(date).from)\r\n    };\r\n    this.props.getOrdersOfClient(object);\r\n\r\n    this.setState({\r\n      searchMethod: 'week',\r\n      selectedDays: getWeekDays(getWeekRange(date).from)\r\n    });\r\n  };\r\n\r\n  handleDayEnter = date => {\r\n    this.setState({\r\n      hoverRange: getWeekRange(date)\r\n    });\r\n  };\r\n\r\n  handleDayLeave = () => {\r\n    this.setState({\r\n      hoverRange: undefined\r\n    });\r\n  };\r\n\r\n  handleWeekClick = (weekNumber, days, e) => {\r\n    const object = {\r\n      client: {\r\n        id: this.state.client._id,\r\n        type: this.state.client.type,\r\n        name: this.state.client.name,\r\n        phone: this.state.client.phone || ''\r\n      },\r\n      type: 'week',\r\n      days: getWeekDays(getWeekRange(days[0]).from)\r\n    };\r\n    this.props.getOrdersOfClient(object);\r\n\r\n    this.setState({\r\n      searchMethod: 'week',\r\n      selectedDays: getWeekDays(getWeekRange(days[0]).from)\r\n    });\r\n  };\r\n  // end of weekly calendar\r\n\r\n\r\n  render() {\r\n    // weekly calender\r\n    const { hoverRange, selectedDays } = this.state;\r\n\r\n    const daysAreSelected = selectedDays.length > 0;\r\n\r\n    const modifiers = {\r\n      hoverRange,\r\n      selectedRange: daysAreSelected && {\r\n        from: selectedDays[0],\r\n        to: selectedDays[6],\r\n      },\r\n      hoverRangeStart: hoverRange && hoverRange.from,\r\n      hoverRangeEnd: hoverRange && hoverRange.to,\r\n      selectedRangeStart: daysAreSelected && selectedDays[0],\r\n      selectedRangeEnd: daysAreSelected && selectedDays[6]\r\n    };\r\n    // end of calendar\r\n\r\n\r\n    const { client } = this.state;\r\n\r\n    let totalSum = 0,\r\n      totalScore = 0,\r\n      operatorDecidedOrders = [],\r\n      confirmedOrders = [],\r\n      rejectedOrders = [];\r\n\r\n    // let clientOrders = client.orders.map((item, key) => {\r\n    client.orders.forEach(item => {\r\n      if (item.completed && item.operatorDecided) {\r\n        operatorDecidedOrders.push(item);\r\n\r\n        if (\r\n          !item.failed &&\r\n          // исключаем некачественные и повторные заказы\r\n          !item.hasOwnProperty('prevFailedOrder') &&\r\n          item.operatorConfirmed &&\r\n          (item.adminConfirmed || item.accountantConfirmed)\r\n        ) {\r\n          confirmedOrders.push(item);\r\n          totalSum += item.cost;\r\n          totalScore += item.score;\r\n        }\r\n\r\n        if (\r\n          (item.operatorDecided && !item.operatorConfirmed) ||\r\n          (item.accountantDecided && !item.accountantConfirmed) ||\r\n          (item.adminDecided && !item.adminConfirmed)\r\n        ) {\r\n          rejectedOrders.push(item);\r\n        }\r\n\r\n        //   if (item.clientType === 'corporate') {\r\n        //     if (!item.operatorConfirmed || (item.accountantDecided && !item.accountantConfirmed)) {\r\n        //       rejectedOrders.push(item);\r\n        //     }\r\n        //   } else if (item.clientType === 'individual') {\r\n        //     if (!item.operatorConfirmed || (item.adminDecided && !item.adminConfirmed)) {\r\n        //       rejectedOrders.push(item);\r\n        //     }\r\n        //   }\r\n\r\n      }\r\n    });\r\n\r\n\r\n    // RENDER ORDER DATES --------\r\n    // display dates of orders with col-md-4 and 10 dates in one box\r\n    const DATES_IN_ONE_BOX = 10;\r\n    // number of orders that have orderFrom field\r\n    let number_of_dates = 0;\r\n    client.orders.forEach(order => {\r\n      if (order.dateFrom) number_of_dates++;\r\n    });\r\n\r\n    // how many boxes are needed\r\n    let number_of_boxes = Math.ceil(number_of_dates / DATES_IN_ONE_BOX);\r\n\r\n    let array_of_objects = [];\r\n    for (let i = 1; i <= number_of_boxes; i++) {\r\n      array_of_objects.push({});\r\n    }\r\n\r\n    let renderBoxes = array_of_objects.map((item, index) => {\r\n      let datesArray = [];\r\n      for (let j = index * 10; j <= index * 10 + 9; j++) {\r\n        if (client.orders[j] && client.orders[j].dateFrom) {\r\n          datesArray.push(client.orders[j].dateFrom);\r\n        }\r\n      }\r\n      datesArray.sort((x, y) => new Date(x) - new Date(y));\r\n\r\n      return (\r\n        <div className=\"col-md-4\" key={index}>\r\n          <div className=\"card order mt-2\">\r\n            <div className=\"card-body p-0\">\r\n              <ul className=\"font-bold mb-0 pl-0 list-unstyled\">\r\n                {datesArray.map((el, key) => <li key={key}><Moment format=\"DD/MM/YYYY HH:mm\">{el}</Moment></li>)}\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n    // RENDER ORDER DATES --------\r\n\r\n\r\n    let renderExistingContracts = client.contracts.map((item, index) =>\r\n      <li className=\"mb-3\" key={index}>Договор: {item} <button className=\"btn btn-danger ml-3\" onClick={() => this.handleContractCRUD('delete', item)}><i className=\"fas fa-trash-alt\"></i> Удалить</button></li>\r\n    );\r\n\r\n    return (\r\n      <div className=\"container-fluid\">\r\n\r\n        {this.props.admin.loadingClients ? (\r\n          <div className=\"row mt-3\">\r\n            <div className=\"col-12\">\r\n              <Spinner />\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <React.Fragment>\r\n            <div className=\"row\">\r\n              <div className=\"col-12\">\r\n                <h3 className=\"text-center\">Клиент {client.name}</h3>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"row mt-2\">\r\n              <div className=\"col-lg-4 col-md-6\">\r\n                <div className=\"card order mt-2\">\r\n                  <div className=\"card-body p-0\">\r\n                    <ul className=\"font-bold mb-0 pl-0 list-unstyled\">\r\n                      {client.type === 'corporate' ?\r\n                        <React.Fragment>\r\n                          <li>Корпоративный клиент: {client.name}</li>\r\n                          <li>ИНН: {client.inn || '--'}</li>\r\n                          <li>Номера Договоров: {getContractsString(client.contracts)}</li>\r\n                        </React.Fragment>\r\n                        : ''}\r\n\r\n                      {client.type === 'individual' ?\r\n                        <React.Fragment>\r\n                          <li>Физический клиент: {client.name}</li>\r\n                          <li>Номер телефона: {client.phone}</li>\r\n                          <li>Адрес: {client.address}</li>\r\n                        </React.Fragment> : ''}\r\n\r\n                      <li>Всего Получено заказов от клиента: {client.orders.length}</li>\r\n\r\n                      {confirmedOrders.length > 0 &&\r\n                        <li>Выполнено и подтверждено заказов: {confirmedOrders.length}</li>\r\n                      }\r\n\r\n                      {totalScore > 0 &&\r\n                        <li>Средняя оценка: {(totalScore / confirmedOrders.length).toFixed(2)} (из 5)</li>\r\n                      }\r\n\r\n                      {totalSum > 0 &&\r\n                        <li>Общая Сумма: {totalSum.toLocaleString()} UZS</li>\r\n                      }\r\n                    </ul>\r\n                    <Link to={`/edit-client/${client._id}`} className=\"btn btn-warning mt-2\"><i className=\"fas fa-edit\"></i> Редактировать Клиента</Link>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {client.type === 'corporate' ? (\r\n                <React.Fragment>\r\n                  <div className=\"col-lg-4 col-md-6\">\r\n                    <div className=\"card order mt-2\">\r\n                      <div className=\"card-body p-0\">\r\n                        <h5 className=\"text-center\">Удалить Номер Договора</h5>\r\n                        <ul className=\"font-bold mb-0 pl-0 list-unstyled\">\r\n                          {renderExistingContracts}\r\n                        </ul>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n\r\n                  <div className=\"col-lg-4 col-md-6\">\r\n                    <div className=\"card order mt-2\">\r\n                      <div className=\"card-body p-0\">\r\n                        <form onSubmit={this.onSubmit}>\r\n                          <h5 className=\"text-center\">Добавить Номер Договора</h5>\r\n                          <div className=\"form-group\">\r\n                            <input type=\"text\" name=\"contract\" className=\"form-control\" onChange={this.onChange} value={this.state.contract} placeholder=\"Введите Номер Договора\" required />\r\n                          </div>\r\n                          <button type=\"submit\" className=\"btn btn-success\"><i className=\"fas fa-plus-circle\"></i> Добавить</button>\r\n                        </form>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                </React.Fragment>\r\n              ) : ''}\r\n            </div>\r\n          </React.Fragment>\r\n        )}\r\n\r\n        {client.orders.length > 0 && typeof client.orders[0] === 'object' && (\r\n          <React.Fragment>\r\n            <div className=\"border-between-disinfectors mt-3\"></div>\r\n            <div className=\"border-between-disinfectors mt-1\"></div>\r\n\r\n            <div className=\"row\">\r\n              <div className=\"col-12\">\r\n                <h2 className=\"text-center pl-3 pr-3\">Даты Заказов Клиента</h2>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"row\">\r\n              {renderBoxes}\r\n            </div>\r\n\r\n            <div className=\"border-between-disinfectors mt-3\"></div>\r\n            <div className=\"border-between-disinfectors mt-1\"></div>\r\n          </React.Fragment>\r\n        )}\r\n\r\n\r\n        <div className=\"row\">\r\n\r\n          <div className=\"col-lg-4 col-md-6 mt-3\">\r\n            <form onSubmit={this.getOrdersOfClientDay} className=\"form-bg p-2\">\r\n              <h4 className=\"text-center\">Заказы клиента по дням</h4>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"day\"><strong>Выберите День:</strong></label>\r\n                <input type=\"date\" name=\"day\" className=\"form-control\" onChange={this.onChange} required />\r\n              </div>\r\n              <button type=\"submit\" className=\"btn btn-primary\"><i className=\"fas fa-search\"></i> Искать</button>\r\n            </form>\r\n          </div>\r\n\r\n\r\n          <div className=\"col-lg-4 col-md-6 weekly-stats mt-3\">\r\n            <div className=\"SelectedWeekExample form-bg font-weight-bold\">\r\n              <h4 className=\"text-center\">Заказы клиента по неделям</h4>\r\n              <DayPicker\r\n                selectedDays={selectedDays}\r\n                showWeekNumbers\r\n                showOutsideDays\r\n                modifiers={modifiers}\r\n                firstDayOfWeek={1}\r\n                onDayClick={this.handleDayChange}\r\n                onDayMouseEnter={this.handleDayEnter}\r\n                onDayMouseLeave={this.handleDayLeave}\r\n                onWeekClick={this.handleWeekClick}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row mt-2\">\r\n          <div className=\"col-12\">\r\n            {this.state.searchMethod === 'week' ?\r\n              <h2 className=\"text-center pl-3 pr-3\">Заказы клиента за <Moment format=\"DD/MM/YYYY\">{this.state.selectedDays[0]}</Moment> - <Moment format=\"DD/MM/YYYY\">{this.state.selectedDays[6]}</Moment></h2> : ''}\r\n\r\n            {this.state.searchMethod === 'day' ?\r\n              <h2 className=\"text-center pl-3 pr-3\">Заказы клиента за {this.state.headingDay}</h2> : ''}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            {this.props.admin.loadingOrdersOfClient ? <Spinner /> : (\r\n              <React.Fragment>\r\n                {this.state.searchMethod !== '' && (\r\n                  <ClientOrders />\r\n                )}\r\n              </React.Fragment>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  admin: state.admin,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { clientById, changeContractNumbers, getOrdersOfClient })(withRouter(ClientId));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from './Spinner';\r\n\r\nimport materials from './materials';\r\nimport removeZeros from '../../utils/removeZerosMat';\r\n\r\nimport {\r\n  getUserById,\r\n  setDisinfectorMaterials,\r\n} from '../../actions/adminActions';\r\n\r\n\r\nclass SetDisinfectorMaterials extends Component {\r\n  state = {\r\n    user: {\r\n      materials: []\r\n    },\r\n\r\n    materials: [{\r\n      material: '',\r\n      amount: 0,\r\n      unit: ''\r\n    }]\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (\r\n      this.props.admin.userById &&\r\n      this.props.admin.userById._id &&\r\n      this.props.admin.userById.materials\r\n    ) {\r\n      this.setState({\r\n        user: this.props.admin.userById\r\n      });\r\n    } else {\r\n      this.props.getUserById(this.props.match.params.id);\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.admin.userById) {\r\n      this.setState({\r\n        user: nextProps.admin.userById\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  changeSelect = (e) => {\r\n    const index = e.target.name.split('-')[1];\r\n    const value = e.target.value.split('+')[0];\r\n    const unit = e.target.value.split('+')[1];\r\n\r\n    let helpArray = [...this.state.materials];\r\n\r\n    helpArray[index].material = value;\r\n    helpArray[index].unit = unit;\r\n\r\n    this.setState({\r\n      materials: helpArray\r\n    });\r\n  }\r\n\r\n  changeAmount = (e) => {\r\n    const index = e.target.name.split('-')[1];\r\n    const amount = Number(e.target.value);\r\n\r\n    let helpArray = [...this.state.materials];\r\n    helpArray[index].amount = amount;\r\n\r\n    this.setState({\r\n      materials: helpArray\r\n    });\r\n  }\r\n\r\n  addMaterial = (e) => {\r\n    e.preventDefault();\r\n\r\n    const newMaterialObject = {\r\n      material: '',\r\n      amount: 0,\r\n      unit: ''\r\n    };\r\n\r\n    let array = [...this.state.materials];\r\n    array.push(newMaterialObject);\r\n    this.setState({\r\n      materials: array\r\n    });\r\n  }\r\n\r\n  deleteMaterial = (e) => {\r\n    e.preventDefault();\r\n\r\n    // delete the last element in this.state.materials\r\n    let array = [...this.state.materials];\r\n    array.pop();\r\n\r\n    this.setState({\r\n      materials: array\r\n    });\r\n  }\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    console.clear();\r\n\r\n    let hasEmptyFields = false;\r\n    let hasNegativeAmountFields = false;\r\n\r\n    // check for empty material name fields\r\n    this.state.materials.forEach(item => {\r\n      if (item.material === '' || item.unit === '') {\r\n        hasEmptyFields = true;\r\n      }\r\n\r\n      if (item.amount < 0) {\r\n        hasNegativeAmountFields = true;\r\n      }\r\n    });\r\n\r\n    if (hasEmptyFields) {\r\n      return alert('Заполните Поле \"Выберите Материал и Количество\"');\r\n    }\r\n    if (hasNegativeAmountFields) {\r\n      return alert('Количество Материала не может быть отрицательнам числом');\r\n    }\r\n\r\n    const object = {\r\n      userId: this.state.user._id,\r\n      materials: this.state.materials\r\n    };\r\n\r\n    // console.log('object', object);\r\n    this.props.setDisinfectorMaterials(object, this.props.history);\r\n  }\r\n\r\n\r\n  render() {\r\n    const currentUser = this.state.user;\r\n\r\n    const userMaterials = removeZeros(currentUser.materials || []);\r\n\r\n    const materialLabels = [\r\n      { label: '-- Выберите вещество --', value: \"\", unit: \"\" }\r\n    ];\r\n\r\n    materials.forEach(item => {\r\n      materialLabels.push({\r\n        label: item.material,\r\n        value: item.material,\r\n        unit: item.unit\r\n      });\r\n    });\r\n\r\n    const materialOptions = materialLabels.map((option, index) =>\r\n      <option value={`${option.value}+${option.unit}`} key={index}>{option.label} {option.unit}</option>\r\n    );\r\n\r\n    const renderMaterialInputs = this.state.materials.map((item, index) => {\r\n      return (\r\n        <React.Fragment key={index}>\r\n          <div className=\"form-group\">\r\n            <select\r\n              name={`material-${index}`}\r\n              className=\"form-control\"\r\n              onChange={this.changeSelect}\r\n              required\r\n            >\r\n              {materialOptions}\r\n            </select>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor={`quantity-${index}`}>Количество:</label>\r\n            <input\r\n              type=\"number\"\r\n              step=\"0.001\"\r\n              className=\"form-control\"\r\n              name={`quantity-${index}`}\r\n              onChange={this.changeAmount}\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"border-bottom-red\"></div>\r\n        </React.Fragment>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row mt-2\">\r\n          <div className=\"col-12\">\r\n            <h3 className=\"text-center\">Изменить материалы пользователя</h3>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row mt-2\">\r\n          <div className=\"col-md-6\">\r\n            {!currentUser._id || !currentUser.materials ? <Spinner /> : (\r\n              <div className=\"card order\">\r\n                <div className=\"card-body p-0\">\r\n                  <ul className=\"font-bold mb-0 pl-0 list-unstyled\">\r\n                    <h4 className=\"text-center\">{currentUser.occupation} {currentUser.name}</h4>\r\n                    <p className=\"mb-0\">Имеется в наличии материалов:</p>\r\n                    <ul>\r\n                      {userMaterials.map((material, number) =>\r\n                        <li key={number}>{material.material}: {material.amount} {material.unit}</li>)}\r\n                    </ul>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"col-md-6\">\r\n            <div className=\"card mt-2\">\r\n              <div className=\"card-body\">\r\n                <h4 className=\"text-center\">Введите Материалы</h4>\r\n                <form onSubmit={this.onSubmit}>\r\n                  {renderMaterialInputs}\r\n\r\n                  {this.state.materials.length < materials.length && (\r\n                    <button\r\n                      className=\"btn btn-primary mr-2 mt-2\"\r\n                      onClick={this.addMaterial}\r\n                    >\r\n                      <i className=\"fas fa-plus\"></i> Добавить Материал\r\n                    </button>\r\n                  )}\r\n\r\n                  {this.state.materials.length === 1 ? '' : (\r\n                    <button\r\n                      className=\"btn btn-danger mt-2\"\r\n                      onClick={this.deleteMaterial}\r\n                    >\r\n                      <i className=\"fas fa-trash-alt\"></i> Удалить последний материал\r\n                    </button>\r\n                  )}\r\n\r\n                  <div className=\"border-bottom\"></div>\r\n\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"btn btn-success\"\r\n                  >\r\n                    <i className=\"fas fa-marker\"></i> Изменить материалы\r\n                  </button>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  admin: state.admin,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getUserById, setDisinfectorMaterials })(withRouter(SetDisinfectorMaterials));","import React, { Component } from 'react'\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Spinner from '../common/Spinner';\r\nimport Moment from 'react-moment';\r\n\r\nimport materials from '../common/materials';\r\nimport removeZeros from '../../utils/removeZerosMat';\r\n\r\nimport {\r\n  getCurrentMaterials,\r\n  setCurrentMaterials\r\n} from '../../actions/adminActions';\r\n\r\n\r\nclass SetCurrentMaterials extends Component {\r\n  state = {\r\n    currentMaterials: [],\r\n\r\n    materials: [{\r\n      material: '',\r\n      amount: 0,\r\n      unit: ''\r\n    }]\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (\r\n      this.props.admin.currentMaterials &&\r\n      this.props.admin.currentMaterials.materials &&\r\n      this.props.admin.currentMaterials.materials.length > 0\r\n    ) {\r\n      this.setState({\r\n        currentMaterials: this.props.admin.currentMaterials.materials\r\n      });\r\n    } else {\r\n      this.props.getCurrentMaterials();\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.admin.currentMaterials.materials) {\r\n      this.setState({\r\n        currentMaterials: nextProps.admin.currentMaterials.materials\r\n      });\r\n    }\r\n  }\r\n\r\n  changeSelect = (e) => {\r\n    const index = e.target.name.split('-')[1];\r\n    const value = e.target.value.split('+')[0];\r\n    const unit = e.target.value.split('+')[1];\r\n\r\n    let helpArray = [...this.state.materials];\r\n\r\n    helpArray[index].material = value;\r\n    helpArray[index].unit = unit;\r\n\r\n    this.setState({\r\n      materials: helpArray\r\n    });\r\n  }\r\n\r\n  changeAmount = (e) => {\r\n    const index = e.target.name.split('-')[1];\r\n    const amount = Number(e.target.value);\r\n\r\n    let helpArray = [...this.state.materials];\r\n    helpArray[index].amount = amount;\r\n\r\n    this.setState({\r\n      materials: helpArray\r\n    });\r\n  }\r\n\r\n  addMaterial = (e) => {\r\n    e.preventDefault();\r\n\r\n    const newMaterialObject = {\r\n      material: '',\r\n      amount: 0,\r\n      unit: ''\r\n    };\r\n\r\n    let array = [...this.state.materials];\r\n    array.push(newMaterialObject);\r\n    this.setState({\r\n      materials: array\r\n    });\r\n  }\r\n\r\n  deleteMaterial = (e) => {\r\n    e.preventDefault();\r\n\r\n    // delete the last element in this.state.materials\r\n    let array = [...this.state.materials];\r\n    array.pop();\r\n\r\n    this.setState({\r\n      materials: array\r\n    });\r\n  }\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    console.clear();\r\n\r\n    let hasEmptyFields = false;\r\n    let hasNegativeAmountFields = false;\r\n\r\n    // check for empty material name fields\r\n    this.state.materials.forEach(item => {\r\n      if (item.material === '' || item.unit === '') {\r\n        hasEmptyFields = true;\r\n      }\r\n\r\n      if (item.amount < 0) {\r\n        hasNegativeAmountFields = true;\r\n      }\r\n    });\r\n\r\n    if (hasEmptyFields) {\r\n      return alert('Заполните Поле \"Выберите Материал и Количество\"');\r\n    }\r\n    if (hasNegativeAmountFields) {\r\n      return alert('Количество Материала не может быть отрицательнам числом');\r\n    }\r\n\r\n    const object = {\r\n      materials: this.state.materials\r\n    };\r\n\r\n    // console.log('object', object);\r\n    this.props.setCurrentMaterials(object, this.props.history);\r\n  }\r\n\r\n  render() {\r\n    // current materials\r\n    let currentMat = removeZeros([...this.state.currentMaterials]);\r\n\r\n    let renderCurMat = currentMat.map((item, index) =>\r\n      <li key={index}>{item.material}: {item.amount} {item.unit}</li>\r\n    );\r\n\r\n\r\n    const materialLabels = [\r\n      { label: '-- Выберите вещество --', value: \"\", unit: \"\" }\r\n    ];\r\n\r\n    materials.forEach(item => {\r\n      materialLabels.push({\r\n        label: item.material,\r\n        value: item.material,\r\n        unit: item.unit\r\n      });\r\n    });\r\n\r\n    const materialOptions = materialLabels.map((option, index) =>\r\n      <option value={`${option.value}+${option.unit}`} key={index}>{option.label} {option.unit}</option>\r\n    );\r\n\r\n    const renderMaterialInputs = this.state.materials.map((item, index) => {\r\n      return (\r\n        <React.Fragment key={index}>\r\n          <div className=\"form-group\">\r\n            <select\r\n              name={`material-${index}`}\r\n              className=\"form-control\"\r\n              onChange={this.changeSelect}\r\n              required\r\n            >\r\n              {materialOptions}\r\n            </select>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor={`quantity-${index}`}>Количество:</label>\r\n            <input\r\n              type=\"number\"\r\n              step=\"0.001\"\r\n              className=\"form-control\"\r\n              name={`quantity-${index}`}\r\n              onChange={this.changeAmount}\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"border-bottom-red\"></div>\r\n        </React.Fragment>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row mt-2\">\r\n          <div className=\"col-12\">\r\n            <h3 className=\"text-center\">Изменить количество материалов на складе</h3>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row mt-2\">\r\n          {/* Render Form */}\r\n          <div className=\"col-md-6\">\r\n            <div className=\"card mt-2\">\r\n              <div className=\"card-body\">\r\n                <h4 className=\"text-center\">Введите названия материалов, которых хотите изменить и их количество</h4>\r\n                <form onSubmit={this.onSubmit}>\r\n                  {renderMaterialInputs}\r\n\r\n                  {this.state.materials.length < materials.length && (\r\n                    <button\r\n                      className=\"btn btn-primary mr-2 mt-2\"\r\n                      onClick={this.addMaterial}\r\n                    >\r\n                      <i className=\"fas fa-plus\"></i> Добавить Материал\r\n                    </button>\r\n                  )}\r\n\r\n                  {this.state.materials.length === 1 ? '' : (\r\n                    <button\r\n                      className=\"btn btn-danger mt-2\"\r\n                      onClick={this.deleteMaterial}\r\n                    >\r\n                      <i className=\"fas fa-trash-alt\"></i> Удалить последний материал\r\n                    </button>\r\n                  )}\r\n\r\n                  <div className=\"border-bottom\"></div>\r\n\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"btn btn-success\"\r\n                  >\r\n                    <i className=\"fas fa-marker\"></i> Изменить материалы\r\n                  </button>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n\r\n          {/* Render current materials */}\r\n          <div className=\"col-md-6\">\r\n            {this.props.admin.loadingCurMat ? <Spinner /> :\r\n              <div className=\"card order mt-2\">\r\n                <div className=\"card-body p-0\">\r\n                  <h3 className=\"text-center\">Сейчас имеется материалов на складе</h3>\r\n                  <ul className=\"font-bold mb-0 list-unstyled\">\r\n                    {renderCurMat}\r\n                    <li className=\"mt-2\">Последнее обновление: <Moment format=\"DD/MM/YYYY HH:mm\">{this.props.admin.currentMaterials.lastUpdated}</Moment></li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            }\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  admin: state.admin,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getCurrentMaterials, setCurrentMaterials })(withRouter(SetCurrentMaterials));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport TextFieldGroup from '../common/TextFieldGroup';\r\n\r\nimport { deleteMaterialFromDB } from '../../actions/adminActions';\r\n\r\n\r\nclass DeleteMaterial extends Component {\r\n  state = {\r\n    material: '',\r\n\r\n    errors: {},\r\n  };\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  onDeleteMaterial = () => {\r\n    let object = {\r\n      material: this.state.material,\r\n    };\r\n    // console.log('onDeleteMaterial', object);\r\n    this.props.deleteMaterialFromDB(object, this.props.history)\r\n  };\r\n\r\n  render() {\r\n    const { errors } = this.state;\r\n\r\n    return (\r\n      <div className=\"col-md-6\">\r\n        <div className=\"card\">\r\n          <div className=\"card-body\">\r\n            <h3 className=\"text-center\">Удалить Материал из БД</h3>\r\n\r\n            <p>* имя материала должно точно совпадать с именем материала в БД и в materials.js (регистр букв тоже должен совпадать)</p>\r\n\r\n            <form onSubmit={this.onDeleteMaterial}>\r\n              <TextFieldGroup\r\n                label=\"Введите Имя Материала, которого нужно удалить\"\r\n                type=\"text\"\r\n                name=\"material\"\r\n                value={this.state.material}\r\n                onChange={this.onChange}\r\n                error={errors.material}\r\n                required\r\n              />\r\n\r\n              <button type=\"submit\" className=\"btn btn-danger\">Удалить</button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  admin: state.admin,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { deleteMaterialFromDB })(withRouter(DeleteMaterial));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport TextFieldGroup from '../common/TextFieldGroup';\r\nimport SelectListGroup from '../common/SelectListGroup';\r\nimport DeleteMaterial from './DeleteMaterial';\r\n\r\nimport { addNewMaterial } from '../../actions/adminActions';\r\n\r\n\r\nclass NewMaterial extends Component {\r\n  state = {\r\n    material: '',\r\n    unit: '',\r\n    errors: {}\r\n  };\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  onSubmit = () => {\r\n    let object = {\r\n      material: this.state.material,\r\n      unit: this.state.unit\r\n    };\r\n\r\n    this.props.addNewMaterial(object, this.props.history);\r\n  };\r\n\r\n  render() {\r\n    const { errors } = this.state;\r\n\r\n    const units = [\r\n      { label: '-- Введите единицу измерения --', value: '' },\r\n      { label: 'гр', value: 'гр' },\r\n      { label: 'шт', value: 'шт' },\r\n      { label: 'мл', value: 'мл' },\r\n      { label: 'пак', value: 'пак' }\r\n    ];\r\n\r\n    return (\r\n      <div className=\"container-fluid mt-4\">\r\n        <div className=\"row\">\r\n\r\n          {/* Create New Material Form */}\r\n          <div className=\"col-md-6\">\r\n            <div className=\"card\">\r\n              <div className=\"card-body\">\r\n                <h3 className=\"text-center\">Добавить Новый Материал</h3>\r\n                <form onSubmit={this.onSubmit}>\r\n                  <TextFieldGroup\r\n                    label=\"Введите Имя Материала\"\r\n                    type=\"text\"\r\n                    name=\"material\"\r\n                    value={this.state.material}\r\n                    onChange={this.onChange}\r\n                    error={errors.material}\r\n                    required\r\n                  />\r\n                  <SelectListGroup\r\n                    name=\"unit\"\r\n                    value={this.state.unit}\r\n                    onChange={this.onChange}\r\n                    error={errors.unit}\r\n                    options={units}\r\n                    required\r\n                  />\r\n                  <button type=\"submit\" className=\"btn btn-success\">Добавить</button>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n\r\n          {/* Create Delete Material Form */}\r\n          <DeleteMaterial />\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  admin: state.admin,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { addNewMaterial })(withRouter(NewMaterial));","import axios from 'axios';\r\nimport {\r\n  GET_ERRORS,\r\n  SUBADM_GET_MY_ORDERS,\r\n  GET_SORTED_ORDERS_SUBADMIN,\r\n  ALL_DISINFECTORS,\r\n  SUBADMIN_MATERIALS,\r\n  SUBADMIN_ADDS_MATERIAL,\r\n  SUBADMIN_MAT_COM_HISTORY,\r\n  SUBADMIN_MAT_DISTRIB_HISTORY,\r\n  LOADING_SORTED_ORDERS_SUBADMIN,\r\n  SUBADMIN_LOADING,\r\n  SUBADMIN_LOADING_STATS\r\n} from './types';\r\n\r\n\r\n// get orders that subadmin should complete\r\nexport const getSubadmOrders = (id) => (dispatch) => {\r\n  dispatch(setSubadminLoading());\r\n\r\n\r\n  // 21.04.2021 now subadmin and disinfector refer to the same endpoint \r\n  // to get orders they should complete\r\n  axios.post('/order/get-my-orders', { userId: id })\r\n    // axios.post('/subadmin/get-my-orders', { id: id })\r\n    .then(res =>\r\n      dispatch({\r\n        type: SUBADM_GET_MY_ORDERS,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\nexport const getSortedOrders = (date) => (dispatch) => {\r\n  dispatch(setLoadingSortedOrders());\r\n  axios.post('/subadmin/get-sorted-orders', { date: date })\r\n    .then(res =>\r\n      dispatch({\r\n        type: GET_SORTED_ORDERS_SUBADMIN,\r\n        payload: res.data,\r\n        date: date\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\nexport const getAllDisinfectors = () => (dispatch) => {\r\n  dispatch(setSubadminLoading());\r\n\r\n  const object = {\r\n    method: 'role',\r\n    roles: ['disinfector']\r\n  };\r\n\r\n  // axios.post('/subadmin/get-all-disinfectors')\r\n  axios.post('/get-users', { object })\r\n    .then(res =>\r\n      dispatch({\r\n        type: ALL_DISINFECTORS,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\nexport const getSubadminMaterials = (id) => (dispatch) => {\r\n  axios.post('/subadmin/get-subadmin-materials', { id: id })\r\n    .then(res =>\r\n      dispatch({\r\n        type: SUBADMIN_MATERIALS,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\n// subadmin adds material to disinfector\r\nexport const addMaterialToDisinfector = (object, history) => (dispatch) => {\r\n  axios.post('/subadmin/add-material-to-disinfector', { object: object })\r\n    .then(res => {\r\n      dispatch({\r\n        type: SUBADMIN_ADDS_MATERIAL,\r\n        payload: res.data\r\n      });\r\n      return history.push('/subadmin');\r\n    })\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\n// subadmin sees how much material he received from admin\r\nexport const getMatComHistory = (object) => (dispatch) => {\r\n  dispatch(loadingStats());\r\n  axios.post('/subadmin/get-material-coming-history', { object: object })\r\n    .then(res =>\r\n      dispatch({\r\n        type: SUBADMIN_MAT_COM_HISTORY,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\n// subadmin sees materials he distributed to disinfectors\r\nexport const getSubMatDistrib = (object) => (dispatch) => {\r\n  dispatch(loadingStats());\r\n  axios.post('/subadmin/get-material-distrib-history', { object: object })\r\n    .then(res =>\r\n      dispatch({\r\n        type: SUBADMIN_MAT_DISTRIB_HISTORY,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\n// Loading sorted orders\r\nexport const setLoadingSortedOrders = () => {\r\n  return {\r\n    type: LOADING_SORTED_ORDERS_SUBADMIN\r\n  };\r\n};\r\n\r\n\r\n// \r\nexport const setSubadminLoading = () => {\r\n  return {\r\n    type: SUBADMIN_LOADING\r\n  };\r\n}\r\n\r\n\r\nexport const loadingStats = () => {\r\n  return {\r\n    type: SUBADMIN_LOADING_STATS\r\n  };\r\n}","import React, { Component } from 'react';\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { deleteOrder } from '../../actions/orderActions';\r\nimport { getSortedOrders } from '../../actions/subadminActions';\r\n\r\nimport orderFullyProcessed from '../../utils/orderFullyProcessed';\r\n\r\n// socket.io\r\nimport openSocket from 'socket.io-client';\r\nimport socketLink from '../common/socketLink';\r\n\r\nclass SubadmSortedOrders extends Component {\r\n  _isMounted = false;\r\n\r\n  state = {\r\n    date: new Date(),\r\n    sortedOrders: this.props.subadmin.sortedOrders\r\n  };\r\n\r\n  componentDidMount() {\r\n    this._isMounted = true;\r\n\r\n    const socket = openSocket(socketLink);\r\n\r\n    socket.on('createOrder', data => {\r\n      // check if today\r\n      if (\r\n        new Date(data.order.dateFrom).getDate() === new Date(this.props.date).getDate() &&\r\n        new Date(data.order.dateFrom).getMonth() === new Date(this.props.date).getMonth() &&\r\n        new Date(data.order.dateFrom).getFullYear() === new Date(this.props.date).getFullYear()\r\n      ) {\r\n        this.addOrderToDOM(data.order);\r\n      }\r\n    });\r\n\r\n    socket.on('editOrder', data => {\r\n      // check if today\r\n      // if (\r\n      //   new Date(data.order.dateFrom).getDate() === new Date(this.props.date).getDate() &&\r\n      //   new Date(data.order.dateFrom).getMonth() === new Date(this.props.date).getMonth() &&\r\n      //   new Date(data.order.dateFrom).getFullYear() === new Date(this.props.date).getFullYear()\r\n      // ) {\r\n      //   this.editOrderOnDOM(data.order);\r\n      // }\r\n      this.editOrderOnDOM(data.order);\r\n    });\r\n\r\n    socket.on('deleteOrder', data => {\r\n      // check if today\r\n      if (\r\n        new Date(data.orderDateFrom).getDate() === new Date(this.props.date).getDate() &&\r\n        new Date(data.orderDateFrom).getMonth() === new Date(this.props.date).getMonth() &&\r\n        new Date(data.orderDateFrom).getFullYear() === new Date(this.props.date).getFullYear()\r\n      ) {\r\n        this.removeOrderFromDOM(data.id);\r\n      }\r\n    });\r\n  }\r\n\r\n  addOrderToDOM = (order) => {\r\n    if (this._isMounted) {\r\n      this.setState(prevState => {\r\n        const updatedOrders = [...prevState.sortedOrders];\r\n        updatedOrders.push(order);\r\n        return {\r\n          sortedOrders: updatedOrders\r\n        };\r\n      });\r\n    }\r\n  }\r\n\r\n  editOrderOnDOM = (order) => {\r\n    if (this._isMounted) {\r\n      let ordersInState = [...this.state.sortedOrders];\r\n      for (let i = 0; i < ordersInState.length; i++) {\r\n        if (ordersInState[i]._id.toString() === order._id.toString()) {\r\n          ordersInState[i].disinfectorId = order.disinfectorId;\r\n          ordersInState[i].userCreated = order.userCreated;\r\n          ordersInState[i].userAcceptedOrder = order.userAcceptedOrder;\r\n          ordersInState[i].clientType = order.clientType;\r\n          ordersInState[i].client = order.client;\r\n          ordersInState[i].clientId = order.clientId;\r\n          ordersInState[i].address = order.address;\r\n          ordersInState[i].dateFrom = order.dateFrom;\r\n          ordersInState[i].phone = order.phone;\r\n          ordersInState[i].typeOfService = order.typeOfService;\r\n          ordersInState[i].advertising = order.advertising;\r\n          ordersInState[i].comment = order.comment;\r\n        }\r\n      }\r\n      this.setState({\r\n        sortedOrders: ordersInState\r\n      });\r\n    }\r\n  }\r\n\r\n  removeOrderFromDOM = (id) => {\r\n    if (this._isMounted) {\r\n      let ordersInState = [...this.state.sortedOrders];\r\n      ordersInState = ordersInState.filter(item => item._id.toString() !== id);\r\n      this.setState({\r\n        sortedOrders: ordersInState\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  onClick = (hour, date) => {\r\n    let defaultDateMonth, defaultDateDay, defaultHourString;\r\n    if (new Date(date).getMonth() < 9) {\r\n      defaultDateMonth = `0${new Date(date).getMonth() + 1}`;\r\n    } else {\r\n      defaultDateMonth = `${new Date(date).getMonth() + 1}`;\r\n    }\r\n\r\n    if (new Date(date).getDate() < 10) {\r\n      defaultDateDay = `0${new Date(date).getDate()}`;\r\n    } else {\r\n      defaultDateDay = new Date(date).getDate();\r\n    }\r\n    const defaultDateString = `${new Date(date).getFullYear()}-${defaultDateMonth}-${defaultDateDay}`;\r\n\r\n    if (hour < 10) {\r\n      defaultHourString = `0${hour}:00`;\r\n    } else {\r\n      defaultHourString = `${hour}:00`;\r\n    }\r\n\r\n    this.props.history.push('/create-order', {\r\n      pathname: '/create-order',\r\n      state: { hour: defaultHourString, date: defaultDateString }\r\n    });\r\n  };\r\n\r\n  deleteOrder = (id, clientType, clientPhone, clientId, orderDateFrom) => {\r\n    const object = {\r\n      id: id,\r\n      clientType: clientType,\r\n      clientPhone: clientPhone,\r\n      clientId: clientId,\r\n      orderDateFrom: orderDateFrom,\r\n    };\r\n    this.props.deleteOrder(object, this.props.history, this.props.auth.user.occupation);\r\n    // this.props.getSortedOrders(this.state.date);\r\n    window.location.reload();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  }\r\n\r\n  render() {\r\n    let array = [];\r\n    for (let i = 0; i <= 23; i++) {\r\n      array.push({ hour: i, elements: [] });\r\n    }\r\n\r\n    this.state.sortedOrders.forEach(order => {\r\n      array[new Date(order.dateFrom).getHours()].elements.push(order);\r\n    });\r\n\r\n    let renderOrders, colnumber = 6;\r\n\r\n    let everythingToRender = array.map((object, index) => {\r\n      // if (object.elements.length === 1 || object.elements.length === 2) colnumber = 6;\r\n      // if (object.elements.length > 2) colnumber = 4;\r\n      renderOrders = object.elements.map((element, i) =>\r\n        <div className={`col-md-${colnumber} pr-0`} key={i}>\r\n          <div className={`card mt-2 mr-2 order order-bg-${element.disinfectorId.color}`}>\r\n            <div className=\"card-body p-0\">\r\n              <ul className=\"font-bold mb-0 list-unstyled\">\r\n                {element.prevFailedOrder && <h3><i className=\"fas fas fa-exclamation\"></i> Повторный заказ <i className=\"fas fas fa-exclamation\"></i></h3>}\r\n\r\n                {element.failed && <h3><i className=\"fas fas fa-exclamation\"></i> Некачественный заказ <i className=\"fas fas fa-exclamation\"></i></h3>}\r\n\r\n                {element.clientType === 'corporate' ? (\r\n                  <React.Fragment>\r\n                    {element.clientId ? (<li>Корпоративный клиент: {element.clientId.name}</li>) : <li>Корпоративный клиент </li>}\r\n                  </React.Fragment>\r\n                ) : ''}\r\n\r\n                {element.clientType === 'individual' ? (\r\n                  <li>Физический Клиент: {element.client}</li>\r\n                ) : ''}\r\n                <li>Тел клиента: {element.phone}</li>\r\n                <li>Адрес: {element.address}</li>\r\n                <li>Тип Заказа: {element.typeOfService}</li>\r\n              </ul>\r\n\r\n              {/* если заказ полностью закрыт */}\r\n              {orderFullyProcessed(element) ? (\r\n                <React.Fragment>\r\n                  <Link\r\n                    to={`/order-full-details/${element._id}`}\r\n                    className=\"btn btn-primary mr-1 mt-2\"\r\n                  >\r\n                    <i className=\"fas fa-info\"></i> Подробнее\r\n                  </Link>\r\n                </React.Fragment>\r\n              ) : (\r\n                <React.Fragment>\r\n                  <Link\r\n                    to={`/order-details/${element._id}`}\r\n                    className=\"btn btn-primary mr-1 mt-2\"\r\n                  >\r\n                    <i className=\"fas fa-info\"></i> Подробнее\r\n                  </Link>\r\n\r\n                  <Link\r\n                    to={`/edit-order/${element._id}`}\r\n                    className=\"btn btn-warning mr-1 mt-2\"\r\n                  >\r\n                    <i className=\"fas fa-edit\"></i> Редактировать\r\n                  </Link>\r\n\r\n                  {this.props.date > new Date().setHours(0, 0, 0, 0) ? (\r\n                    <button className=\"btn btn-danger mt-2\" onClick={() => {\r\n                      if (window.confirm('Вы уверены?')) {\r\n                        if (element.clientType === 'corporate') {\r\n                          this.deleteOrder(element._id, element.clientType, element.phone, element.clientId._id, element.dateFrom);\r\n                        } else if (element.clientType === 'individual') {\r\n                          this.deleteOrder(element._id, element.clientType, element.phone, '', element.dateFrom);\r\n                        }\r\n                      }\r\n                    }}><i className=\"fas fa-trash-alt\"></i> Удалить</button>\r\n                  ) : ''}\r\n                </React.Fragment>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n\r\n      return (\r\n        <div className=\"hours\" key={index}>\r\n          <div className=\"help row mt-3\" id={`hour-${object.hour}`}>\r\n            <button\r\n              to=\"/create-order\"\r\n              className=\"btn btn-success mr-3\"\r\n              onClick={this.onClick.bind(this, object.hour, this.props.subadmin.date)}\r\n            >\r\n              <i className=\"fas fa-plus\"></i>\r\n            </button>\r\n\r\n            <h1 className=\"d-inline mb-0\">{`${object.hour}:00`}</h1>\r\n          </div>\r\n          <div className=\"row\">\r\n            {renderOrders.length > 0 ? (renderOrders) : ''}\r\n          </div>\r\n        </div>\r\n      )\r\n    });\r\n\r\n    return (\r\n      everythingToRender\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  admin: state.admin,\r\n  subadmin: state.subadmin,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getSortedOrders, deleteOrder })(withRouter(SubadmSortedOrders));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Calendar from 'react-calendar';\r\nimport Moment from 'react-moment';\r\nimport Spinner from '../common/Spinner';\r\nimport { Swipeable } from 'react-swipeable';\r\n\r\nimport { getSortedOrders } from '../../actions/subadminActions';\r\n\r\nimport SubadmSortedOrders from './SubadmSortedOrders';\r\n\r\nclass Subadmin extends Component {\r\n  state = {\r\n    date: new Date()\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.getSortedOrders(this.state.date);\r\n  };\r\n\r\n  onChange = (date) => {\r\n    // do not send another request if orders are already being loaded\r\n    if (!this.props.subadmin.loadingSortedOrders) {\r\n      this.setState({\r\n        date: date\r\n      });\r\n      this.props.getSortedOrders(date);\r\n    }\r\n  };\r\n\r\n  onSwiped = (direction) => {\r\n    let newDate = new Date(this.state.date);\r\n\r\n    if (direction === 'LEFT') {\r\n      // add 1 day to state date\r\n      newDate.setTime(newDate.getTime() + 1000 * 60 * 60 * 24);\r\n\r\n      this.setState({\r\n        date: newDate\r\n      });\r\n    } else if (direction === 'RIGHT') {\r\n      // decrement 1 day from state date\r\n      newDate.setTime(newDate.getTime() - 1000 * 60 * 60 * 24);\r\n\r\n      this.setState({\r\n        date: newDate\r\n      });\r\n    }\r\n\r\n    this.props.getSortedOrders(this.state.date);\r\n  };\r\n\r\n  today = () => {\r\n    let newDate = new Date();\r\n\r\n    // do not send another request if orders are already being loaded\r\n    if (!this.props.subadmin.loadingSortedOrders) {\r\n      this.setState({\r\n        date: newDate\r\n      });\r\n      this.props.getSortedOrders(newDate);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { loadingSortedOrders } = this.props.subadmin;\r\n\r\n    return (\r\n      <div className=\"container-fluid mt-1\">\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <h2 className=\"text-center\">Страница Субадмина {this.props.auth.user.name}</h2>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-3 mt-4 calendar\">\r\n            <div className=\"sticky-top\">\r\n              <Calendar\r\n                onChange={this.onChange}\r\n                value={this.state.date}\r\n              />\r\n\r\n              <button\r\n                className=\"btn btn-dark mt-3\"\r\n                onClick={() => this.today()}\r\n              >\r\n                <i className=\"fas fa-calendar-day\"></i> Показать Сегодня\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-lg-9\">\r\n            <h2 className=\"text-center\">Заявки на <Moment format=\"DD/MM/YYYY\">{this.state.date}</Moment></h2>\r\n\r\n            {loadingSortedOrders ? <Spinner /> : (\r\n              <Swipeable\r\n                trackMouse\r\n                preventDefaultTouchmoveEvent\r\n                onSwipedLeft={() => this.onSwiped('LEFT')}\r\n                onSwipedRight={() => this.onSwiped('RIGHT')}\r\n                delta={120}\r\n              >\r\n                <SubadmSortedOrders date={this.state.date} />\r\n              </Swipeable>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  admin: state.admin,\r\n  subadmin: state.subadmin,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getSortedOrders })(withRouter(Subadmin));","import axios from 'axios';\r\nimport {\r\n  GET_ERRORS,\r\n  GET_ALL_DISINFECTORS,\r\n  GET_DISINFECTOR_MATERIALS,\r\n  GET_DISINF_MONTH_STATS,\r\n  GET_DISINF_WEEK_STATS,\r\n  GET_DISINF_DAY_STATS,\r\n  GET_ADD_MATERIAL_EVENTS,\r\n  DISINF_MAT_COMINGS,\r\n  DISINF_MAT_DISTRIBS,\r\n  GET_RETURNED_QUERIES,\r\n  LOADING_DISINF_STATS,\r\n  SET_LOADING_DISINFECTORS,\r\n  LOADING_CURRENT_DISINFECTOR,\r\n  LOADING_ADD_MATERIAL_EVENTS\r\n} from './types';\r\n\r\n\r\n// disinfector sees his own stats\r\nexport const getDisinfectorStats = (object) => (dispatch) => {\r\n  dispatch(loadingDisinfStats());\r\n\r\n  axios.post('/stats/disinfector-sees-his-own-stats', { object })\r\n    .then(res => {\r\n      if (object.type === 'month') {\r\n        return dispatch({\r\n          type: GET_DISINF_MONTH_STATS,\r\n          payload: res.data\r\n        });\r\n\r\n      } else if (object.type === 'week') {\r\n        return dispatch({\r\n          type: GET_DISINF_WEEK_STATS,\r\n          payload: res.data\r\n        });\r\n\r\n      } else if (object.type === 'day') {\r\n        return dispatch({\r\n          type: GET_DISINF_DAY_STATS,\r\n          payload: res.data\r\n        });\r\n      }\r\n    })\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\nexport const getAllDisinfectorsAndSubadmins = () => (dispatch) => {\r\n  dispatch(loadingDisinfectors());\r\n\r\n  const object = {\r\n    method: 'role',\r\n    roles: ['disinfector', 'subadmin']\r\n  };\r\n\r\n  // axios.get('/order/get-all-disinfectors')\r\n  axios.post('/get-users', { object })\r\n    .then(res =>\r\n      dispatch({\r\n        type: GET_ALL_DISINFECTORS,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\nexport const getDisinfectorMaterials = (id) => (dispatch) => {\r\n  dispatch(loadingCurrentDisinfector());\r\n  axios.post('/auth/get-disinfector-materials', { id: id })\r\n    .then(res =>\r\n      dispatch({\r\n        type: GET_DISINFECTOR_MATERIALS,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\nexport const getAddedMaterialEvents = (id) => (dispatch) => {\r\n  dispatch(loadingAddMaterialEvents());\r\n  axios.post('/order/get-add-material-events', { id: id })\r\n    .then(res =>\r\n      dispatch({\r\n        type: GET_ADD_MATERIAL_EVENTS,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\n// disinfector adds material to other user/disinfector\r\nexport const disAddMatToOther = (object, occupation, history) => (dispatch) => {\r\n  axios.post('/order/dis-add-mat-to-other-user', { object: object })\r\n    .then(() => history.push(`/${occupation}`))\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\nexport const getUserMatComing = (object) => (dispatch) => {\r\n  dispatch(loadingDisinfStats());\r\n  axios.post('/stats/get-user-mat-coming', { object: object })\r\n    .then(res =>\r\n      dispatch({\r\n        type: DISINF_MAT_COMINGS,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\nexport const getUserMatDistrib = (object) => (dispatch) => {\r\n  dispatch(loadingDisinfStats());\r\n  axios.post('/stats/get-user-mat-distrib', { object: object })\r\n    .then(res =>\r\n      dispatch({\r\n        type: DISINF_MAT_DISTRIBS,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\nexport const getReturnedQueries = (id) => (dispatch) => {\r\n  axios.post('/order/get-returned-queries', { id: id })\r\n    .then(res =>\r\n      dispatch({\r\n        type: GET_RETURNED_QUERIES,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\n\r\nexport const loadingDisinfStats = () => {\r\n  return {\r\n    type: LOADING_DISINF_STATS\r\n  };\r\n}\r\n\r\nexport const loadingDisinfectors = () => {\r\n  return {\r\n    type: SET_LOADING_DISINFECTORS\r\n  };\r\n}\r\n\r\nexport const loadingCurrentDisinfector = () => {\r\n  return {\r\n    type: LOADING_CURRENT_DISINFECTOR\r\n  };\r\n}\r\n\r\n\r\nexport const loadingAddMaterialEvents = () => {\r\n  return {\r\n    type: LOADING_ADD_MATERIAL_EVENTS\r\n  };\r\n}","import React, { Component } from 'react';\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Moment from 'react-moment';\r\n\r\nimport TextAreaFieldGroup from '../common/TextAreaFieldGroup';\r\n\r\nimport { getOrders, addDisinfectorComment } from '../../actions/orderActions';\r\n\r\nclass ShowOrderInfo extends Component {\r\n  state = {\r\n    addComment: false,\r\n    disinfectorComment: this.props.orderObject.disinfectorComment,\r\n    errors: {}\r\n  };\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  toggleAddComment = (e) => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      addComment: !this.state.addComment\r\n    });\r\n  };\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n    const object = {\r\n      id: this.props.orderObject._id,\r\n      comment: this.state.disinfectorComment\r\n    };\r\n    this.props.addDisinfectorComment(object, this.props.history, this.props.auth.user.occupation);\r\n    this.setState({\r\n      addComment: !this.state.addComment\r\n    })\r\n  };\r\n\r\n  render() {\r\n    const { orderObject } = this.props;\r\n    const { errors } = this.state;\r\n\r\n    let currentTime = new Date();\r\n\r\n    return (\r\n      <div className=\"col-lg-4 col-md-6 mt-3\">\r\n        <div className=\"card order\">\r\n          <div className=\"card-body p-0\">\r\n            <ul className=\"font-bold list-unstyled\">\r\n              {/* <li>Дезинфектор: {orderObject.disinfectorId.name}</li> */}\r\n              {orderObject.clientType === 'corporate' ?\r\n                <React.Fragment>\r\n                  {orderObject.clientId ? (\r\n                    <li className=\"text-danger\">Корпоративный Клиент: {orderObject.clientId.name}</li>\r\n                  ) : <li className=\"text-danger\">Корпоративный Клиент</li>}\r\n                  <li className=\"text-danger\">Имя клиента: {orderObject.client}</li>\r\n                </React.Fragment>\r\n                : ''}\r\n\r\n              {orderObject.clientType === 'individual' ?\r\n                <li className=\"text-danger\">Физический Клиент: {orderObject.client}</li> : ''\r\n              }\r\n\r\n              <li className=\"text-danger\">Тел. номер клиента: {orderObject.phone}</li>\r\n              {orderObject.phone2 !== '' ? (<li>Запасной номер: {orderObject.phone2}</li>) : ''}\r\n              <li className=\"text-danger\">Дата и Время выполнения: <Moment format=\"DD/MM/YYYY HH:mm\">{orderObject.dateFrom}</Moment></li>\r\n              <li className=\"text-danger\">Адрес: {orderObject.address}</li>\r\n              <li className=\"text-danger\">Тип услуги: {orderObject.typeOfService}</li>\r\n              <li>Комментарии Оператора: {orderObject.comment ? orderObject.comment : '--'}</li>\r\n              <li>Комментарии Дезинфектора: {this.state.disinfectorComment ? this.state.disinfectorComment : '--'}</li>\r\n\r\n              {orderObject.userAcceptedOrder ? (\r\n                <li>Кто принял заказ: {orderObject.userAcceptedOrder.occupation} {orderObject.userAcceptedOrder.name}</li>\r\n              ) : ''}\r\n\r\n              {orderObject.userCreated ? (\r\n                <li>Заказ Добавлен: {orderObject.userCreated.occupation} {orderObject.userCreated.name} <Moment format=\"DD/MM/YYYY HH:mm\">{orderObject.createdAt}</Moment></li>\r\n              ) : ''}\r\n\r\n            </ul>\r\n\r\n            {this.state.addComment ? (\r\n              <form onSubmit={this.onSubmit}>\r\n                <TextAreaFieldGroup\r\n                  name=\"disinfectorComment\"\r\n                  placeholder=\"Ваш комментарий\"\r\n                  value={this.state.disinfectorComment}\r\n                  onChange={this.onChange}\r\n                  error={errors.disinfectorComment}\r\n                />\r\n                <div className=\"btn-group\">\r\n                  <button type=\"submit\" className=\"btn btn-success mr-3\"><i className=\"fas fa-plus-circle\"></i> Добавить</button>\r\n                  <button type=\"button\" className=\"btn btn-warning\" onClick={this.toggleAddComment}><i className=\"fas fa-window-close\"></i> Закрыть</button>\r\n                </div>\r\n              </form>\r\n            ) : (\r\n              <button type=\"button\" className=\"btn btn-success d-block\" onClick={this.toggleAddComment}><i className=\"fas fa-comment-dots\"></i> Добавить Комментарий</button>\r\n            )}\r\n\r\n            {currentTime.getTime() > new Date(orderObject.dateFrom).getTime() ? (\r\n              <Link\r\n                // to={`/subadmin/order-complete-form/${orderObject._id}`}\r\n                to={`/order-complete-form/${orderObject._id}`}\r\n                className=\"btn btn-primary mt-3\"\r\n              >\r\n                <i className=\"fab fa-wpforms\"></i> Форма О Выполнении\r\n              </Link>\r\n            ) : ''}\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth,\r\n  order: state.order,\r\n  subadmin: state.subadmin,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getOrders, addDisinfectorComment })(withRouter(ShowOrderInfo));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from '../common/Spinner';\r\n\r\nimport removeZeros from '../../utils/removeZerosMat';\r\nimport { getSubadmOrders } from '../../actions/subadminActions';\r\nimport { getDisinfectorMaterials } from '../../actions/disinfectorActions';\r\n\r\nimport ShowOrderInfo from './ShowOrderInfo';\r\n\r\nclass SubadmOrders extends Component {\r\n  state = {\r\n    orders: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.getDisinfectorMaterials(this.props.auth.user.id);\r\n    this.props.getSubadmOrders(this.props.auth.user.id);\r\n  };\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.subadmin.myOrders) {\r\n      this.setState({\r\n        orders: nextProps.subadmin.myOrders\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const orders = this.state.orders.sort((a, b) => new Date(a.dateFrom) - new Date(b.dateFrom));\r\n\r\n    let displayOrder = orders.map((item, index) =>\r\n      <ShowOrderInfo orderObject={item} index={index} key={index} />\r\n    );\r\n\r\n    let currentMaterials = removeZeros(this.props.auth.user.materials).map((item, index) =>\r\n      <li key={index}>{item.material}: {item.amount.toLocaleString()} {item.unit}</li>\r\n    );\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-12 mt-2\">\r\n              <h2 className=\"text-center\">Страница Субaдмина {this.props.auth.user.name}</h2>\r\n            </div>\r\n          </div>\r\n\r\n          {this.props.auth.loadingUser ? <Spinner /> : (\r\n            <div className=\"row\">\r\n              <div className=\"col-12\">\r\n                <h3 className=\"text-center\">Ваши имеющиеся материалы</h3>\r\n              </div>\r\n\r\n              <div className=\"col-md-6 mx-auto mt-3\">\r\n                <div className=\"card order\">\r\n                  <div className=\"card-body p-0\">\r\n                    <ul className=\"font-bold mb-0 list-unstyled\">\r\n                      {currentMaterials}\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"container-fluid\">\r\n          {this.props.subadmin.loading ? <Spinner /> : (\r\n            <div className=\"row\">\r\n              <div className=\"col-12\">\r\n                <h2 className=\"text-center mt-3\">Ваши Заказы</h2>\r\n              </div>\r\n              {displayOrder}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  order: state.order,\r\n  subadmin: state.subadmin,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getSubadmOrders, getDisinfectorMaterials })(withRouter(SubadmOrders));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from '../common/Spinner';\r\n\r\nimport materials from '../common/materials';\r\nimport removeZeros from '../../utils/removeZerosMat';\r\n\r\nimport { getSubadminMaterials, addMaterialToDisinfector } from '../../actions/subadminActions';\r\nimport { getAllDisinfectorsAndSubadmins } from '../../actions/adminActions';\r\n\r\nclass MaterialDistrib extends Component {\r\n  state = {\r\n    array: [{}],\r\n    currentMaterials: [],\r\n    materials: [\r\n      {\r\n        material: '',\r\n        amount: 0,\r\n        unit: ''\r\n      }\r\n    ],\r\n    disinfector: ''\r\n  };\r\n\r\n  componentDidMount() {\r\n    // this.props.getAllDisinfectors();\r\n    this.props.getAllDisinfectorsAndSubadmins();\r\n    this.props.getSubadminMaterials(this.props.auth.user.id);\r\n    window.scrollTo({ top: 0 });\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    this.setState({\r\n      currentMaterials: nextProps.auth.user.materials\r\n    });\r\n  }\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  changeSelect = (e) => {\r\n    const index = e.target.name.split('-')[1];\r\n    let newMaterialsArray = this.state.materials;\r\n    newMaterialsArray[index].material = e.target.value.split('+')[0];\r\n    newMaterialsArray[index].unit = e.target.value.split('+')[1];\r\n    this.setState({\r\n      materials: newMaterialsArray\r\n    });\r\n  }\r\n\r\n  changeAmount = (e) => {\r\n    const index = e.target.name.split('-')[1];\r\n    let newMaterialsArray = this.state.materials;\r\n    newMaterialsArray[index].amount = Number(e.target.value);\r\n    this.setState({\r\n      materials: newMaterialsArray\r\n    });\r\n  }\r\n\r\n  addMaterial = (e) => {\r\n    e.preventDefault();\r\n    let newArray = this.state.array;\r\n    newArray.push({});\r\n    let newMaterialsArray = this.state.materials;\r\n    newMaterialsArray.push({\r\n      material: '',\r\n      amount: 0,\r\n      unit: ''\r\n    });\r\n    this.setState({\r\n      array: newArray,\r\n      materials: newMaterialsArray\r\n    });\r\n  }\r\n\r\n  deleteMaterial = (e) => {\r\n    e.preventDefault();\r\n    let newArray = this.state.array;\r\n    newArray.pop();\r\n    let newMaterialsArray = this.state.materials;\r\n    newMaterialsArray.pop();\r\n    this.setState({\r\n      array: newArray,\r\n      materials: newMaterialsArray\r\n    });\r\n  }\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n    let emptyFields = 0, notEnoughMaterials = 0, zeroValues = 0;\r\n    this.state.materials.forEach(item => {\r\n      if (item.material === '') {\r\n        emptyFields++;\r\n      }\r\n      if (item.amount <= 0) {\r\n        zeroValues++;\r\n      }\r\n      this.state.currentMaterials.forEach(element => {\r\n        if (item.material === element.material && item.unit === element.unit && item.amount > element.amount) {\r\n          notEnoughMaterials++;\r\n          return;\r\n        }\r\n      });\r\n\r\n    });\r\n    if (emptyFields > 0) {\r\n      alert('Заполните Поле \"Выберите Материал и Количество\"');\r\n    } else if (zeroValues > 0) {\r\n      alert('Количество Материала не может быть нулем или отрицательнам числом');\r\n    } else if (notEnoughMaterials > 0) {\r\n      alert('У вас недостаточно материалов');\r\n    } else {\r\n      const object = {\r\n        disinfector: this.state.disinfector,\r\n        subadmin: this.props.auth.user.id,\r\n        materials: this.state.materials\r\n      };\r\n      this.props.addMaterialToDisinfector(object, this.props.history);\r\n      this.props.getAllDisinfectorsAndSubadmins();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    // current materials without zeros\r\n    const currentMaterials = removeZeros([...this.state.currentMaterials]);\r\n\r\n    let renderSubadminMaterials = currentMaterials.map((item, index) =>\r\n      <li key={index}>{item.material}: {item.amount} {item.unit}</li>\r\n    );\r\n\r\n    let showDisinfectors = this.props.subadmin.disinfectors.map((item, index) => {\r\n      let matArray = removeZeros([...item.materials]);\r\n\r\n      let disinfectorMaterials = matArray.map((material, number) =>\r\n        <li key={number}>{material.material}: {material.amount} {material.unit}</li>\r\n      );\r\n\r\n      return (\r\n        <div className=\"col-lg-4 col-md-6\" key={index}>\r\n          <div className=\"card order mt-2\">\r\n            <div className=\"card-body p-0\">\r\n              <ul className=\"font-bold mb-0 list-unstyled\">\r\n                <h4 className=\"text-center\">{item.occupation}: {item.name}</h4>\r\n                <p className=\"mb-0\">Имеется в наличии материалов:</p>\r\n                <ul>\r\n                  {disinfectorMaterials}\r\n                </ul>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )\r\n    });\r\n\r\n    let consumptionMaterials = [\r\n      { label: '-- Выберите вещество --', value: \"\", unit: \"\" }\r\n    ];\r\n\r\n    materials.forEach(item => {\r\n      consumptionMaterials.push({\r\n        label: item.material,\r\n        value: item.material,\r\n        unit: item.unit\r\n      })\r\n    });\r\n\r\n    const materialOptions = consumptionMaterials.map((option, index) =>\r\n      <option value={`${option.value}+${option.unit}`} key={index}>{option.label} {option.unit}</option>\r\n    );\r\n\r\n    let renderMaterials = this.state.array.map((item, index) =>\r\n      <React.Fragment key={index}>\r\n        <div className=\"form-group\">\r\n          <select name={`consumption-${index}`} className=\"form-control\" onChange={this.changeSelect} required>\r\n            {materialOptions}\r\n          </select>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor={`quantity-${index}`}>Количество:</label>\r\n          <input\r\n            type=\"number\"\r\n            step=\"0.001\"\r\n            className=\"form-control\"\r\n            name={`quantity-${index}`}\r\n            onChange={this.changeAmount}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"border-bottom-red\"></div>\r\n      </React.Fragment>\r\n    );\r\n\r\n    let disinfectorOptions = [\r\n      { label: '-- Выберите пользователя --', value: \"\" }\r\n    ];\r\n\r\n    this.props.subadmin.disinfectors.forEach(worker => {\r\n      if (worker._id !== this.props.auth.user.id) {\r\n        disinfectorOptions.push({\r\n          label: `${worker.occupation} ${worker.name}`, value: worker._id\r\n        });\r\n      }\r\n    });\r\n\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row mt-3\">\r\n          <div className=\"col-lg-6 col-md-8 mx-auto\">\r\n            <div className=\"card order mt-2\">\r\n              <div className=\"card-body p-0\">\r\n                <h3 className=\"text-center\">У вас имеется материалов</h3>\r\n                <ul className=\"font-bold mb-0 list-unstyled\">\r\n                  {renderSubadminMaterials}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row mt-3\">\r\n          <div className=\"col-12\">\r\n            <h3 className=\"text-center\">Материалы у пользователей</h3>\r\n          </div>\r\n        </div>\r\n\r\n        {this.props.subadmin.loading ? <Spinner /> :\r\n          <div className=\"row mt-2\">\r\n            {showDisinfectors}\r\n          </div>\r\n        }\r\n\r\n        <div className=\"row mt-3\">\r\n          <div className=\"col-lg-6 col-md-8 mx-auto\">\r\n            <div className=\"card mt-2\">\r\n              <div className=\"card-body\">\r\n                <h2 className=\"text-center\">Добавить Материалы Пользователю</h2>\r\n                <form onSubmit={this.onSubmit}>\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"disinfector\">Выберите Пользователя:</label>\r\n                    {this.props.subadmin.loading ? (\r\n                      <p>Дезинфекторы загружаются...</p>\r\n                    ) : (\r\n                      <select value={this.state.disinfector} name=\"disinfector\" className=\"form-control\" onChange={this.onChange} required>\r\n                        {disinfectorOptions.map((item, index) =>\r\n                          <option value={item.value} key={index}>{item.label}</option>\r\n                        )}\r\n                      </select>\r\n                    )}\r\n                  </div>\r\n\r\n                  <label htmlFor=\"consumption\">Выберите Материал и Количество:</label>\r\n                  {renderMaterials}\r\n\r\n                  {this.state.array.length < materials.length ? <button className=\"btn btn-primary mr-2\" onClick={this.addMaterial}><i className=\"fas fa-plus\"></i> Добавить Материал</button> : ''}\r\n\r\n                  {this.state.array.length === 1 ? '' : <button className=\"btn btn-danger\" onClick={this.deleteMaterial}><i className=\"fas fa-trash-alt\"></i> Удалить последний материал</button>}\r\n\r\n                  <div className=\"border-bottom\"></div>\r\n\r\n                  <button type=\"submit\" className=\"btn btn-success\"><i className=\"fas fa-plus-circle\"></i> Добавить Пользователю</button>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  subadmin: state.subadmin,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getAllDisinfectorsAndSubadmins, getSubadminMaterials, addMaterialToDisinfector })(withRouter(MaterialDistrib));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Moment from 'react-moment';\r\n\r\nimport materials from '../common/materials';\r\nimport removeZeros from '../../utils/removeZerosMat';\r\n\r\nclass ShowMatComings extends Component {\r\n  state = {\r\n    comings: this.props.subadmin.materialComing\r\n  };\r\n\r\n  render() {\r\n    const { comings } = this.state;\r\n\r\n    let totalMatComing = [];\r\n\r\n    materials.forEach(item => {\r\n      totalMatComing.push({\r\n        material: item.material,\r\n        amount: 0,\r\n        unit: item.unit\r\n      });\r\n    });\r\n\r\n    comings.forEach(thing => {\r\n      thing.materials.forEach(item => {\r\n        totalMatComing.forEach(element => {\r\n          if (item.material === element.material && item.unit === element.unit) {\r\n            element.amount += item.amount;\r\n          }\r\n        });\r\n      });\r\n    });\r\n\r\n    // remove materials with amount of 0\r\n    totalMatComing = removeZeros(totalMatComing);\r\n\r\n    let renderTotal = totalMatComing.map((item, index) =>\r\n      <li key={index}>{item.material}: {item.amount.toLocaleString()} {item.unit}</li>\r\n    );\r\n\r\n    let renderComings = comings.map((item, index) => {\r\n      let renderMaterials = item.materials.map((element, number) =>\r\n        <li key={number}>{element.material}: {element.amount.toLocaleString()} {element.unit}</li>\r\n      );\r\n\r\n      return (\r\n        <div className=\"col-lg-4 col-md-6\" key={index}>\r\n          <div className=\"card order mt-2\">\r\n            <div className=\"card-body p-0\">\r\n              <ul className=\"font-bold mb-0 list-unstyled\">\r\n                <li>Админ: {item.admin.name}</li>\r\n                <li>Дата: <Moment format=\"DD/MM/YYYY HH:mm\">{item.createdAt}</Moment></li>\r\n                <li>Материалы:</li>\r\n                <ul>\r\n                  {renderMaterials}\r\n                </ul>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <React.Fragment>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-5 col-md-7 m-auto\">\r\n            <div className=\"card order mt-2\">\r\n              <div className=\"card-body p-0\">\r\n                <h4 className=\"text-center\">Ваш Общий Приход Материалов за этот период:</h4>\r\n                <ul className=\"font-bold mb-0 list-unstyled\">\r\n                  {renderTotal}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row mt-3\">\r\n          {renderComings}\r\n        </div>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  subadmin: state.subadmin,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps)(withRouter(ShowMatComings));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from '../common/Spinner';\r\nimport Moment from 'react-moment';\r\n\r\nimport { getMatComHistory, getAllDisinfectors } from '../../actions/subadminActions';\r\nimport monthsNames from '../common/monthNames';\r\nimport getMonthAndYearLabels from '../../utils/monthAndYearLabels';\r\nimport returnMonthAndYear from '../../utils/returnMonthAndYear';\r\n\r\nimport ShowMatComings from './ShowMatComings';\r\n\r\nimport { getWeekDays, getWeekRange } from '../common/weekFunc';\r\nimport DayPicker from 'react-day-picker';\r\nimport 'react-day-picker/lib/style.css';\r\n\r\n\r\nclass SubMatComHist extends Component {\r\n  state = {\r\n    month: '',\r\n    year: '',\r\n\r\n    // // to display month and year in heading h2\r\n    headingMonth: '',\r\n    headingYear: '',\r\n\r\n    hoverRange: undefined,\r\n    selectedDays: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    const object = {\r\n      subadmin: this.props.auth.user.id,\r\n      type: 'month',\r\n      month: new Date().getMonth(),\r\n      year: new Date().getFullYear()\r\n    };\r\n    this.props.getMatComHistory(object);\r\n    this.props.getAllDisinfectors();\r\n    this.setState({\r\n      headingMonth: object.month,\r\n      headingYear: object.year\r\n    });\r\n  }\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  getMonthStats = (e) => {\r\n    e.preventDefault();\r\n    const object = {\r\n      subadmin: this.props.auth.user.id,\r\n      type: 'month',\r\n      month: Number(this.state.month),\r\n      year: Number(this.state.year)\r\n    };\r\n    this.props.getMatComHistory(object);\r\n    this.setState({\r\n      headingMonth: object.month,\r\n      headingYear: object.year\r\n    });\r\n  }\r\n\r\n  getSpecificMonthStats = (param) => {\r\n    const { month, year } = returnMonthAndYear(param);\r\n\r\n    const object = {\r\n      subadmin: this.props.auth.user.id,\r\n      type: 'month', month, year\r\n    };\r\n\r\n    this.props.getMatComHistory(object);\r\n\r\n    this.setState({\r\n      headingMonth: month,\r\n      headingYear: year\r\n    });\r\n  };\r\n\r\n\r\n  // weekly calendar\r\n  handleDayChange = date => {\r\n    const object = {\r\n      type: 'week',\r\n      subadmin: this.props.auth.user.id,\r\n      days: getWeekDays(getWeekRange(date).from)\r\n    };\r\n    this.props.getMatComHistory(object);\r\n\r\n    this.setState({\r\n      selectedDays: getWeekDays(getWeekRange(date).from)\r\n    });\r\n  };\r\n\r\n  handleDayEnter = date => {\r\n    this.setState({\r\n      hoverRange: getWeekRange(date)\r\n    });\r\n  };\r\n\r\n  handleDayLeave = () => {\r\n    this.setState({\r\n      hoverRange: undefined\r\n    });\r\n  };\r\n\r\n  handleWeekClick = (weekNumber, days, e) => {\r\n    const object = {\r\n      type: 'week',\r\n      subadmin: this.props.auth.user.id,\r\n      days: getWeekDays(getWeekRange(days[0]).from)\r\n    };\r\n    this.props.getMatComHistory(object);\r\n\r\n    this.setState({\r\n      selectedDays: getWeekDays(getWeekRange(days[0]).from)\r\n    });\r\n  };\r\n  // end of weekly calendar\r\n\r\n\r\n\r\n  render() {\r\n    const { monthLabels, yearLabels } = getMonthAndYearLabels();\r\n\r\n    const yearsOptions = yearLabels.map((year, index) =>\r\n      <option value={year.value} key={index}>{year.label}</option>\r\n    );\r\n    const monthOptions = monthLabels.map((month, index) =>\r\n      <option value={month.value} key={index}>{month.label}</option>\r\n    );\r\n\r\n\r\n    // weekly calender\r\n    const { hoverRange, selectedDays } = this.state;\r\n\r\n    const daysAreSelected = selectedDays.length > 0;\r\n\r\n    const modifiers = {\r\n      hoverRange,\r\n      selectedRange: daysAreSelected && {\r\n        from: selectedDays[0],\r\n        to: selectedDays[6],\r\n      },\r\n      hoverRangeStart: hoverRange && hoverRange.from,\r\n      hoverRangeEnd: hoverRange && hoverRange.to,\r\n      selectedRangeStart: daysAreSelected && selectedDays[0],\r\n      selectedRangeEnd: daysAreSelected && selectedDays[6]\r\n    };\r\n    // end of calendar\r\n\r\n\r\n    return (\r\n      <div className=\"container-fluid\" >\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-4 col-md-6 mt-3\">\r\n            <form onSubmit={this.getMonthStats} className=\"form-bg p-2\">\r\n              <h4 className=\"text-center\">Ваши Приходы Материалов по месяцам</h4>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"year\"><strong>Выберите Год:</strong></label>\r\n                <select name=\"year\" className=\"form-control\" onChange={this.onChange} required>\r\n                  {yearsOptions}\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"month\"><strong>Выберите Месяц:</strong></label>\r\n                <select name=\"month\" className=\"form-control\" onChange={this.onChange} required>\r\n                  {monthOptions}\r\n                </select>\r\n              </div>\r\n              <button type=\"submit\" className=\"btn btn-success mr-1 mt-1\"><i className=\"fas fa-search\"></i> Искать</button>\r\n\r\n              <button type=\"button\" className=\"btn btn-danger mr-1 mt-1\" onClick={() => this.getSpecificMonthStats('current')}>Этот месяц</button>\r\n\r\n              <button type=\"button\" className=\"btn btn-primary mr-1 mt-1\" onClick={() => this.getSpecificMonthStats('previous')}>Прошлый месяц</button>\r\n            </form>\r\n          </div>\r\n\r\n          <div className=\"col-lg-4 col-md-6 ml-auto weekly-stats mt-3\">\r\n            <div className=\"SelectedWeekExample form-bg font-weight-bold\">\r\n              <h4 className=\"text-center\">Ваши Приходы Материалов по неделям</h4>\r\n              <DayPicker\r\n                selectedDays={selectedDays}\r\n                showWeekNumbers\r\n                showOutsideDays\r\n                modifiers={modifiers}\r\n                firstDayOfWeek={1}\r\n                onDayClick={this.handleDayChange}\r\n                onDayMouseEnter={this.handleDayEnter}\r\n                onDayMouseLeave={this.handleDayLeave}\r\n                onWeekClick={this.handleWeekClick}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row mt-2\">\r\n          <div className=\"col-12\">\r\n            {this.props.subadmin.method === 'week' ?\r\n              <h3 className=\"text-center pl-3 pr-3\">Ваш Недельный Приход Материалов за <Moment format=\"DD/MM/YYYY\">{this.state.selectedDays[0]}</Moment> - <Moment format=\"DD/MM/YYYY\">{this.state.selectedDays[6]}</Moment></h3> :\r\n\r\n              <h3 className=\"text-center pl-3 pr-3\">Ваш Месячный Приход Материалов за {monthsNames[this.state.headingMonth]}, {this.state.headingYear}</h3>\r\n            }\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            {this.props.subadmin.loadingStats ? <Spinner /> : <ShowMatComings />}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  subadmin: state.subadmin,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getMatComHistory, getAllDisinfectors })(withRouter(SubMatComHist));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Moment from 'react-moment';\r\n\r\nimport materials from '../common/materials';\r\nimport removeZeros from '../../utils/removeZerosMat';\r\n\r\nclass ShowMatDistrib extends Component {\r\n  state = {\r\n    events: this.props.subadmin.addMatEvents\r\n  };\r\n\r\n  render() {\r\n    const { events } = this.state;\r\n\r\n    let totalAddedMat = [];\r\n\r\n    materials.forEach(item => {\r\n      totalAddedMat.push({\r\n        material: item.material,\r\n        amount: 0,\r\n        unit: item.unit\r\n      });\r\n    });\r\n\r\n    events.forEach(thing => {\r\n      thing.materials.forEach(item => {\r\n        totalAddedMat.forEach(element => {\r\n          if (item.material === element.material && item.unit === element.unit) {\r\n            element.amount += item.amount;\r\n          }\r\n        });\r\n      });\r\n    });\r\n\r\n    // remove materials with amount of 0\r\n    totalAddedMat = removeZeros(totalAddedMat);\r\n\r\n    let renderTotal = totalAddedMat.map((item, index) =>\r\n      <li key={index}>{item.material}: {item.amount.toLocaleString()} {item.unit}</li>\r\n    );\r\n\r\n    let renderDistributions = events.map((item, index) => {\r\n      let renderMaterials = item.materials.map((element, number) =>\r\n        <li key={number}>{element.material}: {element.amount.toLocaleString()} {element.unit}</li>\r\n      );\r\n\r\n      return (\r\n        <div className=\"col-lg-4 col-md-6\" key={index}>\r\n          <div className=\"card order mt-2\">\r\n            <div className=\"card-body p-0\">\r\n              <ul className=\"font-bold mb-0 list-unstyled\">\r\n                <h4 className=\"text-center\">Дезинфектор {item.disinfector.name}</h4>\r\n                <li>Дата: <Moment format=\"DD/MM/YYYY HH:mm\">{item.createdAt}</Moment></li>\r\n                <li>Материалы:</li>\r\n                <ul>\r\n                  {renderMaterials}\r\n                </ul>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <React.Fragment>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-5 col-md-7 m-auto\">\r\n            <div className=\"card order mt-2\">\r\n              <div className=\"card-body p-0\">\r\n                <h4 className=\"text-center\">Ваша Общая Раздача Материалов за этот период:</h4>\r\n                <ul className=\"font-bold mb-0 list-unstyled\">\r\n                  {renderTotal}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row mt-3\">\r\n          {renderDistributions}\r\n        </div>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  subadmin: state.subadmin,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps)(withRouter(ShowMatDistrib));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from '../common/Spinner';\r\nimport Moment from 'react-moment';\r\n\r\nimport { getAllDisinfectors, getSubMatDistrib } from '../../actions/subadminActions';\r\nimport monthsNames from '../common/monthNames';\r\nimport getMonthAndYearLabels from '../../utils/monthAndYearLabels';\r\nimport returnMonthAndYear from '../../utils/returnMonthAndYear';\r\n\r\nimport ShowMatDistrib from './ShowMatDistrib';\r\n\r\nimport { getWeekDays, getWeekRange } from '../common/weekFunc';\r\nimport DayPicker from 'react-day-picker';\r\nimport 'react-day-picker/lib/style.css';\r\n\r\n\r\nclass MatDistribHistory extends Component {\r\n  state = {\r\n    month: '',\r\n    year: '',\r\n\r\n    // // to display month and year in heading h2\r\n    headingMonth: '',\r\n    headingYear: '',\r\n\r\n    hoverRange: undefined,\r\n    selectedDays: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    const object = {\r\n      subadmin: this.props.auth.user.id,\r\n      type: 'month',\r\n      month: new Date().getMonth(),\r\n      year: new Date().getFullYear()\r\n    };\r\n    this.props.getSubMatDistrib(object);\r\n    this.props.getAllDisinfectors();\r\n    this.setState({\r\n      headingMonth: object.month,\r\n      headingYear: object.year\r\n    });\r\n  }\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  getMonthStats = (e) => {\r\n    e.preventDefault();\r\n    const object = {\r\n      subadmin: this.props.auth.user.id,\r\n      type: 'month',\r\n      month: Number(this.state.month),\r\n      year: Number(this.state.year),\r\n    };\r\n    this.props.getSubMatDistrib(object);\r\n    this.setState({\r\n      headingMonth: this.state.month,\r\n      headingYear: this.state.year\r\n    });\r\n  }\r\n\r\n  getSpecificMonthStats = (param) => {\r\n    const { month, year } = returnMonthAndYear(param);\r\n\r\n    const object = {\r\n      subadmin: this.props.auth.user.id,\r\n      type: 'month', month, year\r\n    };\r\n\r\n    this.props.getSubMatDistrib(object);\r\n\r\n    this.setState({\r\n      headingMonth: month,\r\n      headingYear: year\r\n    });\r\n  };\r\n\r\n\r\n  // weekly calendar\r\n  handleDayChange = date => {\r\n    const object = {\r\n      type: 'week',\r\n      subadmin: this.props.auth.user.id,\r\n      days: getWeekDays(getWeekRange(date).from)\r\n    }\r\n    this.props.getSubMatDistrib(object);\r\n    this.setState({\r\n      selectedDays: getWeekDays(getWeekRange(date).from)\r\n    });\r\n  };\r\n\r\n  handleDayEnter = date => {\r\n    this.setState({\r\n      hoverRange: getWeekRange(date)\r\n    });\r\n  };\r\n\r\n  handleDayLeave = () => {\r\n    this.setState({\r\n      hoverRange: undefined\r\n    });\r\n  };\r\n\r\n  handleWeekClick = (weekNumber, days, e) => {\r\n    const object = {\r\n      type: 'week',\r\n      subadmin: this.props.auth.user.id,\r\n      days: getWeekDays(getWeekRange(days[0]).from)\r\n    }\r\n    this.props.getSubMatDistrib(object);\r\n\r\n    this.setState({\r\n      selectedDays: getWeekDays(getWeekRange(days[0]).from)\r\n    });\r\n  };\r\n  // end of weekly calendar\r\n\r\n\r\n  render() {\r\n    const { monthLabels, yearLabels } = getMonthAndYearLabels();\r\n\r\n    const yearsOptions = yearLabels.map((year, index) =>\r\n      <option value={year.value} key={index}>{year.label}</option>\r\n    );\r\n    const monthOptions = monthLabels.map((month, index) =>\r\n      <option value={month.value} key={index}>{month.label}</option>\r\n    );\r\n\r\n\r\n    // weekly calender\r\n    const { hoverRange, selectedDays } = this.state;\r\n\r\n    const daysAreSelected = selectedDays.length > 0;\r\n\r\n    const modifiers = {\r\n      hoverRange,\r\n      selectedRange: daysAreSelected && {\r\n        from: selectedDays[0],\r\n        to: selectedDays[6],\r\n      },\r\n      hoverRangeStart: hoverRange && hoverRange.from,\r\n      hoverRangeEnd: hoverRange && hoverRange.to,\r\n      selectedRangeStart: daysAreSelected && selectedDays[0],\r\n      selectedRangeEnd: daysAreSelected && selectedDays[6]\r\n    };\r\n    // end of calendar\r\n\r\n\r\n    return (\r\n      <div className=\"container-fluid\" >\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-4 col-md-6 mt-3\">\r\n            <form onSubmit={this.getMonthStats} className=\"form-bg p-2\">\r\n              <h4 className=\"text-center\">Ваши Раздачи Материалов по месяцам</h4>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"year\"><strong>Выберите Год:</strong></label>\r\n                <select name=\"year\" className=\"form-control\" onChange={this.onChange} required>\r\n                  {yearsOptions}\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"month\"><strong>Выберите Месяц:</strong></label>\r\n                <select name=\"month\" className=\"form-control\" onChange={this.onChange} required>\r\n                  {monthOptions}\r\n                </select>\r\n              </div>\r\n              <button type=\"submit\" className=\"btn btn-success mr-1 mt-1\"><i className=\"fas fa-search\"></i> Искать</button>\r\n\r\n              <button type=\"button\" className=\"btn btn-danger mr-1 mt-1\" onClick={() => this.getSpecificMonthStats('current')}>Этот месяц</button>\r\n\r\n              <button type=\"button\" className=\"btn btn-primary mr-1 mt-1\" onClick={() => this.getSpecificMonthStats('previous')}>Прошлый месяц</button>\r\n            </form>\r\n          </div>\r\n\r\n          <div className=\"col-lg-4 col-md-6 mt-3 ml-auto weekly-stats\">\r\n            <div className=\"SelectedWeekExample form-bg font-weight-bold\">\r\n              <h4 className=\"text-center\">Ваши Раздачи Материалов по неделям</h4>\r\n              <DayPicker\r\n                selectedDays={selectedDays}\r\n                showWeekNumbers\r\n                showOutsideDays\r\n                modifiers={modifiers}\r\n                firstDayOfWeek={1}\r\n                onDayClick={this.handleDayChange}\r\n                onDayMouseEnter={this.handleDayEnter}\r\n                onDayMouseLeave={this.handleDayLeave}\r\n                onWeekClick={this.handleWeekClick}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row mt-2\">\r\n          <div className=\"col-12\">\r\n            {this.props.subadmin.method === 'week' ?\r\n              <h3 className=\"text-center pl-3 pr-3\">Ваша Недельная Раздача Материалов за <Moment format=\"DD/MM/YYYY\">{this.state.selectedDays[0]}</Moment> - <Moment format=\"DD/MM/YYYY\">{this.state.selectedDays[6]}</Moment></h3> :\r\n              <h3 className=\"text-center pl-3 pr-3\">Ваша Месячная Раздача Материалов за {monthsNames[this.state.headingMonth]}, {this.state.headingYear}</h3>\r\n            }\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            {this.props.subadmin.loadingStats ? <Spinner /> : <ShowMatDistrib />}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  subadmin: state.subadmin,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getAllDisinfectors, getSubMatDistrib })(withRouter(MatDistribHistory));","import React, { Component } from 'react';\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Moment from 'react-moment';\r\nimport TextAreaFieldGroup from '../common/TextAreaFieldGroup';\r\n\r\nimport { getOrders, addDisinfectorComment, deleteOrder } from '../../actions/orderActions';\r\n\r\n\r\nclass OrderInfo extends Component {\r\n  state = {\r\n    addComment: false,\r\n    disinfectorComment: this.props.orderObject.disinfectorComment,\r\n    errors: {}\r\n  };\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  toggleAddComment = (e) => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      addComment: !this.state.addComment\r\n    });\r\n  };\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n    const object = {\r\n      id: this.props.orderObject._id,\r\n      comment: this.state.disinfectorComment\r\n    };\r\n    this.props.addDisinfectorComment(object, this.props.history, this.props.auth.user.occupation);\r\n    this.setState({\r\n      addComment: !this.state.addComment\r\n    })\r\n  };\r\n\r\n  // delete = (order) => {\r\n  //   const object = {\r\n  //     id: order._id,\r\n  //     clientType: order.clientType,\r\n  //     clientPhone: order.phone,\r\n  //     clientId: order.clientType === 'corporate' ? order.clientId._id : '',\r\n  //     orderDateFrom: order.dateFrom\r\n  //   };\r\n  //   console.log(object);\r\n  //   this.props.deleteOrder(object, this.props.history, this.props.auth.user.occupation);\r\n  // };\r\n\r\n  render() {\r\n    const { orderObject } = this.props;\r\n    const { errors } = this.state;\r\n\r\n    let currentTime = new Date();\r\n\r\n    return (\r\n      <div className=\"col-lg-4 col-md-6 mt-3\">\r\n        <div className=\"card order\">\r\n          <div className=\"card-body p-0\">\r\n            <ul className=\"font-bold list-unstyled\">\r\n              {orderObject.prevFailedOrder && <h3><i className=\"fas fas fa-exclamation\"></i> Повторный заказ <i className=\"fas fas fa-exclamation\"></i></h3>}\r\n\r\n              {/* {orderObject.disinfectorId && (\r\n                <li>Дезинфектор: {orderObject.disinfectorId.name}</li>\r\n              )} */}\r\n\r\n              {orderObject.clientType === 'corporate' ?\r\n                <React.Fragment>\r\n                  {orderObject.clientId ? (\r\n                    <li className=\"text-danger\">Корпоративный Клиент: {orderObject.clientId.name}</li>\r\n                  ) : <li className=\"text-danger\">Корпоративный Клиент</li>}\r\n                  <li className=\"text-danger\">Имя клиента: {orderObject.client}</li>\r\n                </React.Fragment>\r\n                : ''}\r\n              {orderObject.clientType === 'individual' ?\r\n                <li className=\"text-danger\">Физический Клиент: {orderObject.client}</li> : ''\r\n              }\r\n              <li className=\"text-danger\">Тел. номер клиента: {orderObject.phone}</li>\r\n              {orderObject.phone2 !== '' ? (<li className=\"text-danger\">Запасной номер: {orderObject.phone2}</li>) : ''}\r\n\r\n\r\n              <li className=\"text-danger\">Дата и Время выполнения: <Moment format=\"DD/MM/YYYY HH:mm\">{orderObject.dateFrom}</Moment></li>\r\n\r\n\r\n              <li className=\"text-danger\">Адрес: {orderObject.address}</li>\r\n\r\n\r\n              <li className=\"text-danger\">Тип услуги: {orderObject.typeOfService}</li>\r\n\r\n              <li>Комментарии Оператора: {orderObject.comment ? orderObject.comment : '--'}</li>\r\n              <li>Комментарии Дезинфектора: {this.state.disinfectorComment ? this.state.disinfectorComment : '--'}</li>\r\n\r\n              {orderObject.userAcceptedOrder ? (\r\n                <li>Заказ принял: {orderObject.userAcceptedOrder.occupation} {orderObject.userAcceptedOrder.name}</li>\r\n              ) : ''}\r\n\r\n              {orderObject.userCreated ? (\r\n                <li>Заказ Добавлен: {orderObject.userCreated.occupation} {orderObject.userCreated.name} <Moment format=\"DD/MM/YYYY HH:mm\">{orderObject.createdAt}</Moment></li>\r\n              ) : ''}\r\n            </ul>\r\n\r\n            {this.state.addComment ? (\r\n              <form onSubmit={this.onSubmit}>\r\n                <TextAreaFieldGroup\r\n                  name=\"disinfectorComment\"\r\n                  placeholder=\"Ваш комментарий\"\r\n                  value={this.state.disinfectorComment}\r\n                  onChange={this.onChange}\r\n                  error={errors.disinfectorComment}\r\n                />\r\n                <div className=\"btn-group\">\r\n                  <button type=\"submit\" className=\"btn btn-success mr-3\"><i className=\"fas fa-plus-circle\"></i> Добавить</button>\r\n                  <button type=\"button\" className=\"btn btn-warning\" onClick={this.toggleAddComment}><i className=\"fas fa-window-close\"></i> Закрыть</button>\r\n                </div>\r\n              </form>\r\n            ) : (\r\n              <button type=\"button\" className=\"btn btn-success d-block\" onClick={this.toggleAddComment}><i className=\"fas fa-comment-dots\"></i> Добавить Комментарий</button>\r\n            )}\r\n\r\n            {currentTime.getTime() > new Date(orderObject.dateFrom).getTime() ? (\r\n              <Link\r\n                to={`/order-complete-form/${orderObject._id}`}\r\n                className=\"btn btn-primary mt-3\"\r\n              >\r\n                <i className=\"fas fa-file-alt\"></i> Форма О Выполнении\r\n              </Link>\r\n            ) : ''}\r\n\r\n            {/* <button className=\"btn btn-danger mt-3 ml-3\" onClick={() => this.delete(orderObject)}>Delete</button> */}\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth,\r\n  order: state.order,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getOrders, addDisinfectorComment, deleteOrder })(withRouter(OrderInfo));","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { getOrders, addDisinfectorComment } from '../../actions/orderActions';\r\n\r\nimport OrderInfo from './OrderInfo';\r\n\r\n// socket.io\r\nimport openSocket from 'socket.io-client';\r\nimport socketLink from '../common/socketLink';\r\n\r\nclass DisplayOrders extends Component {\r\n  _isMounted = false;\r\n\r\n  state = {\r\n    orders: this.props.order.orders\r\n  };\r\n\r\n  componentDidMount() {\r\n    this._isMounted = true;\r\n\r\n    const socket = openSocket(socketLink);\r\n\r\n    socket.on('createOrder', data => {\r\n      if (this.props.auth.user.id === data.disinfectorId) {\r\n        this.addOrder(data.order);\r\n      }\r\n    });\r\n  }\r\n\r\n  addOrder = (order) => {\r\n    if (this._isMounted) {\r\n      this.setState(prevState => {\r\n        const updatedOrders = [...prevState.orders];\r\n        updatedOrders.push(order);\r\n        return {\r\n          orders: updatedOrders.sort((a, b) => new Date(a.dateFrom) - new Date(b.dateFrom))\r\n        };\r\n      });\r\n    }\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  }\r\n\r\n  render() {\r\n    const orders = this.state.orders.sort((a, b) => new Date(a.dateFrom) - new Date(b.dateFrom));\r\n    let output = null;\r\n\r\n    if (orders) {\r\n      output = (\r\n        <React.Fragment>\r\n          {orders.map((item, index) =>\r\n            <OrderInfo orderObject={item} index={index} key={index} />\r\n          )}\r\n        </React.Fragment>\r\n      )\r\n    }\r\n    return (\r\n      output\r\n    )\r\n  }\r\n}\r\n\r\nDisplayOrders.propTypes = {\r\n  getOrders: PropTypes.func.isRequired,\r\n  addDisinfectorComment: PropTypes.func.isRequired,\r\n  auth: PropTypes.object.isRequired,\r\n  errors: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth,\r\n  order: state.order,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getOrders, addDisinfectorComment })(withRouter(DisplayOrders));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Spinner from '../common/Spinner';\r\nimport DisplayOrders from './DisplayOrders';\r\nimport removeZeros from '../../utils/removeZerosMat';\r\n\r\nimport { getOrders } from '../../actions/orderActions';\r\nimport { getDisinfectorMaterials } from '../../actions/disinfectorActions';\r\n\r\nclass Disinfector extends Component {\r\n  componentDidMount() {\r\n    this.props.getDisinfectorMaterials(this.props.auth.user.id);\r\n    this.props.getOrders(this.props.auth.user.id);\r\n  }\r\n\r\n  render() {\r\n    let currentMaterials = removeZeros(this.props.auth.user.materials).map((item, index) =>\r\n      <li key={index}>{item.material}: {item.amount.toLocaleString()} {item.unit}</li>\r\n    );\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-12 mt-2\">\r\n              <h2 className=\"text-center\">Страница Дезинфектора {this.props.auth.user.name}</h2>\r\n            </div>\r\n          </div>\r\n\r\n          {this.props.auth.loadingUser ? <Spinner /> : (\r\n            <div className=\"row\">\r\n              <div className=\"col-12\">\r\n                <h3 className=\"text-center\">Ваши имеющиеся материалы</h3>\r\n              </div>\r\n\r\n              <div className=\"col-lg-6 col-md-8 mx-auto mt-3\">\r\n                <div className=\"card order\">\r\n                  <div className=\"card-body p-0\">\r\n                    <ul className=\"font-bold mb-0 list-unstyled\">\r\n                      {currentMaterials}\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"container-fluid\">\r\n          {this.props.order.loading ? <Spinner /> : (\r\n            <div className=\"row\">\r\n              <div className=\"col-12\">\r\n                <h2 className=\"text-center mt-3\">Ваши Заказы</h2>\r\n              </div>\r\n              <DisplayOrders />\r\n            </div>\r\n          )}\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  order: state.order,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getOrders, getDisinfectorMaterials })(withRouter(Disinfector));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Moment from 'react-moment';\r\n\r\nclass CompleteOrdersInMonth extends Component {\r\n  state = {\r\n    orders: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (this.props.order.completeOrdersInMonth && this.props.order.completeOrdersInMonth.length > 0) {\r\n      this.setState({\r\n        orders: this.props.order.completeOrdersInMonth\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let completeOrders = this.state.orders.map((order, index) => {\r\n\r\n      let consumptionArray = [];\r\n      order.disinfectors.forEach(item => {\r\n        consumptionArray.push({\r\n          user: item.user,\r\n          consumption: item.consumption\r\n        });\r\n      });\r\n\r\n      let consumptionRender = consumptionArray.map((item, index) =>\r\n        <li key={index}>\r\n          <p className=\"mb-0\">Пользователь: {item.user.occupation} {item.user.name}</p>\r\n          {item.consumption.map((element, number) =>\r\n            <p key={number} className=\"mb-0\">{element.material}: {element.amount.toLocaleString()} {element.unit}</p>\r\n          )}\r\n        </li>\r\n      );\r\n\r\n      return (\r\n        <div className=\"col-lg-4 col-md-6 mt-3\" key={index}>\r\n          <div className=\"card order\">\r\n            <div className=\"card-body p-0\">\r\n              <ul className=\"font-bold mb-0 list-unstyled\">\r\n                {order.prevFailedOrder && (\r\n                  <li><h4><i className=\"fas fas fa-exclamation\"></i> Повторный заказ <i className=\"fas fas fa-exclamation\"></i></h4></li>\r\n                )}\r\n\r\n                {order.failed && (\r\n                  <li><h4><i className=\"fas fas fa-exclamation\"></i> Некачественный заказ <i className=\"fas fas fa-exclamation\"></i></h4></li>\r\n                )}\r\n\r\n                {order.operatorDecided ? (\r\n                  <React.Fragment>\r\n                    <li>Оператор рассмотрел заявку</li>\r\n                    {order.operatorConfirmed ? (\r\n                      <React.Fragment>\r\n                        <li className=\"text-success\">Оператор Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.operatorCheckedAt}</Moment>)</li>\r\n                        <li>Балл (0-5): {order.score}</li>\r\n                        <li>Отзыв Клиента: {order.clientReview ? order.clientReview : 'Нет Отзыва'}</li>\r\n                      </React.Fragment>\r\n                    ) : <li className=\"text-danger\">Оператор Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.operatorCheckedAt}</Moment>)</li>}\r\n                  </React.Fragment>\r\n                ) : <li>Оператор еще не рассмотрел заявку</li>}\r\n\r\n\r\n\r\n\r\n\r\n\r\n                {order.accountantDecided ? (\r\n                  <React.Fragment>\r\n                    <li>Бухгалтер рассмотрел заявку</li>\r\n                    {order.accountantConfirmed ? (\r\n                      <React.Fragment>\r\n                        <li className=\"text-success\">Бухгалтер Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.accountantCheckedAt}</Moment>)</li>\r\n                        <li>Счет-Фактура: {order.invoice}</li>\r\n                        <li>Общая Сумма: {order.cost.toLocaleString()} UZS (каждому по {(order.cost / order.disinfectors.length).toLocaleString()} UZS)</li>\r\n                      </React.Fragment>\r\n                    ) : <li className=\"text-danger\">Бухгалтер Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.accountantCheckedAt}</Moment>)</li>}\r\n                  </React.Fragment>\r\n                ) : (\r\n                  <React.Fragment>\r\n\r\n                    {order.adminDecided ? (\r\n                      <React.Fragment>\r\n                        <li>Админ рассмотрел заявку</li>\r\n                        {order.adminConfirmed ? (\r\n                          <li className=\"text-success\">Админ Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>\r\n                        ) : <li className=\"text-danger\">Админ Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>}\r\n                      </React.Fragment>\r\n                    ) : (\r\n                      <li>Бухгалтер еще не рассмотрел заявку</li>\r\n                    )}\r\n\r\n                  </React.Fragment>\r\n                )}\r\n\r\n\r\n\r\n                {/* {order.clientType === 'corporate' && order.paymentMethod === 'notCash' && !order.accountantDecided ? <li>Бухгалтер еще не рассмотрел заявку</li> : ''}\r\n\r\n                {order.clientType === 'corporate' && order.paymentMethod === 'notCash' && order.accountantDecided ?\r\n                  <React.Fragment>\r\n                    <li>Бухгалтер рассмотрел заявку</li>\r\n                    {order.accountantConfirmed ? (\r\n                      <React.Fragment>\r\n                        <li className=\"text-success\">Бухгалтер Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.accountantCheckedAt}</Moment>)</li>\r\n                        <li>Счет-Фактура: {order.invoice}</li>\r\n                        <li>Общая Сумма: {order.cost.toLocaleString()} UZS (каждому по {(order.cost / order.disinfectors.length).toLocaleString()} UZS)</li>\r\n                      </React.Fragment>\r\n                    ) : <li className=\"text-danger\">Бухгалтер Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.accountantCheckedAt}</Moment>)</li>}\r\n                  </React.Fragment>\r\n                  : ''}\r\n\r\n                {order.clientType === 'corporate' && order.paymentMethod === 'cash' && !order.adminDecided ? <li>Админ еще не рассмотрел заявку</li> : ''}\r\n\r\n                {order.clientType === 'corporate' && order.paymentMethod === 'cash' && order.adminDecided ? (\r\n                  <React.Fragment>\r\n                    <li>Админ рассмотрел заявку</li>\r\n                    {order.adminConfirmed ? (\r\n                      <li className=\"text-success\">Админ Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>\r\n                    ) : <li className=\"text-danger\">Админ Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>}\r\n                  </React.Fragment>\r\n                ) : ''}\r\n\r\n                {order.clientType === 'individual' && !order.adminDecided ? <li>Админ еще не рассмотрел заявку</li> : ''}\r\n                {order.clientType === 'individual' && order.adminDecided ? (\r\n                  <React.Fragment>\r\n                    <li>Админ рассмотрел заявку</li>\r\n                    {order.adminConfirmed ? (\r\n                      <li className=\"text-success\">Админ Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>\r\n                    ) : <li className=\"text-danger\">Админ Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>}\r\n                  </React.Fragment>\r\n                ) : ''} */}\r\n\r\n\r\n\r\n\r\n\r\n\r\n                {order.clientType === 'corporate' ?\r\n                  <React.Fragment>\r\n                    {order.clientId ? (\r\n                      <li className=\"text-danger\">Корпоративный Клиент: {order.clientId.name}</li>\r\n                    ) : <li className=\"text-danger\">Корпоративный Клиент</li>}\r\n                    <li className=\"text-danger\">Имя клиента: {order.client}</li>\r\n                  </React.Fragment>\r\n                  : ''}\r\n\r\n                {order.clientType === 'individual' ?\r\n                  <li className=\"text-danger\">Физический Клиент: {order.client}</li>\r\n                  : ''}\r\n\r\n                <li className=\"text-danger\">Телефон Клиента: {order.phone}</li>\r\n                {order.phone2 ? <li className=\"text-danger\">Другой номер: {order.phone2}</li> : ''}\r\n                <li className=\"text-danger\">Дата выполнения: <Moment format=\"DD/MM/YYYY\">{order.dateFrom}</Moment></li>\r\n                <li className=\"text-danger\">Время выполнения: С <Moment format=\"HH:mm\">{order.dateFrom}</Moment> ПО <Moment format=\"HH:mm\">{order.completedAt}</Moment></li>\r\n                <li className=\"text-danger\">Адрес: {order.address}</li>\r\n                <li className=\"text-danger\">Тип услуги: {order.typeOfService}</li>\r\n\r\n                <li>Комментарии Оператора: {order.comment ? order.comment : '--'}</li>\r\n                <li>Комментарии Дезинфектора: {order.disinfectorComment ? order.disinfectorComment : '--'}</li>\r\n\r\n                <li>Расход Материалов (заказ выполнили {order.disinfectors.length} чел):</li>\r\n                <ul className=\"font-bold mb-0\">\r\n                  {consumptionRender}\r\n                </ul>\r\n\r\n                {order.clientType === 'corporate' ? (\r\n                  <React.Fragment>\r\n                    {order.paymentMethod === 'cash' ? (\r\n                      <React.Fragment>\r\n                        <li>Тип Платежа: Наличный</li>\r\n                        <li>Общая Сумма: {order.cost.toLocaleString()} UZS (каждому по {(order.cost / order.disinfectors.length).toLocaleString()} UZS)</li>\r\n                      </React.Fragment>\r\n                    ) : (\r\n                      <React.Fragment>\r\n                        <li>Тип Платежа: Безналичный</li>\r\n                        <li>Номер Договора: {order.contractNumber}</li>\r\n                      </React.Fragment>\r\n                    )}\r\n                  </React.Fragment>\r\n                ) : ''}\r\n\r\n                {order.completed && order.clientType === 'individual' && order.cost ?\r\n                  <li>Общая Сумма: {order.cost.toLocaleString()} UZS  (каждому по {(order.cost / order.disinfectors.length).toLocaleString()} UZS)</li>\r\n                  : ''}\r\n\r\n                {/* {order.userAcceptedOrder ? (\r\n                  <li>Заказ принял: {order.userAcceptedOrder.occupation} {order.userAcceptedOrder.name}</li>\r\n                ) : ''} */}\r\n\r\n                {/* {order.userCreated ? (\r\n                  <li>Заказ добавил: {order.userCreated.occupation} {order.userCreated.name}</li>\r\n                ) : ''} */}\r\n\r\n                <li>Форма Выполнения Заказа заполнена: <Moment format=\"DD/MM/YYYY HH:mm\">{order.completedAt}</Moment></li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )\r\n    });\r\n\r\n    return (\r\n      <div className=\"row\">\r\n        {this.props.searchMethod !== '' && this.state.orders.length === 0 ? (\r\n          <div className=\"col-12\">\r\n            <h3 className=\"text-center\">Нет Запросов</h3>\r\n          </div>\r\n        ) : (\r\n          completeOrders\r\n        )}\r\n        {/* {completeOrders} */}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  order: state.order,\r\n  operator: state.operator,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps)(withRouter(CompleteOrdersInMonth));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from '../common/Spinner';\r\nimport Moment from 'react-moment';\r\n\r\nimport CompleteOrdersInMonth from './CompleteOrdersInMonth';\r\nimport { getCompleteOrdersInMonth } from '../../actions/orderActions';\r\nimport monthsNames from '../common/monthNames';\r\n\r\nimport { getWeekDays, getWeekRange } from '../common/weekFunc';\r\nimport DayPicker from 'react-day-picker';\r\nimport 'react-day-picker/lib/style.css';\r\n\r\nclass DisinfQueries extends Component {\r\n  state = {\r\n    month: '',\r\n    year: '',\r\n    day: '',\r\n\r\n    // to display month and year in heading h2\r\n    headingMonth: '',\r\n    headingYear: '',\r\n    headingDay: '',\r\n\r\n    method: '',\r\n    hoverRange: undefined,\r\n    selectedDays: [],\r\n  };\r\n\r\n  componentDidMount() {\r\n    // previous method in global state\r\n    let method = this.props.order.compOrderMethod;\r\n\r\n    if (method) {\r\n      this.setState({\r\n        method: method\r\n      });\r\n    }\r\n\r\n    if (method === 'day') {\r\n      const dayString = this.props.order.compOrderInput.day.split('-').reverse().join('-')\r\n      this.setState({\r\n        headingDay: dayString\r\n      });\r\n    }\r\n\r\n    if (method === 'week') {\r\n      this.setState({\r\n        selectedDays: this.props.order.compOrderInput.days\r\n      });\r\n    }\r\n\r\n    if (method === 'month') {\r\n      this.setState({\r\n        headingMonth: this.props.order.compOrderInput.month,\r\n        headingYear: this.props.order.compOrderInput.year\r\n      });\r\n    }\r\n  }\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n    let object = {\r\n      disinfectorId: this.props.auth.user.id,\r\n      type: 'month',\r\n      month: this.state.month,\r\n      year: this.state.year\r\n    };\r\n    // this.props.getCompleteOrdersInMonth(this.state.month, this.state.year, this.props.auth.user.id);\r\n    this.props.getCompleteOrdersInMonth(object);\r\n    this.setState({\r\n      method: 'month',\r\n      headingMonth: this.state.month,\r\n      headingYear: this.state.year\r\n    });\r\n  }\r\n\r\n  getDayStats = (e) => {\r\n    e.preventDefault();\r\n    const object = {\r\n      disinfectorId: this.props.auth.user.id,\r\n      type: 'day',\r\n      day: this.state.day\r\n    };\r\n    this.props.getCompleteOrdersInMonth(object);\r\n    this.setState({\r\n      method: 'day',\r\n      headingDay: this.state.day.split('-').reverse().join('-')\r\n    });\r\n  }\r\n\r\n  // weekly calendar\r\n  handleDayChange = (date) => {\r\n    let object = {\r\n      disinfectorId: this.props.auth.user.id,\r\n      type: 'week',\r\n      days: getWeekDays(getWeekRange(date).from)\r\n    };\r\n    // this.props.getCompleteOrdersInMonth(this.props.auth.user.id, getWeekDays(getWeekRange(date).from));\r\n    this.props.getCompleteOrdersInMonth(object);\r\n\r\n    this.setState({\r\n      method: 'week',\r\n      selectedDays: getWeekDays(getWeekRange(date).from)\r\n    });\r\n  };\r\n\r\n  handleDayEnter = date => {\r\n    this.setState({\r\n      hoverRange: getWeekRange(date)\r\n    });\r\n  };\r\n\r\n  handleDayLeave = () => {\r\n    this.setState({\r\n      hoverRange: undefined\r\n    });\r\n  };\r\n\r\n  handleWeekClick = (weekNumber, days, e) => {\r\n    let object = {\r\n      disinfectorId: this.props.auth.user.id,\r\n      type: 'week',\r\n      days: getWeekDays(getWeekRange(days[0]).from)\r\n    };\r\n    // this.props.getWeekStats(this.props.auth.user.id, getWeekDays(getWeekRange(days[0]).from));\r\n    this.props.getCompleteOrdersInMonth(object);\r\n\r\n    this.setState({\r\n      method: 'week',\r\n      selectedDays: getWeekDays(getWeekRange(days[0]).from)\r\n    });\r\n  };\r\n  // end of weekly calendar\r\n\r\n\r\n\r\n  render() {\r\n    // const yearsOptions = years.map((year, index) =>\r\n    //   <option value={year.value} key={index}>{year.label}</option>\r\n    // );\r\n    // const monthOptions = months.map((month, index) =>\r\n    //   <option value={month.value} key={index}>{month.label}</option>\r\n    // );\r\n\r\n    // weekly calender\r\n    const { hoverRange, selectedDays } = this.state;\r\n\r\n    const daysAreSelected = selectedDays.length > 0;\r\n\r\n    const modifiers = {\r\n      hoverRange,\r\n      selectedRange: daysAreSelected && {\r\n        from: selectedDays[0],\r\n        to: selectedDays[6],\r\n      },\r\n      hoverRangeStart: hoverRange && hoverRange.from,\r\n      hoverRangeEnd: hoverRange && hoverRange.to,\r\n      selectedRangeStart: daysAreSelected && selectedDays[0],\r\n      selectedRangeEnd: daysAreSelected && selectedDays[6]\r\n    };\r\n    // end of calendar\r\n\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <h2 className=\"text-center pl-3 pr-3\">Ваши Отправленные Запросы</h2>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row\">\r\n          {/* <div className=\"col-lg-4 col-md-6 mt-3\">\r\n            <form onSubmit={this.onSubmit} className=\"form-bg p-2\">\r\n              <h4 className=\"text-center\">Отправленные Запросы за месяц</h4>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"year\"><strong>Выберите Год:</strong></label>\r\n                <select name=\"year\" className=\"form-control\" onChange={this.onChange} required>\r\n                  {yearsOptions}\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"month\"><strong>Выберите Месяц:</strong></label>\r\n                <select name=\"month\" className=\"form-control\" onChange={this.onChange} required>\r\n                  {monthOptions}\r\n                </select>\r\n              </div>\r\n              <button type=\"submit\" className=\"btn btn-success\"><i className=\"fas fa-search\"></i> Искать</button>\r\n            </form>\r\n          </div> */}\r\n\r\n          <div className=\"col-lg-4 col-md-6 mt-3\">\r\n            <form onSubmit={this.getDayStats} className=\"form-bg p-2\">\r\n              <h4 className=\"text-center\">Отправленные Запросы за день</h4>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"day\"><strong>Выберите День:</strong></label>\r\n                <input type=\"date\" name=\"day\" className=\"form-control\" onChange={this.onChange} required />\r\n              </div>\r\n              <button type=\"submit\" className=\"btn btn-primary\"><i className=\"fas fa-search\"></i> Искать</button>\r\n            </form>\r\n          </div>\r\n\r\n          <div className=\"col-lg-4 col-md-6 weekly-stats mt-3\">\r\n            <div className=\"SelectedWeekExample form-bg font-weight-bold\">\r\n              <h4 className=\"text-center\">Отправленные Запросы за неделю</h4>\r\n              <DayPicker\r\n                selectedDays={selectedDays}\r\n                showWeekNumbers\r\n                showOutsideDays\r\n                modifiers={modifiers}\r\n                firstDayOfWeek={1}\r\n                onDayClick={this.handleDayChange}\r\n                onDayMouseEnter={this.handleDayEnter}\r\n                onDayMouseLeave={this.handleDayLeave}\r\n                onWeekClick={this.handleWeekClick}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row mt-2\">\r\n          <div className=\"col-12\">\r\n            {this.state.method === 'week' ?\r\n              <h2 className=\"text-center pl-3 pr-3\">Ваши Отправленные запросы за <Moment format=\"DD/MM/YYYY\">{this.state.selectedDays[0]}</Moment> - <Moment format=\"DD/MM/YYYY\">{this.state.selectedDays[6]}</Moment></h2> : ''}\r\n\r\n            {this.state.method === 'month' ?\r\n              <h2 className=\"text-center pl-3 pr-3\">Ваша Отправленные запросы за {monthsNames[this.state.headingMonth]}, {this.state.headingYear}</h2> : ''}\r\n\r\n            {this.state.method === 'day' ?\r\n              <h2 className=\"text-center pl-3 pr-3\">Ваша Отправленные запросы за {this.state.headingDay}</h2> : ''}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            {this.props.order.loading ? <Spinner /> : <CompleteOrdersInMonth searchMethod={this.state.method} />}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  order: state.order,\r\n  operator: state.operator,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getCompleteOrdersInMonth })(withRouter(DisinfQueries));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Moment from 'react-moment';\r\n\r\nimport materials from '../common/materials';\r\nimport removeZeros from '../../utils/removeZerosMat';\r\nimport calculateDisinfScore from '../../utils/calcDisinfScore';\r\nimport calculateStats from '../../utils/calcStats';\r\n\r\n\r\nclass ShowDisinfStats extends Component {\r\n  state = {\r\n    orders: this.props.disinfector.stats.orders,\r\n    acceptedOrders: this.props.disinfector.stats.acceptedOrders,\r\n    addedMaterials: this.props.disinfector.stats.addedMaterials\r\n  };\r\n\r\n\r\n\r\n  // renderOrders = (orders) => {\r\n\r\n  //   return orders.map((order, key) => {\r\n  //     // consumption array of specific order\r\n  //     let consumptionArray = [];\r\n\r\n  //     order.disinfectors.forEach(item => {\r\n  //       consumptionArray.push({\r\n  //         user: item.user,\r\n  //         consumption: item.consumption\r\n  //       });\r\n  //     });\r\n\r\n  //     let renderOrderConsumption = consumptionArray.map((object, number) =>\r\n  //       <li key={number}>\r\n  //         <p className=\"mb-0\">Пользователь: {object.user.occupation} {object.user.name}</p>\r\n  //         {object.consumption.map((element, number) =>\r\n  //           <p key={number} className=\"mb-0\">{element.material}: {element.amount.toLocaleString()} {element.unit}</p>\r\n  //         )}\r\n  //       </li>\r\n  //     );\r\n\r\n  //     return (\r\n  //       <div className=\"col-lg-4 col-md-6\" key={key}>\r\n  //         <div className=\"card order mt-2\">\r\n  //           <div className=\"card-body p-0\">\r\n  //             <ul className=\"font-bold mb-0 list-unstyled\">\r\n  //               <li>Ответственный: {order.disinfectorId.occupation} {order.disinfectorId.name}</li>\r\n\r\n  //               {order.failed && <li className=\"text-danger\">Это некачественный заказ</li>}\r\n\r\n  //               {order.repeatedOrder ? (\r\n  //                 <React.Fragment>\r\n  //                   <li>Это повторный заказ</li>\r\n  //                   {order.repeatedOrderDecided ? (\r\n  //                     <React.Fragment>\r\n  //                       <li>Решение по проведению повторной работы принята</li>\r\n  //                       {order.repeatedOrderNeeded ? <li>Повторная Работа требуется</li> : <li>Повторная Работа Не требуется</li>}\r\n  //                     </React.Fragment>\r\n  //                   ) : <li>Решение по проведению повторной заявки еще не принята</li>}\r\n  //                 </React.Fragment>\r\n  //               ) : ''}\r\n\r\n  //               {order.completed ? <li>Заказ выполнен</li> : <li>Заказ еще не выполнен</li>}\r\n\r\n  //               {order.operatorDecided ? (\r\n  //                 <React.Fragment>\r\n  //                   <li>Оператор рассмотрел заявку</li>\r\n  //                   {order.operatorConfirmed ? (\r\n  //                     <React.Fragment>\r\n  //                       <li className=\"text-success\">Оператор Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.operatorCheckedAt}</Moment>)</li>\r\n  //                       <li>Балл (0-5): {order.score}</li>\r\n  //                       <li>Отзыв Клиента: {order.clientReview ? order.clientReview : 'Нет Отзыва'}</li>\r\n  //                     </React.Fragment>\r\n  //                   ) : <li className=\"text-danger\">Оператор Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.operatorCheckedAt}</Moment>)</li>}\r\n  //                 </React.Fragment>\r\n  //               ) : <li>Оператор еще не рассмотрел заявку</li>}\r\n\r\n  //               {order.clientType === 'corporate' && order.paymentMethod === 'notCash' && !order.accountantDecided ? <li>Бухгалтер еще не рассмотрел заявку</li> : ''}\r\n\r\n  //               {order.clientType === 'corporate' && order.paymentMethod === 'notCash' && order.accountantDecided ?\r\n  //                 <React.Fragment>\r\n  //                   <li>Бухгалтер рассмотрел заявку</li>\r\n  //                   {order.accountantConfirmed ? (\r\n  //                     <React.Fragment>\r\n  //                       <li className=\"text-success\">Бухгалтер Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.accountantCheckedAt}</Moment>)</li>\r\n  //                       <li>Счет-Фактура: {order.invoice}</li>\r\n  //                       <li>Общая Сумма: {order.cost.toLocaleString()} UZS (каждому по {(order.cost / order.disinfectors.length).toLocaleString()} UZS)</li>\r\n  //                     </React.Fragment>\r\n  //                   ) : <li className=\"text-danger\">Бухгалтер Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.accountantCheckedAt}</Moment>)</li>}\r\n  //                 </React.Fragment>\r\n  //                 : ''}\r\n\r\n  //               {order.clientType === 'corporate' && order.paymentMethod === 'cash' && !order.adminDecided ? <li>Админ еще не рассмотрел заявку</li> : ''}\r\n\r\n  //               {order.clientType === 'corporate' && order.paymentMethod === 'cash' && order.adminDecided ? (\r\n  //                 <React.Fragment>\r\n  //                   <li>Админ рассмотрел заявку</li>\r\n  //                   {order.adminConfirmed ? (\r\n  //                     <li className=\"text-success\">Админ Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>\r\n  //                   ) : <li className=\"text-danger\">Админ Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>}\r\n  //                 </React.Fragment>\r\n  //               ) : ''}\r\n\r\n  //               {order.clientType === 'individual' && !order.adminDecided ? <li>Админ еще не рассмотрел заявку</li> : ''}\r\n  //               {order.clientType === 'individual' && order.adminDecided ? (\r\n  //                 <React.Fragment>\r\n  //                   <li>Админ рассмотрел заявку</li>\r\n  //                   {order.adminConfirmed ? (\r\n  //                     <li className=\"text-success\">Админ Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>\r\n  //                   ) : <li className=\"text-danger\">Админ Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>}\r\n  //                 </React.Fragment>\r\n  //               ) : ''}\r\n\r\n  //               {order.clientType === 'corporate' ?\r\n  //                 <React.Fragment>\r\n  //                   {order.clientId ? (\r\n  //                     <li className=\"text-danger\">Корпоративный Клиент: {order.clientId.name}</li>\r\n  //                   ) : <li className=\"text-danger\">Корпоративный Клиент</li>}\r\n  //                   <li className=\"text-danger\">Имя клиента: {order.client}</li>\r\n  //                 </React.Fragment>\r\n  //                 : ''}\r\n\r\n  //               {order.clientType === 'individual' ?\r\n  //                 <li className=\"text-danger\">Физический Клиент: {order.client}</li>\r\n  //                 : ''}\r\n\r\n  //               <li className=\"text-danger\">Телефон Клиента: {order.phone}</li>\r\n  //               {order.phone2 ? <li className=\"text-danger\">Другой номер: {order.phone2}</li> : ''}\r\n\r\n  //               {order.completed ? (\r\n  //                 <React.Fragment>\r\n  //                   <li className=\"text-danger\">Дата выполнения: <Moment format=\"DD/MM/YYYY\">{order.dateFrom}</Moment></li>\r\n  //                   <li className=\"text-danger\">Время выполнения: <Moment format=\"HH:mm\">{order.dateFrom}</Moment></li>\r\n  //                 </React.Fragment>\r\n  //               ) : ''}\r\n\r\n  //               {!order.completed && order.repeatedOrder && order.repeatedOrderDecided && order.repeatedOrderNeeded ? (\r\n  //                 <React.Fragment>\r\n  //                   <li className=\"text-danger\">Дата выполнения: <Moment format=\"DD/MM/YYYY\">{order.dateFrom}</Moment></li>\r\n  //                   <li className=\"text-danger\">Время выполнения: <Moment format=\"HH:mm\">{order.dateFrom}</Moment></li>\r\n  //                 </React.Fragment>\r\n  //               ) : ''}\r\n\r\n  //               <li className=\"text-danger\">Адрес: {order.address}</li>\r\n  //               <li className=\"text-danger\">Тип услуги: {order.typeOfService}</li>\r\n  //               <li>Комментарии Оператора: {order.comment ? order.comment : 'Нет комментариев'}</li>\r\n  //               <li>Комментарии Дезинфектора: {order.disinfectorComment ? order.disinfectorComment : 'Нет комментариев'}</li>\r\n\r\n  //               {order.completed ?\r\n  //                 <React.Fragment>\r\n  //                   <li>Срок гарантии (в месяцах): {order.guarantee}</li>\r\n  //                   <li>Расход Материалов (заказ выполнили {order.disinfectors.length} чел):</li>\r\n  //                   <ul className=\"font-bold mb-0\">\r\n  //                     {renderOrderConsumption}\r\n  //                   </ul>\r\n  //                 </React.Fragment>\r\n  //                 : ''}\r\n\r\n  //               {order.clientType === 'corporate' ? (\r\n  //                 <React.Fragment>\r\n  //                   {order.paymentMethod === 'cash' ? (\r\n  //                     <React.Fragment>\r\n  //                       <li>Тип Платежа: Наличный</li>\r\n  //                       <li>Общая Сумма: {order.cost.toLocaleString()} UZS (каждому по {(order.cost / order.disinfectors.length).toLocaleString()} UZS)</li>\r\n  //                     </React.Fragment>\r\n  //                   ) : (\r\n  //                       <React.Fragment>\r\n  //                         <li>Тип Платежа: Безналичный</li>\r\n  //                         <li>Номер Договора: {order.contractNumber}</li>\r\n  //                       </React.Fragment>\r\n  //                     )}\r\n  //                 </React.Fragment>\r\n  //               ) : ''}\r\n\r\n  //               {order.completed && order.clientType === 'individual' ?\r\n  //                 <li>Общая Сумма: {order.cost.toLocaleString()} UZS (каждому по {(order.cost / order.disinfectors.length).toLocaleString()} UZS)</li>\r\n  //                 : ''}\r\n\r\n  //               {order.userAcceptedOrder ? (\r\n  //                 <li>Заказ принял: {order.userAcceptedOrder.occupation} {order.userAcceptedOrder.name}</li>\r\n  //               ) : ''}\r\n\r\n  //               <li>Заказ добавил: {order.userCreated.occupation} {order.userCreated.name} (<Moment format=\"DD/MM/YYYY HH:mm\">{order.createdAt}</Moment>)</li>\r\n\r\n  //               {order.completed ?\r\n  //                 <li>Форма Выполнения Заказа заполнена: <Moment format=\"DD/MM/YYYY HH:mm\">{order.completedAt}</Moment></li> : ''}\r\n  //             </ul>\r\n  //           </div>\r\n  //         </div>\r\n  //       </div>\r\n  //     );\r\n  //   });\r\n\r\n  // };\r\n\r\n\r\n\r\n\r\n\r\n\r\n  render() {\r\n    // calculate statistics\r\n    let {\r\n      // totalSum,\r\n      totalScore,\r\n      totalOrders,\r\n      completed,\r\n      confirmedOrders,\r\n      rejected,\r\n      consultAndOsmotrConfirmed,\r\n\r\n      // сумма заказов для дезинфектора (она равна сумме заказа / количество дезинфекторов, выполнивших заказ)\r\n      totalSumForDisinfector,\r\n\r\n      failed,\r\n      povtors,\r\n      // corporate,\r\n      // corpSum,\r\n      // indiv,\r\n      // indivSum\r\n    } = calculateStats(this.state.orders);\r\n\r\n    let totalConsumption = [];\r\n    let totalSumOfAcceptedOrders = 0;\r\n\r\n    materials.forEach(item => {\r\n      let emptyObject = {\r\n        material: item.material,\r\n        amount: 0,\r\n        unit: item.unit\r\n      };\r\n\r\n      totalConsumption.push(emptyObject);\r\n    });\r\n\r\n\r\n    // не считать расходы материалов у повторных и некачественных заказов (нужно учесть)\r\n    // заказ, который не является некачественным и не является повторным\r\n    let approvedOrders = this.state.orders.filter(order =>\r\n      order.completed &&\r\n      !order.failed &&\r\n      !order.hasOwnProperty('prevFailedOrder')\r\n    );\r\n\r\n\r\n    // this.state.orders.forEach(order => {\r\n    approvedOrders.forEach(order => {\r\n      // calculate total consumption of all orders in given period of the logged in disinfector\r\n      order.disinfectors.forEach(element => {\r\n        if (element.user._id.toString() === this.props.auth.user.id) {\r\n          element.consumption.forEach(object => {\r\n            totalConsumption.forEach(item => {\r\n              if (object.material === item.material && object.unit === item.unit) {\r\n                item.amount += object.amount;\r\n              }\r\n            });\r\n          });\r\n        }\r\n      });\r\n    });\r\n\r\n\r\n    // calculate average score\r\n    let averageScore = calculateDisinfScore({\r\n      totalScore: totalScore,\r\n      totalOrders: confirmedOrders.length,\r\n      failedOrders: failed\r\n    }) || 0;\r\n\r\n    // remove materials with amount of 0\r\n    totalConsumption = removeZeros(totalConsumption);\r\n\r\n    let renderTotalConsumption = totalConsumption.map((item, key) =>\r\n      <li key={key}>{item.material}: {item.amount.toLocaleString()} {item.unit}</li>\r\n    );\r\n\r\n\r\n    this.state.acceptedOrders.forEach(order => {\r\n      if (\r\n        order.completed &&\r\n        !order.failed &&\r\n        order.operatorConfirmed &&\r\n        (order.accountantConfirmed || order.adminConfirmed)\r\n      ) {\r\n        totalSumOfAcceptedOrders += order.cost;\r\n      }\r\n    });\r\n\r\n\r\n    // let renderConfirmedOrders = this.renderOrders(confirmedOrders);\r\n    // let renderAcceptedOrders = this.renderOrders(this.state.acceptedOrders);\r\n\r\n\r\n    // total received materials that disinfector received from admin in given period\r\n    let totalReceivedMaterials = [];\r\n    materials.forEach(item => {\r\n      let emptyObject = {\r\n        material: item.material,\r\n        amount: 0,\r\n        unit: item.unit\r\n      };\r\n\r\n      totalReceivedMaterials.push(emptyObject);\r\n    });\r\n\r\n    if (this.state.addedMaterials.length > 0) {\r\n      this.state.addedMaterials.forEach(addEvent => {\r\n        addEvent.materials.forEach(material => {\r\n          totalReceivedMaterials.forEach(helpObject => {\r\n            if (material.material === helpObject.material && material.unit === helpObject.unit) {\r\n              helpObject.amount += material.amount;\r\n            }\r\n          });\r\n        });\r\n      });\r\n    }\r\n\r\n    let receivedMaterials = this.state.addedMaterials.map((item, index) => {\r\n      let listItems = item.materials.map((thing, number) =>\r\n        <li key={number}>{thing.material}: {thing.amount.toLocaleString()} {thing.unit}</li>\r\n      );\r\n\r\n      return (\r\n        <div className=\"col-lg-4 col-md-6\" key={index}>\r\n          <div className=\"card order mt-2\">\r\n            <div className=\"card-body p-0\">\r\n              <ul className=\"font-bold mb-0 list-unstyled\">\r\n                <li>Кто раздал: {item.admin.occupation} {item.admin.name}</li>\r\n                <li>Когда получено: <Moment format=\"DD/MM/YYYY HH:mm\">{item.createdAt}</Moment></li>\r\n                {/* <h5 className=\"mb-0\">Материалы:</h5> */}\r\n                <li>Материалы:</li>\r\n                <ul>\r\n                  {listItems}\r\n                </ul>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n\r\n    let renderTotalReceived = removeZeros(totalReceivedMaterials).map((item, index) =>\r\n      <li key={index}>{item.material}: {item.amount.toLocaleString()} {item.unit}</li>\r\n    );\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-4 col-md-6\">\r\n            <div className=\"card order mt-2\">\r\n              <div className=\"card-body p-0\">\r\n                <h4 className=\"text-center\">Заказы</h4>\r\n                <ul className=\"font-bold mb-0 list-unstyled\">\r\n                  <li>Всего Получено Заказов: {totalOrders}</li>\r\n                  <li>Выполнено Заказов: {completed}</li>\r\n                  <li>Подтверждено Заказов: {confirmedOrders.length} (из них Консультации и Осмотры: {consultAndOsmotrConfirmed})</li>\r\n\r\n                  <li className=\"pt-2\">Общая Сумма: {totalSumForDisinfector.toLocaleString()} UZS</li>\r\n                  <li className=\"pb-2\">Средний балл: {averageScore.toFixed(2)} (из 5)</li>\r\n\r\n                  <li>Отвергнуто заказов: {rejected}</li>\r\n                  <li>Некачественные заказы: {failed}</li>\r\n                  <li className=\"pb-2\">Повторные заказы: {povtors}</li>\r\n\r\n                  <li>Принятые заказы: {this.state.acceptedOrders.length}</li>\r\n                  <li>Общая сумма принятых заказов: {totalSumOfAcceptedOrders.toLocaleString()} UZS</li>\r\n\r\n                  <h6 className=\"mt-2\">* некачественные и повторные заказы не входят в подтвержденные заказы и общую сумму</h6>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-lg-4 col-md-6\">\r\n            <div className=\"card order mt-2\">\r\n              <div className=\"card-body p-0\">\r\n                <h4 className=\"text-center\">Общий Приход материалов за этот период:</h4>\r\n                <ul className=\"font-bold mb-0 list-unstyled\">\r\n                  {renderTotalReceived}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-lg-4 col-md-6\">\r\n            <div className=\"card order mt-2\">\r\n              <div className=\"card-body p-0\">\r\n                <h4 className=\"text-center\">Общий Расход Материалов за этот период:</h4>\r\n                <ul className=\"font-bold mb-0 list-unstyled\">\r\n                  {renderTotalConsumption}\r\n\r\n                  <h6 className=\"mt-2\">* сюда не входят некачественные и повторные заказы</h6>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {this.state.addedMaterials.length > 0 ? (\r\n          <React.Fragment>\r\n            <div className=\"row mt-3\">\r\n              <div className=\"col-12\">\r\n                <h2 className=\"text-center pl-3 pr-3\">Ваши полученные материалы за этот период</h2>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"row mt-2\">\r\n              {receivedMaterials}\r\n            </div>\r\n          </React.Fragment>\r\n        ) : ''}\r\n\r\n        {/* <div className=\"row\">\r\n          <div className=\"col-12 mt-3\">\r\n            <h2 className=\"text-center pl-3 pr-3\">Подтвержденные Заказы</h2>\r\n          </div>\r\n          {confirmedOrders.length > 0 ? (renderConfirmedOrders) : <h2>Нет подтвержденных заказов</h2>}\r\n        </div>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-12 mt-3\">\r\n            <h2 className=\"text-center pl-3 pr-3\">Принятые Заказы Пользователя</h2>\r\n          </div>\r\n          {this.state.acceptedOrders.length > 0 ? (renderAcceptedOrders) : <h2>Нет заказов</h2>}\r\n        </div> */}\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  order: state.order,\r\n  disinfector: state.disinfector,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps)(withRouter(ShowDisinfStats));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from '../common/Spinner';\r\nimport Moment from 'react-moment';\r\n\r\nimport { clearStatsData } from '../../actions/adminActions';\r\nimport { getDisinfectorStats } from '../../actions/disinfectorActions';\r\nimport monthsNames from '../common/monthNames';\r\nimport getMonthAndYearLabels from '../../utils/monthAndYearLabels';\r\nimport returnMonthAndYear from '../../utils/returnMonthAndYear';\r\n\r\nimport ShowDisinfStats from './ShowDisinfStats';\r\n\r\n\r\nimport { getWeekDays, getWeekRange } from '../common/weekFunc';\r\nimport DayPicker from 'react-day-picker';\r\nimport 'react-day-picker/lib/style.css';\r\n\r\n\r\nclass DisinfStats extends Component {\r\n  state = {\r\n    month: '',\r\n    year: '',\r\n    day: '',\r\n\r\n    // // to display month and year in heading h2\r\n    headingMonth: '',\r\n    headingYear: '',\r\n    headingDay: '',\r\n\r\n    hoverRange: undefined,\r\n    selectedDays: [],\r\n  };\r\n\r\n  componentWillMount() {\r\n    this.props.clearStatsData();\r\n  }\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  getMonthStats = (e) => {\r\n    e.preventDefault();\r\n\r\n    const object = {\r\n      id: this.props.auth.user.id,\r\n      type: 'month',\r\n      month: this.state.month,\r\n      year: this.state.year\r\n    };\r\n\r\n    this.props.getDisinfectorStats(object);\r\n    // this.props.getMonthStats(this.props.auth.user.id, this.state.month, this.state.year);\r\n\r\n    this.setState({\r\n      headingMonth: this.state.month,\r\n      headingYear: this.state.year\r\n    });\r\n  }\r\n\r\n  getSpecificMonthStats = (param) => {\r\n    const { month, year } = returnMonthAndYear(param);\r\n\r\n    const object = {\r\n      id: this.props.auth.user.id,\r\n      type: 'month', month, year\r\n    };\r\n\r\n    this.props.getDisinfectorStats(object);\r\n\r\n    this.setState({\r\n      headingMonth: month,\r\n      headingYear: year\r\n    });\r\n  };\r\n\r\n  getDayStats = (e) => {\r\n    e.preventDefault();\r\n\r\n    let object = {\r\n      id: this.props.auth.user.id,\r\n      type: 'day',\r\n      day: this.state.day\r\n    };\r\n\r\n    this.props.getDisinfectorStats(object);\r\n    // this.props.getDayStats(object);\r\n\r\n    this.setState({\r\n      headingDay: this.state.day.split('-').reverse().join('-')\r\n    });\r\n  }\r\n\r\n\r\n  // weekly calendar\r\n  handleDayChange = (date) => {\r\n    let object = {\r\n      id: this.props.auth.user.id,\r\n      type: 'week',\r\n      days: getWeekDays(getWeekRange(date).from)\r\n    };\r\n\r\n    this.props.getDisinfectorStats(object);\r\n    // this.props.getWeekStats(this.props.auth.user.id, getWeekDays(getWeekRange(date).from));\r\n\r\n    this.setState({\r\n      selectedDays: getWeekDays(getWeekRange(date).from)\r\n    });\r\n  };\r\n\r\n  handleDayEnter = (date) => {\r\n    this.setState({\r\n      hoverRange: getWeekRange(date)\r\n    });\r\n  };\r\n\r\n  handleDayLeave = () => {\r\n    this.setState({\r\n      hoverRange: undefined\r\n    });\r\n  };\r\n\r\n  handleWeekClick = (weekNumber, days, e) => {\r\n    let object = {\r\n      id: this.props.auth.user.id,\r\n      type: 'week',\r\n      days: getWeekDays(getWeekRange(days[0]).from)\r\n    };\r\n\r\n    this.props.getDisinfectorStats(object);\r\n    // this.props.getWeekStats(this.props.auth.user.id, getWeekDays(getWeekRange(days[0]).from));\r\n\r\n    this.setState({\r\n      selectedDays: getWeekDays(getWeekRange(days[0]).from)\r\n    });\r\n  };\r\n  // end of weekly calendar\r\n\r\n\r\n  render() {\r\n    const { monthLabels, yearLabels } = getMonthAndYearLabels();\r\n\r\n    const yearsOptions = yearLabels.map((year, index) =>\r\n      <option value={year.value} key={index}>{year.label}</option>\r\n    );\r\n    const monthOptions = monthLabels.map((month, index) =>\r\n      <option value={month.value} key={index}>{month.label}</option>\r\n    );\r\n\r\n\r\n    // weekly calender\r\n    const { hoverRange, selectedDays } = this.state;\r\n\r\n    const daysAreSelected = selectedDays.length > 0;\r\n\r\n    const modifiers = {\r\n      hoverRange,\r\n      selectedRange: daysAreSelected && {\r\n        from: selectedDays[0],\r\n        to: selectedDays[6],\r\n      },\r\n      hoverRangeStart: hoverRange && hoverRange.from,\r\n      hoverRangeEnd: hoverRange && hoverRange.to,\r\n      selectedRangeStart: daysAreSelected && selectedDays[0],\r\n      selectedRangeEnd: daysAreSelected && selectedDays[6]\r\n    };\r\n    // end of calendar\r\n\r\n\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <h2 className=\"text-center\">Ваша статистика</h2>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-4 col-md-6 mt-3\">\r\n            <form onSubmit={this.getMonthStats} className=\"form-bg p-2\">\r\n              <h4 className=\"text-center\">Статистика по месяцам</h4>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"year\"><strong>Выберите Год:</strong></label>\r\n                <select name=\"year\" className=\"form-control\" onChange={this.onChange} required>\r\n                  {yearsOptions}\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"month\"><strong>Выберите Месяц:</strong></label>\r\n                <select name=\"month\" className=\"form-control\" onChange={this.onChange} required>\r\n                  {monthOptions}\r\n                </select>\r\n              </div>\r\n              <button type=\"submit\" className=\"btn btn-success mr-1 mt-1\"><i className=\"fas fa-search\"></i> Искать</button>\r\n\r\n              <button type=\"button\" className=\"btn btn-danger mr-1 mt-1\" onClick={() => this.getSpecificMonthStats('current')}>Этот месяц</button>\r\n\r\n              <button type=\"button\" className=\"btn btn-primary mr-1 mt-1\" onClick={() => this.getSpecificMonthStats('previous')}>Прошлый месяц</button>\r\n            </form>\r\n          </div>\r\n\r\n          <div className=\"col-lg-4 col-md-6 mt-3\">\r\n            <form onSubmit={this.getDayStats} className=\"form-bg p-2\">\r\n              <h4 className=\"text-center\">Статистика по дням</h4>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"day\"><strong>Выберите День:</strong></label>\r\n                <input type=\"date\" name=\"day\" className=\"form-control\" onChange={this.onChange} required />\r\n              </div>\r\n              <button type=\"submit\" className=\"btn btn-primary\"><i className=\"fas fa-search\"></i> Искать</button>\r\n            </form>\r\n          </div>\r\n\r\n          <div className=\"col-lg-4 col-md-6 weekly-stats mt-3\">\r\n            <div className=\"SelectedWeekExample form-bg font-weight-bold\">\r\n              <h4 className=\"text-center\">Статистика по неделям</h4>\r\n              <DayPicker\r\n                selectedDays={selectedDays}\r\n                showWeekNumbers\r\n                showOutsideDays\r\n                modifiers={modifiers}\r\n                firstDayOfWeek={1}\r\n                onDayClick={this.handleDayChange}\r\n                onDayMouseEnter={this.handleDayEnter}\r\n                onDayMouseLeave={this.handleDayLeave}\r\n                onWeekClick={this.handleWeekClick}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row mt-2\">\r\n          <div className=\"col-12\">\r\n            {this.props.disinfector.method === 'week' ?\r\n              <h2 className=\"text-center pl-3 pr-3\">Ваша Недельная статистика за <Moment format=\"DD/MM/YYYY\">{this.state.selectedDays[0]}</Moment> - <Moment format=\"DD/MM/YYYY\">{this.state.selectedDays[6]}</Moment></h2> : ''}\r\n\r\n            {this.props.disinfector.method === 'month' ?\r\n              <h2 className=\"text-center pl-3 pr-3\">Ваша Месячная Статистика за {monthsNames[this.state.headingMonth]}, {this.state.headingYear}</h2> : ''}\r\n\r\n            {this.props.disinfector.method === 'day' ?\r\n              <h2 className=\"text-center pl-3 pr-3\">Ваша Дневная Статистика за {this.state.headingDay}</h2> : ''}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            {this.props.disinfector.loadingDisinfStats ? <Spinner /> : <ShowDisinfStats />}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  admin: state.admin,\r\n  order: state.order,\r\n  disinfector: state.disinfector,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getDisinfectorStats, clearStatsData })(withRouter(DisinfStats));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from '../common/Spinner';\r\nimport Moment from 'react-moment';\r\n\r\nimport {\r\n  getOrderById,\r\n  submitCompleteOrder\r\n} from '../../actions/orderActions';\r\nimport {\r\n  getDisinfectorMaterials,\r\n  getAllDisinfectorsAndSubadmins\r\n} from '../../actions/disinfectorActions';\r\n\r\nimport materials from '../common/materials';\r\nimport removeZeros from '../../utils/removeZerosMat';\r\nimport getContractsString from '../../utils/getContractString';\r\n\r\n\r\nclass OrderComplete extends Component {\r\n  state = {\r\n    // logged in disinfector\r\n    loggedDisinf: {\r\n      disinfectorId: this.props.auth.user.id,\r\n      consumption: [{\r\n        material: '',\r\n        amount: '',\r\n        unit: ''\r\n      }]\r\n    },\r\n    loggedHelpArray: [{}],\r\n\r\n    // other disinfectors\r\n    array: [],\r\n\r\n    disinfectorAmount: 1,\r\n    paymentMethod: '',\r\n    cost: '',\r\n    inputContractFormat: 'manually',\r\n    contractNumber: '',\r\n    guarantee: '',\r\n    disinfectorComment: this.props.order.orderById.disinfectorComment,\r\n\r\n    allDisinfectors: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.getOrderById(this.props.match.params.id);\r\n    this.props.getAllDisinfectorsAndSubadmins();\r\n    this.props.getDisinfectorMaterials(this.props.auth.user.id);\r\n    window.scrollTo({ top: 0 });\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    this.setState({\r\n      allDisinfectors: nextProps.disinfector.disinfectors\r\n    });\r\n  }\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  changeContractInputFormat = (format, e) => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      inputContractFormat: format,\r\n      contractNumber: ''\r\n    });\r\n  };\r\n\r\n  changeDisinfectorAmount = (e) => {\r\n    const disinfectorAmount = Number(e.target.value);\r\n    let emptyObject = {\r\n      disinfectorId: '',\r\n      consumption: [{\r\n        material: '',\r\n        amount: '',\r\n        unit: ''\r\n      }],\r\n      helpArray: [{}]\r\n    };\r\n\r\n    // let newArray = [];\r\n    let newArray = [...this.state.array];\r\n\r\n    if (disinfectorAmount > this.state.array.length) {\r\n      for (let i = 1; i <= disinfectorAmount - this.state.array.length; i++) {\r\n        newArray.push(emptyObject);\r\n      }\r\n    } else if (disinfectorAmount < this.state.array.length) {\r\n      for (let i = 1; i <= this.state.array.length - disinfectorAmount; i++) {\r\n        newArray.pop();\r\n      }\r\n    }\r\n\r\n    // if (disinfectorAmount > 0) {\r\n    //   for (let i = 1; i <= disinfectorAmount; i++) {\r\n    //     newArray.push(emptyObject);\r\n    //   }\r\n    // }\r\n\r\n    this.setState({\r\n      array: newArray,\r\n      disinfectorAmount: disinfectorAmount\r\n    });\r\n  }\r\n\r\n\r\n  // For logged in disinfector\r\n  changeLoggedSelect = (e) => {\r\n    const index = e.target.name.split('-')[1];\r\n    let newArray = this.state.loggedDisinf;\r\n    newArray.consumption[index].material = e.target.value.split('+')[0];\r\n    newArray.consumption[index].unit = e.target.value.split('+')[1];\r\n    this.setState({\r\n      loggedDisinf: newArray\r\n    });\r\n  }\r\n\r\n  changeLoggedAmount = (e) => {\r\n    const index = e.target.name.split('-')[1];\r\n    let newArray = this.state.loggedDisinf;\r\n    newArray.consumption[index].amount = Number(e.target.value);\r\n    this.setState({\r\n      loggedDisinf: newArray\r\n    });\r\n  }\r\n\r\n  addMaterialLogged = (e) => {\r\n    e.preventDefault();\r\n    let newHelpArray = this.state.loggedHelpArray;\r\n    newHelpArray.push({});\r\n    let newArray = this.state.loggedDisinf;\r\n    newArray.consumption.push({\r\n      material: '',\r\n      amount: '',\r\n      unit: ''\r\n    });\r\n    this.setState({\r\n      loggedHelpArray: newHelpArray,\r\n      loggedDisinf: newArray\r\n    });\r\n  }\r\n\r\n  deleteMaterialLogged = (e) => {\r\n    e.preventDefault();\r\n    let newHelpArray = this.state.loggedHelpArray;\r\n    newHelpArray.pop();\r\n    let newArray = this.state.loggedDisinf;\r\n    newArray.consumption.pop();\r\n    this.setState({\r\n      loggedHelpArray: newHelpArray,\r\n      loggedDisinf: newArray\r\n    });\r\n  }\r\n\r\n\r\n  // for other disinfectors\r\n  changeDisinfector = (e) => {\r\n    const index = Number(e.target.name.split('-')[1]);\r\n    let newArray = [...this.state.array];\r\n    newArray[index] = {\r\n      ...this.state.array[index],\r\n      disinfectorId: e.target.value\r\n    };\r\n    this.setState({\r\n      array: newArray\r\n    });\r\n  }\r\n\r\n  changeSelect = (e) => {\r\n    const disinfIndex = Number(e.target.name.split('-')[1]);\r\n    const materialIndex = Number(e.target.name.split('-')[2]);\r\n    const newMaterial = e.target.value.split('+')[0];\r\n    const newUnit = e.target.value.split('+')[1];\r\n\r\n    let newArray = [...this.state.array];\r\n\r\n    newArray[disinfIndex] = {\r\n      ...this.state.array[disinfIndex],\r\n      consumption: [\r\n        ...this.state.array[disinfIndex].consumption\r\n      ]\r\n    }\r\n    newArray[disinfIndex].consumption[materialIndex] = {\r\n      ...this.state.array[disinfIndex].consumption[materialIndex],\r\n      material: newMaterial,\r\n      unit: newUnit\r\n    }\r\n\r\n    this.setState({\r\n      array: newArray\r\n    });\r\n  }\r\n\r\n  changeAmount = (e) => {\r\n    const disinfIndex = Number(e.target.name.split('-')[1]);\r\n    const materialIndex = Number(e.target.name.split('-')[2]);\r\n    const newAmount = Number(e.target.value);\r\n\r\n    let newArray = [...this.state.array];\r\n\r\n    newArray[disinfIndex] = {\r\n      ...this.state.array[disinfIndex],\r\n      consumption: [\r\n        ...this.state.array[disinfIndex].consumption\r\n      ]\r\n    }\r\n\r\n    newArray[disinfIndex].consumption[materialIndex] = {\r\n      ...this.state.array[disinfIndex].consumption[materialIndex],\r\n      amount: newAmount\r\n    }\r\n\r\n    this.setState({\r\n      array: newArray\r\n    });\r\n  }\r\n\r\n  addMatDisinf = (disinfIndex, e) => {\r\n    e.preventDefault();\r\n    const emptyElement = {\r\n      material: '',\r\n      amount: '',\r\n      unit: ''\r\n    };\r\n    let newArray = [...this.state.array];\r\n\r\n    newArray[disinfIndex] = {\r\n      ...this.state.array[disinfIndex],\r\n      consumption: [\r\n        ...this.state.array[disinfIndex].consumption, emptyElement\r\n      ],\r\n      helpArray: [\r\n        ...this.state.array[disinfIndex].helpArray, {}\r\n      ]\r\n    }\r\n    this.setState({\r\n      array: newArray\r\n    });\r\n  }\r\n\r\n  deleteMatDisinf = (disinfIndex, e) => {\r\n    e.preventDefault();\r\n\r\n    let newArray = [...this.state.array];\r\n    let newConsumption = [...newArray[disinfIndex].consumption];\r\n    let newHelpArray = [...newArray[disinfIndex].helpArray];\r\n    newConsumption.pop();\r\n    newHelpArray.pop();\r\n    newArray[disinfIndex] = {\r\n      ...this.state.array[disinfIndex],\r\n      consumption: newConsumption,\r\n      helpArray: newHelpArray\r\n    }\r\n\r\n    this.setState({\r\n      array: newArray\r\n    });\r\n  }\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    let loggedDisinfNotEnoughMat = 0,\r\n      duplicateDisinfectors = 0,\r\n      disinfNotEnoughMat = 0,\r\n      zeroValues = 0,\r\n      emptyFields = 0;\r\n\r\n    // let contractNumberEntered = 0;\r\n\r\n    // check if logged in disinfector has enough materials\r\n    this.state.loggedDisinf.consumption.forEach(item => {\r\n      // check if material fields of logged in disinfector are not empty\r\n      if (item.material === '') {\r\n        emptyFields++;\r\n      }\r\n      // check if material amount of logged in disinfector are not 0 or negative numbers\r\n      if (item.amount <= 0) {\r\n        zeroValues++;\r\n      }\r\n\r\n      this.props.auth.user.materials.forEach(element => {\r\n        if (item.material === element.material && item.unit === element.unit && item.amount > element.amount) {\r\n          loggedDisinfNotEnoughMat++;\r\n        }\r\n      })\r\n    });\r\n\r\n    // check for duplicates in disinfectors array\r\n    this.state.array.forEach((item, index) => {\r\n      for (let i = index + 1; i < this.state.array.length; i++) {\r\n        if (item.disinfectorId === this.state.array[i].disinfectorId) {\r\n          duplicateDisinfectors++;\r\n        }\r\n      }\r\n    });\r\n\r\n    // check if disinfectors have enough materials\r\n    this.state.array.forEach(item => {\r\n      this.state.allDisinfectors.forEach(disinfector => {\r\n        if (item.disinfectorId === disinfector._id) {\r\n          item.consumption.forEach(element => {\r\n            // check if material amount fields are not 0 or negative numbers\r\n            if (element.amount <= 0) {\r\n              zeroValues++;\r\n            }\r\n            // check if material fields are not empty\r\n            if (element.material === '') {\r\n              emptyFields++;\r\n            }\r\n            disinfector.materials.forEach(object => {\r\n              if (element.material === object.material && element.unit === object.unit && element.amount > object.amount) {\r\n                disinfNotEnoughMat++;\r\n              }\r\n            });\r\n          });\r\n        }\r\n      });\r\n    });\r\n\r\n\r\n    // ---------------------------------\r\n    // check if contractNumber is entered\r\n    // contractNumber is not required 24.03.2021\r\n    // if (\r\n    //   this.state.paymentMethod === 'notCash' &&\r\n    //   this.state.inputContractFormat === 'select' &&\r\n    //   this.state.contractNumber === ''\r\n    // ) {\r\n    //   contractNumberEntered++;\r\n    // }\r\n    // ---------------------------------\r\n\r\n\r\n    if (zeroValues > 0) {\r\n      alert('Количество материала не может быть нулем или отрицательным числом');\r\n    } else if (emptyFields > 0) {\r\n      alert('Заполните Все Поля \"Расход Материалов\"');\r\n    } else if (loggedDisinfNotEnoughMat > 0) {\r\n      alert('У Вас недостаточно материалов');\r\n    } else if (duplicateDisinfectors > 0) {\r\n      alert('Вы выбрали одинаковых дезинфекторов');\r\n    } else if (disinfNotEnoughMat > 0) {\r\n      alert('У дезинфекторов недостаточно материалов');\r\n      // } else if (contractNumberEntered > 0) {\r\n      //   alert('Введите Номер Договора');\r\n    } else {\r\n\r\n      let paymentMethod;\r\n      if (this.props.order.orderById.clientType === 'individual') {\r\n        paymentMethod = 'cash';\r\n      } else if (this.props.order.orderById.clientType === 'corporate') {\r\n        paymentMethod = this.state.paymentMethod;\r\n      }\r\n\r\n\r\n      // нужно по умолчанию записать в order.cost (строка 379) 0 по умолчанию\r\n      let shouldCostBeZero = false;\r\n      // console.log('props', this.props.order.orderById);\r\n      // если заказ некачественный или повторный, то ставим 0 в order.cost\r\n      if (this.props.order.orderById.prevFailedOrder &&\r\n        (this.props.order.orderById.clientType === 'individual' || this.state.paymentMethod === 'cash')\r\n      ) {\r\n        shouldCostBeZero = true;\r\n      }\r\n\r\n      let newArray = [this.state.loggedDisinf, ...this.state.array];\r\n\r\n      let order = {\r\n        clientType: this.props.order.orderById.clientType,\r\n        orderId: this.props.match.params.id,\r\n        paymentMethod: paymentMethod,\r\n        cost: shouldCostBeZero ? 0 : this.state.cost,\r\n        guarantee: this.state.guarantee,\r\n        contractNumber: this.state.contractNumber || '',\r\n        disinfectorComment: this.state.disinfectorComment || '',\r\n        disinfectors: newArray\r\n      };\r\n      // console.log('order', order);\r\n      this.props.submitCompleteOrder(order, this.props.history, this.props.auth.user.occupation);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const order = this.props.order.orderById;\r\n\r\n    let consumptionMaterials = [\r\n      { label: '-- Выберите вещество --', value: \"\", unit: \"\" }\r\n    ];\r\n\r\n    materials.forEach(item => {\r\n      consumptionMaterials.push({\r\n        label: item.material,\r\n        value: item.material,\r\n        unit: item.unit\r\n      })\r\n    });\r\n\r\n    const consumptionOptions = consumptionMaterials.map((option, index) =>\r\n      <option value={`${option.value}+${option.unit}`} key={index}>{option.label} {option.unit}</option>\r\n    );\r\n\r\n\r\n    let disinfectorAmountOptions = [\r\n      { label: '-- Сколько дезинфекторов (кроме Вас) выполнили заказ? --', value: \"\" },\r\n      { label: 'Заказ выполнили только Вы', value: 0 }\r\n    ];\r\n\r\n    let disinfectorSelectOptions = [\r\n      { label: '-- Выберите Дезинфектора -- ', value: \"\" }\r\n    ];\r\n\r\n\r\n\r\n\r\n    this.state.allDisinfectors.forEach((user, index) => {\r\n      disinfectorAmountOptions.push({\r\n        label: index + 1, value: index + 1\r\n      });\r\n\r\n      // do not include logged in disinfector to disinfector select options\r\n      if (user._id !== this.props.auth.user.id) {\r\n        disinfectorSelectOptions.push({\r\n          label: `${user.occupation} ${user.name}`, value: user._id\r\n        });\r\n      }\r\n    });\r\n\r\n\r\n\r\n    // TO CONSIDER\r\n\r\n    // let renderDisinfectorMaterials = this.state.allDisinfectors.map((user, index) => {\r\n\r\n    //   let renderItems = user.materials.map((item, i) =>\r\n    //     <li key={i}>{item.material}: {item.amount} {item.unit}</li>\r\n    //   );\r\n\r\n    //   return (\r\n    //     <div className=\"col-md-4\" key={index}>\r\n    //       <div className=\"card order mt-2\">\r\n    //         <div className=\"card-body p-0\">\r\n    //           <h3 className=\"text-center\">Материалы {user.occupation} {user.name}</h3>\r\n    //           <ul className=\"font-bold mb-0\">\r\n    //             {renderItems}\r\n    //           </ul>\r\n    //         </div>\r\n    //       </div>\r\n    //     </div>\r\n    //   )\r\n    // });\r\n    // TO CONSIDER\r\n\r\n\r\n\r\n    let renderDisinfectorAmountOptions = disinfectorAmountOptions.map((item, number) =>\r\n      <option value={item.value} key={number}>{item.label}</option>\r\n    );\r\n    let renderDisinfOptions = disinfectorSelectOptions.map((item, number) =>\r\n      <option value={item.value} key={number}>{item.label}</option>\r\n    );\r\n\r\n    // render logged in disinfector materials\r\n    let loggedMat = removeZeros([...this.props.auth.user.materials]);\r\n    let loggedDisinfMaterials = loggedMat.map((item, index) =>\r\n      <li key={index}>{item.material}: {item.amount} {item.unit}</li>\r\n    );\r\n\r\n\r\n    let renderLoggedDisinfForm = this.state.loggedHelpArray.map((item, index) =>\r\n      <React.Fragment key={index}>\r\n        <div className=\"form-group\">\r\n          <select name={`loggedConsumption-${index}`} className=\"form-control\" onChange={this.changeLoggedSelect} required>\r\n            {consumptionOptions}\r\n          </select>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor={`loggedQuantity-${index}`}>Количество:</label>\r\n          <input\r\n            type=\"number\"\r\n            step=\"0.001\"\r\n            className=\"form-control\"\r\n            name={`loggedQuantity-${index}`}\r\n            onChange={this.changeLoggedAmount}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"border-bottom-red\"></div>\r\n      </React.Fragment>\r\n    );\r\n\r\n\r\n    let renderDisinfForms = this.state.array.map((item, index) => {\r\n      let renderFields = item.helpArray.map((element, number) =>\r\n        <React.Fragment key={number}>\r\n          <div className=\"form-group\">\r\n            <select name={`consumption-${index}-${number}`} className=\"form-control\" onChange={this.changeSelect} required>\r\n              {consumptionOptions}\r\n            </select>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor={`quantity-${index}-${number}`}>Количество:</label>\r\n            <input\r\n              type=\"number\"\r\n              step=\"0.001\"\r\n              className=\"form-control\"\r\n              name={`quantity-${index}-${number}`}\r\n              onChange={this.changeAmount}\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div className=\"border-bottom-red\"></div>\r\n        </React.Fragment>\r\n      );\r\n\r\n      return (\r\n        <React.Fragment key={index}>\r\n          <h3>Дезинфектор {index + 1}</h3>\r\n          <div className=\"form-group\">\r\n            <select name={`dis-${index}`} className=\"form-control\" onChange={this.changeDisinfector} required>\r\n              {renderDisinfOptions}\r\n            </select>\r\n          </div>\r\n          {renderFields}\r\n\r\n          {item.helpArray.length < materials.length ? <button className=\"btn btn-primary mr-2 mt-2\" onClick={this.addMatDisinf.bind(this, index)}>Добавить Материал</button> : ''}\r\n\r\n          {item.helpArray.length === 1 ? '' : <button className=\"btn btn-danger mt-2\" onClick={this.deleteMatDisinf.bind(this, index)}>Удалить последний материал</button>}\r\n\r\n          <div className=\"border-bottom\"></div>\r\n        </React.Fragment>\r\n      );\r\n    });\r\n\r\n\r\n\r\n    // IF THIS IS A RETURNED QUERY\r\n    let renderReturnedOrder = '';\r\n    if (order.returnedBack && !order.returnHandled) {\r\n      let consumptionArray = [];\r\n      order.disinfectors.forEach(item => {\r\n        consumptionArray.push({\r\n          user: item.user,\r\n          consumption: item.consumption\r\n        });\r\n      });\r\n\r\n      let consumptionRender = consumptionArray.map((item, index) =>\r\n        <li key={index}>\r\n          <p className=\"mb-0\">Пользователь: {item.user.occupation} {item.user.name}</p>\r\n          {item.consumption.map((element, number) =>\r\n            <p key={number} className=\"mb-0\">{element.material}: {element.amount.toLocaleString()} {element.unit}</p>\r\n          )}\r\n        </li>\r\n      );\r\n\r\n      renderReturnedOrder = (\r\n        <div className=\"col-lg-4 col-md-6\">\r\n          <div className=\"card order mt-2\">\r\n            <div className=\"card-body p-0\">\r\n              <ul className=\"font-bold mb-0 list-unstyled\">\r\n                <h4>Это возвращенный заказ</h4>\r\n                <li>В прошлый раз вы заполняли форму выполнения:</li>\r\n\r\n                <li>Расход Материалов (заказ выполнили {order.disinfectors.length} чел):</li>\r\n                <ul className=\"font-bold mb-0\">\r\n                  {consumptionRender}\r\n                </ul>\r\n\r\n                <li>Срок гарантии (в месяцах): {order.guarantee}</li>\r\n\r\n                {order.clientType === 'corporate' ? (\r\n                  <React.Fragment>\r\n                    {order.paymentMethod === 'cash' ? (\r\n                      <React.Fragment>\r\n                        <li>Тип Платежа: Наличный</li>\r\n                        <li>Общая Сумма: {order.cost.toLocaleString()} UZS (каждому по {(order.cost / order.disinfectors.length).toLocaleString()} UZS)</li>\r\n                      </React.Fragment>\r\n                    ) : (\r\n                      <React.Fragment>\r\n                        <li>Тип Платежа: Безналичный</li>\r\n                        <li>Номер Договора: {order.contractNumber}</li>\r\n                      </React.Fragment>\r\n                    )}\r\n                  </React.Fragment>\r\n                ) : ''}\r\n\r\n                {order.clientType === 'individual' ?\r\n                  <li>Общая Сумма: {order.cost.toLocaleString()} UZS  (каждому по {(order.cost / order.disinfectors.length).toLocaleString()} UZS)</li>\r\n                  : ''}\r\n\r\n                <li>Форма Выполнения Заказа была заполнена: <Moment format=\"DD/MM/YYYY HH:mm\">{order.completedAt}</Moment></li>\r\n\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    // END OF IF THIS IS A RETURNED QUERY\r\n\r\n\r\n\r\n    let contractNumbers = [];\r\n    if (order.clientType === 'corporate' && order.clientId && order.clientId.contracts) {\r\n      contractNumbers = [...order.clientId.contracts];\r\n    }\r\n    let renderContractOptions = contractNumbers.map((item, key) =>\r\n      <option value={item} key={key}>{item}</option>\r\n    );\r\n\r\n\r\n    return (\r\n      <div className=\"container-fluid p-0\">\r\n        {this.props.order.loading ? <Spinner /> : (\r\n          <React.Fragment>\r\n            <div className=\"row m-0\">\r\n              <div className=\"col-12\">\r\n                <h2 className=\"text-center\">Информация о заказе</h2>\r\n              </div>\r\n\r\n              <div className=\"col-lg-4 col-md-6\">\r\n                <div className=\"card order mt-2\">\r\n                  <div className=\"card-body p-0\">\r\n                    <ul className=\"font-bold mb-0 list-unstyled\">\r\n                      {order.prevFailedOrder && <h3><i className=\"fas fas fa-exclamation\"></i> Повторный заказ <i className=\"fas fas fa-exclamation\"></i></h3>}\r\n\r\n                      {order.failed && <h3><i className=\"fas fas fa-exclamation\"></i> Некачественный заказ <i className=\"fas fas fa-exclamation\"></i></h3>}\r\n\r\n                      {order.disinfectorId && (\r\n                        <li>Ответственный: {order.disinfectorId.occupation} {order.disinfectorId.name}</li>\r\n                      )}\r\n\r\n                      {order.clientType === 'corporate' ? (\r\n                        <React.Fragment>\r\n                          {order.clientId ? (\r\n                            <React.Fragment>\r\n                              <li className=\"text-danger\">Корпоративный Клиент: {order.clientId.name}</li>\r\n                              <li className=\"text-danger\">ИНН: {order.clientId.inn || '--'}</li>\r\n                              <li className=\"text-danger\">Номера Договоров: {getContractsString(contractNumbers)}</li>\r\n                            </React.Fragment>\r\n                          ) : <li className=\"text-danger\">Корпоративный Клиент</li>}\r\n                          <li className=\"text-danger\">Имя клиента: {order.client}</li>\r\n                        </React.Fragment>\r\n                      ) : ''}\r\n\r\n                      {order.clientType === 'individual' ?\r\n                        <li className=\"text-danger\">Физический Клиент: {order.client}</li> : ''\r\n                      }\r\n\r\n                      <li className=\"text-danger\">Телефон Клиента: {order.phone}</li>\r\n                      {order.phone2 !== '' ? <li>Запасной Телефон Клиента: {order.phone2}</li> : ''}\r\n                      <li className=\"text-danger\">Дата: <Moment format=\"DD/MM/YYYY\">{order.dateFrom}</Moment></li>\r\n                      <li className=\"text-danger\">Время выполнения: <Moment format=\"HH:mm\">{order.dateFrom}</Moment></li>\r\n                      <li className=\"text-danger\">Адрес: {order.address}</li>\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"col-lg-4 col-md-6\">\r\n                <div className=\"card order mt-2\">\r\n                  <div className=\"card-body p-0\">\r\n                    <ul className=\"font-bold mb-0 list-unstyled\">\r\n                      <li className=\"text-danger\">Тип услуги: {order.typeOfService}</li>\r\n                      <li>Комментарии Оператора: {order.comment ? order.comment : '--'}</li>\r\n                      <li>Комментарии Дезинфектора: {order.disinfectorComment ? order.disinfectorComment : '--'}</li>\r\n\r\n                      {order.userAcceptedOrder ? (\r\n                        <li>Заказ принял: {order.userAcceptedOrder.occupation} {order.userAcceptedOrder.name}</li>\r\n                      ) : ''}\r\n\r\n                      {order.userCreated ? (\r\n                        <li>Заказ Добавлен: {order.userCreated.occupation} {order.userCreated.name} <Moment format=\"DD/MM/YYYY HH:mm\">{order.createdAt}</Moment></li>\r\n                      ) : ''}\r\n\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {order.returnedBack ? renderReturnedOrder : ''}\r\n            </div>\r\n\r\n            <div className=\"row m-0\">\r\n              <div className=\"col-md-4\">\r\n                <div className=\"card order mt-2\">\r\n                  <div className=\"card-body p-0\">\r\n                    <h4 className=\"text-center\">Ваши имеющиеся Материалы</h4>\r\n                    <ul className=\"font-bold mb-0 list-unstyled\">\r\n                      {loggedDisinfMaterials}\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* {renderDisinfectorMaterials} */}\r\n            </div>\r\n\r\n            <div className=\"row m-0\">\r\n              <div className=\"col-lg-6 col-md-8 m-auto\">\r\n                <div className=\"card mt-3 mb-3\">\r\n                  <div className=\"card-body\">\r\n                    <h3 className=\"text-center\">Форма о Выполнении Заказа</h3>\r\n                    <form onSubmit={this.onSubmit}>\r\n                      <div className=\"form-group\">\r\n                        <select name=\"disinfectorAmount\" className=\"form-control\" onChange={this.changeDisinfectorAmount.bind(this)} required>\r\n                          {renderDisinfectorAmountOptions}\r\n                        </select>\r\n                      </div>\r\n\r\n                      <div className=\"border-bottom\"></div>\r\n\r\n                      {/* for logged in desinfector */}\r\n                      <h3>Ваш Расход Материалов</h3>\r\n                      {renderLoggedDisinfForm}\r\n\r\n                      {this.state.loggedHelpArray.length < materials.length ? <button className=\"btn btn-primary mr-2 mt-2\" onClick={this.addMaterialLogged}><i className=\"fas fa-plus\"></i> Добавить Материал</button> : ''}\r\n\r\n                      {this.state.loggedHelpArray.length === 1 ? '' : <button className=\"btn btn-danger mt-2\" onClick={this.deleteMaterialLogged}><i className=\"fas fa-trash-alt\"></i> Удалить последний материал</button>}\r\n\r\n                      <div className=\"border-bottom\"></div>\r\n\r\n                      {renderDisinfForms}\r\n\r\n                      <div className=\"form-group\">\r\n                        <label htmlFor=\"disinfectorComment\">Комментарии Дезинфектора:</label>\r\n                        <textarea className=\"form-control\" name=\"disinfectorComment\" placeholder=\"Ваш комментарий\" onChange={this.onChange} rows=\"3\" defaultValue={order.disinfectorComment}></textarea>\r\n                      </div>\r\n\r\n                      <div className=\"form-group\">\r\n                        <label htmlFor=\"guarantee\">Гарантийный срок (в месяцах):</label>\r\n                        <input type=\"number\" min=\"0\" step=\"1\" className=\"form-control\" name=\"guarantee\" onChange={this.onChange} required />\r\n                      </div>\r\n\r\n                      {order.clientType === 'corporate' ?\r\n                        <div className=\"form-group\">\r\n                          <label htmlFor=\"paymentMethod\">Тип платежа:</label>\r\n                          <select name='paymentMethod' className=\"form-control\" onChange={this.onChange} required>\r\n                            <option value=\"\">-- Выберите Тип Платежа --</option>\r\n                            <option value=\"cash\">Наличный</option>\r\n                            <option value=\"notCash\">Безналичный</option>\r\n                          </select>\r\n                        </div>\r\n                        : ''}\r\n\r\n\r\n                      {/* у некачественных и повторных заказов сумма не вводится. По умолчанию ставим 0 в this.state.cost */}\r\n                      {!order.prevFailedOrder &&\r\n                        (order.clientType === 'individual' || this.state.paymentMethod === 'cash') ? (\r\n                        <div className=\"form-group\">\r\n                          <label htmlFor=\"cost\">Сумма Заказа: (в сумах)</label>\r\n                          <input type=\"number\" step=\"1\" className=\"form-control\" name='cost' onChange={this.onChange} required />\r\n                        </div>\r\n                      ) : ''}\r\n\r\n\r\n                      {order.clientType === 'corporate' && this.state.paymentMethod === 'notCash' ?\r\n                        <React.Fragment>\r\n                          {this.state.inputContractFormat === 'manually' ? (\r\n                            <button className=\"btn btn-primary mt-2\"\r\n                              onClick={this.changeContractInputFormat.bind(this, 'select')}\r\n                            >Выбрать Номер Договора из списка</button>\r\n                          ) : (\r\n                            <button className=\"btn btn-primary mt-2\"\r\n                              onClick={this.changeContractInputFormat.bind(this, 'manually')}\r\n                            >Ввести Номер Договора Вручную</button>\r\n                          )}\r\n\r\n                          {this.state.inputContractFormat === 'manually' && (\r\n                            <div className=\"form-group mt-3\">\r\n                              <label htmlFor=\"contractNumber\">Номер Договора (это поле необязательное):</label>\r\n                              {/* <input type=\"text\" className=\"form-control\" name='contractNumber' onChange={this.onChange} required /> */}\r\n\r\n                              {/* contractNumber is not required */}\r\n                              <input type=\"text\" className=\"form-control\" name='contractNumber' onChange={this.onChange} />\r\n                            </div>\r\n                          )}\r\n\r\n                          {this.state.inputContractFormat === 'select' && (\r\n                            <React.Fragment>\r\n                              {contractNumbers.length === 0 ? (\r\n                                <h4>У клиента нет номеров договора. Введите вручную</h4>\r\n                              ) : (\r\n                                <div className=\"form-group mt-3\">\r\n                                  <label htmlFor=\"contractNumber\">Выберите Номер Договора Клиента:</label>\r\n                                  <select name='contractNumber' className=\"form-control\" onChange={this.onChange} required>\r\n                                    <option value=\"\">-- Выберите Тип Платежа --</option>\r\n                                    {renderContractOptions}\r\n                                  </select>\r\n                                </div>\r\n                              )}\r\n                            </React.Fragment>\r\n                          )}\r\n\r\n                        </React.Fragment>\r\n                        : ''}\r\n\r\n                      <div className=\"border-bottom\"></div>\r\n\r\n                      <button className=\"btn btn-success mt-3\"><i className=\"fas fa-envelope-open-text\"></i> Отправить Запрос О Выполнении</button>\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </React.Fragment>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  order: state.order,\r\n  disinfector: state.disinfector,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getOrderById, getDisinfectorMaterials, getAllDisinfectorsAndSubadmins, submitCompleteOrder })(withRouter(OrderComplete));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from '../common/Spinner';\r\n\r\nimport materials from '../common/materials';\r\n\r\nimport removeZeros from '../../utils/removeZerosMat';\r\nimport { getDisinfectorMaterials, disAddMatToOther } from '../../actions/disinfectorActions';\r\nimport { getAllDisinfectorsAndSubadmins } from '../../actions/adminActions';\r\n\r\nclass DisMaterials extends Component {\r\n  state = {\r\n    array: [{}],\r\n    materials: [\r\n      {\r\n        material: '',\r\n        amount: 0,\r\n        unit: ''\r\n      }\r\n    ],\r\n    disinfector: ''\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.getDisinfectorMaterials(this.props.auth.user.id);\r\n    this.props.getAllDisinfectorsAndSubadmins();\r\n    window.scrollTo({ top: 0 });\r\n  }\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  changeSelect = (e) => {\r\n    const index = e.target.name.split('-')[1];\r\n    let newMaterialsArray = this.state.materials;\r\n    newMaterialsArray[index].material = e.target.value.split('+')[0];\r\n    newMaterialsArray[index].unit = e.target.value.split('+')[1];\r\n    this.setState({\r\n      materials: newMaterialsArray\r\n    });\r\n  }\r\n\r\n  changeAmount = (e) => {\r\n    const index = e.target.name.split('-')[1];\r\n    let newMaterialsArray = this.state.materials;\r\n    newMaterialsArray[index].amount = Number(e.target.value);\r\n    this.setState({\r\n      materials: newMaterialsArray\r\n    });\r\n  }\r\n\r\n  addMaterial = (e) => {\r\n    e.preventDefault();\r\n    let newArray = this.state.array;\r\n    newArray.push({});\r\n    let newMaterialsArray = this.state.materials;\r\n    newMaterialsArray.push({\r\n      material: '',\r\n      amount: 0,\r\n      unit: ''\r\n    });\r\n    this.setState({\r\n      array: newArray,\r\n      materials: newMaterialsArray\r\n    });\r\n  }\r\n\r\n  deleteMaterial = (e) => {\r\n    e.preventDefault();\r\n    let newArray = this.state.array;\r\n    newArray.pop();\r\n    let newMaterialsArray = this.state.materials;\r\n    newMaterialsArray.pop();\r\n    this.setState({\r\n      array: newArray,\r\n      materials: newMaterialsArray\r\n    });\r\n  }\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    let emptyFields = 0, notEnoughMaterials = 0, zeroValues = 0;\r\n    this.state.materials.forEach(item => {\r\n      if (item.material === '') {\r\n        emptyFields++;\r\n      }\r\n      if (item.amount <= 0) {\r\n        zeroValues++;\r\n      }\r\n      this.props.auth.user.materials.forEach(element => {\r\n        if (item.material === element.material && item.unit === element.unit && item.amount > element.amount) {\r\n          notEnoughMaterials++;\r\n          return;\r\n        }\r\n      });\r\n    });\r\n\r\n    if (emptyFields > 0) {\r\n      alert('Заполните Поле \"Выберите Материал и Количество\"');\r\n    } else if (zeroValues > 0) {\r\n      alert('Количество Материала не может быть нулем или отрицательнам числом');\r\n    } else if (notEnoughMaterials > 0) {\r\n      alert('У вас недостаточно материалов');\r\n    } else {\r\n      const object = {\r\n        disinfector: this.state.disinfector,\r\n        admin: this.props.auth.user.id,\r\n        materials: this.state.materials\r\n      };\r\n      this.props.disAddMatToOther(object, this.props.auth.user.occupation, this.props.history);\r\n      this.props.getAllDisinfectorsAndSubadmins();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let currentMaterials = removeZeros(this.props.auth.user.materials).map((item, index) =>\r\n      <li key={index}>{item.material}: {item.amount.toLocaleString()} {item.unit}</li>\r\n    );\r\n\r\n    let disinfectorOptions = [\r\n      { label: '-- Выберите пользователя --', value: \"\" }\r\n    ];\r\n\r\n    // all disinfectors except for the logged in disinfector\r\n    let disinfectors = this.props.admin.disinfectors.filter(item => item._id.toString() !== this.props.auth.user.id);\r\n\r\n    let showDisinfectors = disinfectors.map((item, index) => {\r\n\r\n      disinfectorOptions.push({\r\n        label: `${item.occupation} ${item.name}`, value: item._id\r\n      });\r\n\r\n      let disinfectorMaterials = removeZeros(item.materials).map((material, number) =>\r\n        <li key={number}>{material.material}: {material.amount} {material.unit}</li>\r\n      );\r\n\r\n      return (\r\n        <div className=\"col-lg-4 col-md-6\" key={index}>\r\n          <div className=\"card order mt-2\">\r\n            <div className=\"card-body p-0\">\r\n              <ul className=\"font-bold mb-0 list-unstyled\">\r\n                <h4 className=\"text-center\">{item.occupation} {item.name}</h4>\r\n                <p className=\"mb-0\">Имеется в наличии материалов:</p>\r\n                <ul>\r\n                  {disinfectorMaterials}\r\n                </ul>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )\r\n    });\r\n\r\n    let consumptionMaterials = [\r\n      { label: '-- Выберите вещество --', value: \"\", unit: \"\" }\r\n    ];\r\n\r\n    materials.forEach(item => {\r\n      consumptionMaterials.push({\r\n        label: item.material,\r\n        value: item.material,\r\n        unit: item.unit\r\n      })\r\n    });\r\n\r\n    const materialOptions = consumptionMaterials.map((option, index) =>\r\n      <option value={`${option.value}+${option.unit}`} key={index}>{option.label} {option.unit}</option>\r\n    );\r\n\r\n    let renderMaterials = this.state.array.map((item, index) =>\r\n      <React.Fragment key={index}>\r\n        <div className=\"form-group\">\r\n          <select name={`consumption-${index}`} className=\"form-control\" onChange={this.changeSelect} required>\r\n            {materialOptions}\r\n          </select>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor={`quantity-${index}`}>Количество:</label>\r\n          <input\r\n            type=\"number\"\r\n            step=\"0.001\"\r\n            className=\"form-control\"\r\n            name={`quantity-${index}`}\r\n            onChange={this.changeAmount}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"border-bottom-red\"></div>\r\n      </React.Fragment>\r\n    );\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"container-fluid\">\r\n          {this.props.auth.loadingUser ? <Spinner /> : (\r\n            <div className=\"row\">\r\n              <div className=\"col-12\">\r\n                <h3 className=\"text-center\">Ваши имеющиеся материалы</h3>\r\n              </div>\r\n\r\n              <div className=\"col-lg-6 col-md-8 mx-auto\">\r\n                <div className=\"card order\">\r\n                  <div className=\"card-body p-0\">\r\n                    <ul className=\"font-bold mb-0 list-unstyled\">\r\n                      {currentMaterials}\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"row mt-3\">\r\n            <div className=\"col-12\">\r\n              <h3 className=\"text-center\">Материалы у пользователей</h3>\r\n            </div>\r\n          </div>\r\n\r\n          {this.props.admin.loadingDisinfectors ? <Spinner /> :\r\n            <div className=\"row mt-2\">\r\n              {showDisinfectors}\r\n            </div>\r\n          }\r\n\r\n          <div className=\"row mt-3\">\r\n            <div className=\"col-lg-6 col-md-8 mx-auto\">\r\n              <div className=\"card mt-2\">\r\n                <div className=\"card-body\">\r\n                  <h2 className=\"text-center\">Добавить Материалы Пользователю</h2>\r\n                  <form onSubmit={this.onSubmit}>\r\n                    <div className=\"form-group\">\r\n                      <label htmlFor=\"disinfector\">Выберите Пользователя:</label>\r\n                      {this.props.admin.loadingDisinfectors ? (\r\n                        <p>Дезинфекторы загружаются...</p>\r\n                      ) : (\r\n                        <select value={this.state.disinfector} name=\"disinfector\" className=\"form-control\" onChange={this.onChange} required>\r\n                          {disinfectorOptions.map((item, index) =>\r\n                            <option value={item.value} key={index}>{item.label}</option>\r\n                          )}\r\n                        </select>\r\n                      )}\r\n                    </div>\r\n\r\n                    <label htmlFor=\"consumption\">Выберите Материал и Количество:</label>\r\n                    {renderMaterials}\r\n\r\n                    {this.state.array.length < materials.length ? <button className=\"btn btn-primary mr-2 mt-2\" onClick={this.addMaterial}><i className=\"fas fa-plus\"></i> Добавить Материал</button> : ''}\r\n\r\n                    {this.state.array.length === 1 ? '' : <button className=\"btn btn-danger mt-2\" onClick={this.deleteMaterial}><i className=\"fas fa-trash-alt\"></i> Удалить последний материал</button>}\r\n\r\n                    <div className=\"border-bottom\"></div>\r\n\r\n                    <button type=\"submit\" className=\"btn btn-success\"><i className=\"fas fa-plus-circle\"></i> Добавить Пользователю</button>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  admin: state.admin,\r\n  order: state.order,\r\n  disinfector: state.disinfector,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getDisinfectorMaterials, getAllDisinfectorsAndSubadmins, disAddMatToOther })(withRouter(DisMaterials));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Moment from 'react-moment';\r\n\r\nimport materials from '../common/materials';\r\nimport removeZeros from '../../utils/removeZerosMat';\r\n\r\nclass ShowDisMatComings extends Component {\r\n  state = {\r\n    comings: this.props.disinfector.matComing\r\n  };\r\n\r\n  render() {\r\n    const { comings } = this.state;\r\n    let totalMatComing = [];\r\n\r\n    materials.forEach(item => {\r\n      totalMatComing.push({\r\n        material: item.material,\r\n        amount: 0,\r\n        unit: item.unit\r\n      });\r\n    });\r\n\r\n    comings.forEach(thing => {\r\n      thing.materials.forEach(item => {\r\n        totalMatComing.forEach(element => {\r\n          if (item.material === element.material && item.unit === element.unit) {\r\n            element.amount += item.amount;\r\n          }\r\n        });\r\n      });\r\n    });\r\n\r\n    // remove materials with amount of 0\r\n    totalMatComing = removeZeros(totalMatComing);\r\n\r\n    let renderTotal = totalMatComing.map((item, index) =>\r\n      <li key={index}>{item.material}: {item.amount.toLocaleString()} {item.unit}</li>\r\n    );\r\n\r\n    let renderComings = comings.map((item, index) => {\r\n      let renderMaterials = item.materials.map((element, number) =>\r\n        <li key={number}>{element.material}: {element.amount.toLocaleString()} {element.unit}</li>\r\n      );\r\n\r\n      return (\r\n        <div className=\"col-lg-4 col-md-6\" key={index}>\r\n          <div className=\"card order mt-2\">\r\n            <div className=\"card-body p-0\">\r\n              <ul className=\"font-bold mb-0 list-unstyled\">\r\n                <li>Кто Вам Раздал: {item.admin.occupation} {item.admin.name}</li>\r\n                <li>Дата: <Moment format=\"DD/MM/YYYY HH:mm\">{item.createdAt}</Moment></li>\r\n                <li>Материалы:</li>\r\n                <ul>\r\n                  {renderMaterials}\r\n                </ul>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <React.Fragment>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-5 col-md-7 m-auto\">\r\n            <div className=\"card order mt-2\">\r\n              <div className=\"card-body p-0\">\r\n                <h4 className=\"text-center\">Общий Приход Материалов за этот период:</h4>\r\n                <ul className=\"font-bold mb-0 list-unstyled\">\r\n                  {renderTotal}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row mt-3\">\r\n          {renderComings}\r\n        </div>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  admin: state.admin,\r\n  disinfector: state.disinfector,\r\n  subadmin: state.subadmin,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, {})(withRouter(ShowDisMatComings));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from '../common/Spinner';\r\nimport Moment from 'react-moment';\r\n\r\nimport { getUserMatComing } from '../../actions/disinfectorActions';\r\nimport monthsNames from '../common/monthNames';\r\nimport getMonthAndYearLabels from '../../utils/monthAndYearLabels';\r\nimport returnMonthAndYear from '../../utils/returnMonthAndYear';\r\n\r\nimport ShowDisMatComings from './ShowDisMatComings';\r\n\r\n\r\nimport { getWeekDays, getWeekRange } from '../common/weekFunc';\r\nimport DayPicker from 'react-day-picker';\r\nimport 'react-day-picker/lib/style.css';\r\n\r\n\r\nclass DisMatCom extends Component {\r\n  state = {\r\n    month: '',\r\n    year: '',\r\n\r\n    method: '',\r\n\r\n    // // to display month and year in heading h2\r\n    headingMonth: '',\r\n    headingYear: '',\r\n\r\n    hoverRange: undefined,\r\n    selectedDays: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    const thisMonth = new Date().getMonth();\r\n    const thisYear = new Date().getFullYear();\r\n    const object = {\r\n      userId: this.props.auth.user.id,\r\n      type: 'month',\r\n      month: thisMonth,\r\n      year: thisYear\r\n    };\r\n    this.props.getUserMatComing(object);\r\n    this.setState({\r\n      headingMonth: thisMonth,\r\n      headingYear: thisYear,\r\n      method: 'month'\r\n    });\r\n  }\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  getMonthStats = (e) => {\r\n    e.preventDefault();\r\n\r\n    const object = {\r\n      userId: this.props.auth.user.id,\r\n      type: 'month',\r\n      month: this.state.month,\r\n      year: this.state.year\r\n    };\r\n    this.props.getUserMatComing(object);\r\n\r\n    this.setState({\r\n      headingMonth: this.state.month,\r\n      headingYear: this.state.year,\r\n      method: 'month'\r\n    });\r\n  }\r\n\r\n  getSpecificMonthStats = (param) => {\r\n    const { month, year } = returnMonthAndYear(param);\r\n\r\n    const object = {\r\n      userId: this.props.auth.user.id,\r\n      type: 'month', month, year\r\n    };\r\n\r\n    this.props.getUserMatComing(object);\r\n\r\n    this.setState({\r\n      headingMonth: month,\r\n      headingYear: year,\r\n      method: 'month'\r\n    });\r\n  };\r\n\r\n\r\n  // weekly calendar\r\n  handleDayChange = date => {\r\n    const object = {\r\n      userId: this.props.auth.user.id,\r\n      type: 'week',\r\n      days: getWeekDays(getWeekRange(date).from)\r\n    };\r\n    this.props.getUserMatComing(object);\r\n\r\n    this.setState({\r\n      selectedDays: getWeekDays(getWeekRange(date).from),\r\n      method: 'week'\r\n    });\r\n  };\r\n\r\n  handleDayEnter = date => {\r\n    this.setState({\r\n      hoverRange: getWeekRange(date)\r\n    });\r\n  };\r\n\r\n  handleDayLeave = () => {\r\n    this.setState({\r\n      hoverRange: undefined\r\n    });\r\n  };\r\n\r\n  handleWeekClick = (weekNumber, days, e) => {\r\n    const object = {\r\n      userId: this.props.auth.user.id,\r\n      type: 'week',\r\n      days: getWeekDays(getWeekRange(days[0]).from)\r\n    };\r\n    this.props.getUserMatComing(object);\r\n\r\n    this.setState({\r\n      selectedDays: getWeekDays(getWeekRange(days[0]).from),\r\n      method: 'week'\r\n    });\r\n  };\r\n  // end of weekly calendar\r\n\r\n\r\n  render() {\r\n    const { monthLabels, yearLabels } = getMonthAndYearLabels();\r\n\r\n    const yearsOptions = yearLabels.map((year, index) =>\r\n      <option value={year.value} key={index}>{year.label}</option>\r\n    );\r\n    const monthOptions = monthLabels.map((month, index) =>\r\n      <option value={month.value} key={index}>{month.label}</option>\r\n    );\r\n\r\n\r\n    // weekly calender\r\n    const { hoverRange, selectedDays } = this.state;\r\n\r\n    const daysAreSelected = selectedDays.length > 0;\r\n\r\n    const modifiers = {\r\n      hoverRange,\r\n      selectedRange: daysAreSelected && {\r\n        from: selectedDays[0],\r\n        to: selectedDays[6],\r\n      },\r\n      hoverRangeStart: hoverRange && hoverRange.from,\r\n      hoverRangeEnd: hoverRange && hoverRange.to,\r\n      selectedRangeStart: daysAreSelected && selectedDays[0],\r\n      selectedRangeEnd: daysAreSelected && selectedDays[6]\r\n    };\r\n    // end of calendar\r\n\r\n\r\n    return (\r\n      <div className=\"container-fluid\" >\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-4 col-md-6 mt-3\">\r\n            <form onSubmit={this.getMonthStats} className=\"form-bg p-2\">\r\n              <h4 className=\"text-center\">Приход Материалов по месяцам</h4>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"year\"><strong>Выберите Год:</strong></label>\r\n                <select name=\"year\" className=\"form-control\" onChange={this.onChange} required>\r\n                  {yearsOptions}\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"month\"><strong>Выберите Месяц:</strong></label>\r\n                <select name=\"month\" className=\"form-control\" onChange={this.onChange} required>\r\n                  {monthOptions}\r\n                </select>\r\n              </div>\r\n              <button type=\"submit\" className=\"btn btn-success mr-1 mt-1\"><i className=\"fas fa-search\"></i> Искать</button>\r\n\r\n              <button type=\"button\" className=\"btn btn-danger mr-1 mt-1\" onClick={() => this.getSpecificMonthStats('current')}>Этот месяц</button>\r\n\r\n              <button type=\"button\" className=\"btn btn-primary mr-1 mt-1\" onClick={() => this.getSpecificMonthStats('previous')}>Прошлый месяц</button>\r\n            </form>\r\n          </div>\r\n\r\n          <div className=\"col-lg-4 col-md-6 mt-3 ml-auto weekly-stats\">\r\n            <div className=\"SelectedWeekExample form-bg font-weight-bold\">\r\n              <h4 className=\"text-center\">Приход Материалов по неделям</h4>\r\n              <DayPicker\r\n                selectedDays={selectedDays}\r\n                showWeekNumbers\r\n                showOutsideDays\r\n                modifiers={modifiers}\r\n                firstDayOfWeek={1}\r\n                onDayClick={this.handleDayChange}\r\n                onDayMouseEnter={this.handleDayEnter}\r\n                onDayMouseLeave={this.handleDayLeave}\r\n                onWeekClick={this.handleWeekClick}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row mt-2\">\r\n          <div className=\"col-12\">\r\n            {this.state.method === 'week' ?\r\n              <h2 className=\"text-center pl-3 pr-3\">Ваш Недельный Приход Материалов за <Moment format=\"DD/MM/YYYY\">{this.state.selectedDays[0]}</Moment> - <Moment format=\"DD/MM/YYYY\">{this.state.selectedDays[6]}</Moment></h2> :\r\n              <h2 className=\"text-center pl-3 pr-3\">Ваш Месячный Приход Материалов за {monthsNames[this.state.headingMonth]}, {this.state.headingYear}</h2>\r\n            }\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            {this.props.disinfector.loadingDisinfStats ? <Spinner /> : <ShowDisMatComings />}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  admin: state.admin,\r\n  disinfector: state.disinfector,\r\n  subadmin: state.subadmin,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getUserMatComing })(withRouter(DisMatCom));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Moment from 'react-moment';\r\n\r\nimport materials from '../common/materials';\r\nimport removeZeros from '../../utils/removeZerosMat';\r\n\r\nclass ShowDisMatDistribs extends Component {\r\n  state = {\r\n    distribs: this.props.disinfector.matDistrib\r\n  };\r\n\r\n  render() {\r\n    const { distribs } = this.state;\r\n    let totalMatDistrib = [];\r\n\r\n    materials.forEach(item => {\r\n      totalMatDistrib.push({\r\n        material: item.material,\r\n        amount: 0,\r\n        unit: item.unit\r\n      });\r\n    });\r\n\r\n    distribs.forEach(thing => {\r\n      thing.materials.forEach(item => {\r\n        totalMatDistrib.forEach(element => {\r\n          if (item.material === element.material && item.unit === element.unit) {\r\n            element.amount += item.amount;\r\n          }\r\n        });\r\n      });\r\n    });\r\n\r\n    // remove materials with amount of 0\r\n    totalMatDistrib = removeZeros(totalMatDistrib);\r\n\r\n    let renderTotal = totalMatDistrib.map((item, index) =>\r\n      <li key={index}>{item.material}: {item.amount.toLocaleString()} {item.unit}</li>\r\n    );\r\n\r\n    let renderDistribs = distribs.map((item, index) => {\r\n      let renderMaterials = item.materials.map((element, number) =>\r\n        <li key={number}>{element.material}: {element.amount.toLocaleString()} {element.unit}</li>\r\n      );\r\n\r\n      return (\r\n        <div className=\"col-lg-4 col-md-6\" key={index}>\r\n          <div className=\"card order mt-2\">\r\n            <div className=\"card-body p-0\">\r\n              <ul className=\"font-bold mb-0 list-unstyled\">\r\n                <li>Кому Вы Раздали: {item.disinfector.occupation} {item.disinfector.name}</li>\r\n                <li>Дата: <Moment format=\"DD/MM/YYYY HH:mm\">{item.createdAt}</Moment></li>\r\n                <li>Материалы:</li>\r\n                <ul>\r\n                  {renderMaterials}\r\n                </ul>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <React.Fragment>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-5 col-md-7 m-auto\">\r\n            <div className=\"card order mt-2\">\r\n              <div className=\"card-body p-0\">\r\n                <h4 className=\"text-center\">Ваша Общая Раздача Материалов за этот период:</h4>\r\n                <ul className=\"font-bold mb-0 list-unstyled\">\r\n                  {renderTotal}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row mt-3\">\r\n          {renderDistribs}\r\n        </div>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  admin: state.admin,\r\n  disinfector: state.disinfector,\r\n  subadmin: state.subadmin,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, {})(withRouter(ShowDisMatDistribs));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from '../common/Spinner';\r\nimport Moment from 'react-moment';\r\n\r\nimport { getUserMatDistrib } from '../../actions/disinfectorActions';\r\nimport monthsNames from '../common/monthNames';\r\nimport getMonthAndYearLabels from '../../utils/monthAndYearLabels';\r\nimport returnMonthAndYear from '../../utils/returnMonthAndYear';\r\n\r\nimport ShowDisMatDistribs from './ShowDisMatDistribs';\r\n\r\n\r\nimport { getWeekDays, getWeekRange } from '../common/weekFunc';\r\nimport DayPicker from 'react-day-picker';\r\nimport 'react-day-picker/lib/style.css';\r\n\r\n\r\nclass DisMatDistrib extends Component {\r\n  state = {\r\n    month: '',\r\n    year: '',\r\n\r\n    method: '',\r\n\r\n    // // to display month and year in heading h2\r\n    headingMonth: '',\r\n    headingYear: '',\r\n\r\n    hoverRange: undefined,\r\n    selectedDays: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    const thisMonth = new Date().getMonth();\r\n    const thisYear = new Date().getFullYear();\r\n    const object = {\r\n      userId: this.props.auth.user.id,\r\n      type: 'month',\r\n      month: thisMonth,\r\n      year: thisYear\r\n    };\r\n    this.props.getUserMatDistrib(object);\r\n    this.setState({\r\n      headingMonth: thisMonth,\r\n      headingYear: thisYear,\r\n      method: 'month'\r\n    });\r\n  }\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  getMonthStats = (e) => {\r\n    e.preventDefault();\r\n\r\n    const object = {\r\n      userId: this.props.auth.user.id,\r\n      type: 'month',\r\n      month: this.state.month,\r\n      year: this.state.year\r\n    };\r\n    this.props.getUserMatDistrib(object);\r\n\r\n    this.setState({\r\n      headingMonth: this.state.month,\r\n      headingYear: this.state.year,\r\n      method: 'month'\r\n    });\r\n  }\r\n\r\n  getSpecificMonthStats = (param) => {\r\n    const { month, year } = returnMonthAndYear(param);\r\n\r\n    const object = {\r\n      userId: this.props.auth.user.id,\r\n      type: 'month', month, year\r\n    };\r\n\r\n    this.props.getUserMatDistrib(object);\r\n\r\n    this.setState({\r\n      headingMonth: month,\r\n      headingYear: year,\r\n      method: 'month'\r\n    });\r\n  };\r\n\r\n\r\n  // weekly calendar\r\n  handleDayChange = date => {\r\n    const object = {\r\n      userId: this.props.auth.user.id,\r\n      type: 'week',\r\n      days: getWeekDays(getWeekRange(date).from)\r\n    };\r\n    this.props.getUserMatDistrib(object);\r\n\r\n    this.setState({\r\n      selectedDays: getWeekDays(getWeekRange(date).from),\r\n      method: 'week'\r\n    });\r\n  };\r\n\r\n  handleDayEnter = date => {\r\n    this.setState({\r\n      hoverRange: getWeekRange(date)\r\n    });\r\n  };\r\n\r\n  handleDayLeave = () => {\r\n    this.setState({\r\n      hoverRange: undefined\r\n    });\r\n  };\r\n\r\n  handleWeekClick = (weekNumber, days, e) => {\r\n    const object = {\r\n      userId: this.props.auth.user.id,\r\n      type: 'week',\r\n      days: getWeekDays(getWeekRange(days[0]).from)\r\n    };\r\n    this.props.getUserMatDistrib(object);\r\n\r\n    this.setState({\r\n      selectedDays: getWeekDays(getWeekRange(days[0]).from),\r\n      method: 'week'\r\n    });\r\n  };\r\n  // end of weekly calendar\r\n\r\n\r\n  render() {\r\n    const { monthLabels, yearLabels } = getMonthAndYearLabels();\r\n\r\n    const yearsOptions = yearLabels.map((year, index) =>\r\n      <option value={year.value} key={index}>{year.label}</option>\r\n    );\r\n    const monthOptions = monthLabels.map((month, index) =>\r\n      <option value={month.value} key={index}>{month.label}</option>\r\n    );\r\n\r\n\r\n    // weekly calender\r\n    const { hoverRange, selectedDays } = this.state;\r\n\r\n    const daysAreSelected = selectedDays.length > 0;\r\n\r\n    const modifiers = {\r\n      hoverRange,\r\n      selectedRange: daysAreSelected && {\r\n        from: selectedDays[0],\r\n        to: selectedDays[6],\r\n      },\r\n      hoverRangeStart: hoverRange && hoverRange.from,\r\n      hoverRangeEnd: hoverRange && hoverRange.to,\r\n      selectedRangeStart: daysAreSelected && selectedDays[0],\r\n      selectedRangeEnd: daysAreSelected && selectedDays[6]\r\n    };\r\n    // end of calendar\r\n\r\n\r\n    return (\r\n      <div className=\"container-fluid\" >\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-4 col-md-6 mt-3\">\r\n            <form onSubmit={this.getMonthStats} className=\"form-bg p-2\">\r\n              <h4 className=\"text-center\">Раздача Материалов по месяцам</h4>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"year\"><strong>Выберите Год:</strong></label>\r\n                <select name=\"year\" className=\"form-control\" onChange={this.onChange} required>\r\n                  {yearsOptions}\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"month\"><strong>Выберите Месяц:</strong></label>\r\n                <select name=\"month\" className=\"form-control\" onChange={this.onChange} required>\r\n                  {monthOptions}\r\n                </select>\r\n              </div>\r\n              <button type=\"submit\" className=\"btn btn-success mr-1 mt-1\"><i className=\"fas fa-search\"></i> Искать</button>\r\n\r\n              <button type=\"button\" className=\"btn btn-danger mr-1 mt-1\" onClick={() => this.getSpecificMonthStats('current')}>Этот месяц</button>\r\n\r\n              <button type=\"button\" className=\"btn btn-primary mr-1 mt-1\" onClick={() => this.getSpecificMonthStats('previous')}>Прошлый месяц</button>\r\n            </form>\r\n          </div>\r\n\r\n          <div className=\"col-lg-4 col-md-6 mt-3 ml-auto weekly-stats\">\r\n            <div className=\"SelectedWeekExample form-bg font-weight-bold\">\r\n              <h4 className=\"text-center\">Раздача Материалов по неделям</h4>\r\n              <DayPicker\r\n                selectedDays={selectedDays}\r\n                showWeekNumbers\r\n                showOutsideDays\r\n                modifiers={modifiers}\r\n                firstDayOfWeek={1}\r\n                onDayClick={this.handleDayChange}\r\n                onDayMouseEnter={this.handleDayEnter}\r\n                onDayMouseLeave={this.handleDayLeave}\r\n                onWeekClick={this.handleWeekClick}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row mt-2\">\r\n          <div className=\"col-12\">\r\n            {this.state.method === 'week' ?\r\n              <h2 className=\"text-center pl-3 pr-3\">Ваша Недельная Раздача Материалов за <Moment format=\"DD/MM/YYYY\">{this.state.selectedDays[0]}</Moment> - <Moment format=\"DD/MM/YYYY\">{this.state.selectedDays[6]}</Moment></h2> :\r\n              <h2 className=\"text-center pl-3 pr-3\">Ваша Месячная Раздача Материалов за {monthsNames[this.state.headingMonth]}, {this.state.headingYear}</h2>\r\n            }\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            {this.props.disinfector.loadingDisinfStats ? <Spinner /> : <ShowDisMatDistribs />}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  admin: state.admin,\r\n  disinfector: state.disinfector,\r\n  subadmin: state.subadmin,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getUserMatDistrib })(withRouter(DisMatDistrib));","import React, { Component } from 'react';\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from '../common/Spinner';\r\nimport Moment from 'react-moment';\r\n\r\nimport { getReturnedQueries } from '../../actions/disinfectorActions';\r\n\r\nclass ReturnedQueries extends Component {\r\n  state = {\r\n    queries: [],\r\n    loading: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.getReturnedQueries(this.props.auth.user.id);\r\n    this.setState({\r\n      loading: true\r\n    });\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.disinfector.queries) {\r\n      this.setState({\r\n        queries: nextProps.disinfector.queries,\r\n        loading: false\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let renderQueries = this.state.queries.map((order, index) =>\r\n      <div className=\"col-lg-4 col-md-6 mt-3\" key={index}>\r\n        <div className=\"card order\">\r\n          <div className=\"card-body p-0\">\r\n            <ul className=\"font-bold mb-0 list-unstyled\">\r\n\r\n              {order.operatorDecided ? (\r\n                <React.Fragment>\r\n                  <li>Оператор рассмотрел заявку</li>\r\n                  {order.operatorConfirmed ? (\r\n                    <React.Fragment>\r\n                      <li className=\"text-success\">Оператор Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.operatorCheckedAt}</Moment>)</li>\r\n                      <li>Балл (0-5): {order.score}</li>\r\n                      <li>Отзыв Клиента: {order.clientReview ? order.clientReview : 'Нет Отзыва'}</li>\r\n                    </React.Fragment>\r\n                  ) : <li className=\"text-danger\">Оператор Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.operatorCheckedAt}</Moment>)</li>}\r\n                </React.Fragment>\r\n              ) : <li>Оператор еще не рассмотрел заявку</li>}\r\n\r\n\r\n\r\n\r\n\r\n\r\n              {order.accountantDecided ? (\r\n                <React.Fragment>\r\n                  <li>Бухгалтер рассмотрел заявку</li>\r\n                  {order.accountantConfirmed ? (\r\n                    <React.Fragment>\r\n                      <li className=\"text-success\">Бухгалтер Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.accountantCheckedAt}</Moment>)</li>\r\n                      <li>Счет-Фактура: {order.invoice ? order.invoice : '--'}</li>\r\n                      <li>Общая Сумма: {order.cost.toLocaleString()} UZS (каждому по {(order.cost / order.disinfectors.length).toLocaleString()} UZS)</li>\r\n                    </React.Fragment>\r\n                  ) : <li className=\"text-danger\">Бухгалтер Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.accountantCheckedAt}</Moment>)</li>}\r\n                </React.Fragment>\r\n              ) : (\r\n                <React.Fragment>\r\n\r\n                  {order.adminDecided ? (\r\n                    <React.Fragment>\r\n                      <li>Админ рассмотрел заявку</li>\r\n                      {order.adminConfirmed ? (\r\n                        <li className=\"text-success\">Админ Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>\r\n                      ) : <li className=\"text-danger\">Админ Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>}\r\n                    </React.Fragment>\r\n                  ) : (\r\n                    <li>Бухгалтер еще не рассмотрел заявку</li>\r\n                  )}\r\n\r\n                </React.Fragment>\r\n              )}\r\n\r\n\r\n              {/* {order.clientType === 'corporate' && !order.accountantDecided ? <li>Бухгалтер еще не рассмотрел заявку</li> : ''}\r\n\r\n              {order.clientType === 'corporate' && order.accountantDecided ?\r\n                <React.Fragment>\r\n                  <li>Бухгалтер рассмотрел заявку</li>\r\n                  {order.accountantConfirmed ? (\r\n                    <React.Fragment>\r\n                      <li className=\"text-success\">Бухгалтер Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.accountantCheckedAt}</Moment>)</li>\r\n                      <li>Счет-Фактура: {order.invoice}</li>\r\n                      <li>Общая Сумма: {order.cost.toLocaleString()} UZS (каждому по {(order.cost / order.disinfectors.length).toLocaleString()} UZS)</li>\r\n                    </React.Fragment>\r\n                  ) : <li className=\"text-danger\">Бухгалтер Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.accountantCheckedAt}</Moment>)</li>}\r\n                </React.Fragment>\r\n                : ''}\r\n\r\n              {order.clientType === 'individual' && !order.adminDecided ? <li>Админ еще не рассмотрел заявку</li> : ''}\r\n              {order.clientType === 'individual' && order.adminDecided ? (\r\n                <React.Fragment>\r\n                  <li>Админ рассмотрел заявку</li>\r\n                  {order.adminConfirmed ? (\r\n                    <li className=\"text-success\">Админ Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>\r\n                  ) : <li className=\"text-danger\">Админ Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>}\r\n                </React.Fragment>\r\n              ) : ''} */}\r\n\r\n\r\n\r\n\r\n\r\n\r\n              {order.clientType === 'corporate' ?\r\n                <React.Fragment>\r\n                  {order.clientId ? (\r\n                    <li className=\"text-danger\">Корпоративный Клиент: {order.clientId.name}</li>\r\n                  ) : <li className=\"text-danger\">Корпоративный Клиент</li>}\r\n                  <li className=\"text-danger\">Имя клиента: {order.client}</li>\r\n                </React.Fragment>\r\n                : ''}\r\n\r\n              {order.clientType === 'individual' ?\r\n                <li className=\"text-danger\">Физический Клиент: {order.client}</li>\r\n                : ''}\r\n\r\n              <li className=\"text-danger\">Телефон Клиента: {order.phone}</li>\r\n              {order.phone2 ? <li className=\"text-danger\">Другой номер: {order.phone2}</li> : ''}\r\n              <li className=\"text-danger\">Дата выполнения: <Moment format=\"DD/MM/YYYY\">{order.dateFrom}</Moment></li>\r\n              <li className=\"text-danger\">Время выполнения: С <Moment format=\"HH:mm\">{order.dateFrom}</Moment> ПО <Moment format=\"HH:mm\">{order.completedAt}</Moment></li>\r\n              <li className=\"text-danger\">Адрес: {order.address}</li>\r\n              <li className=\"text-danger\">Тип услуги: {order.typeOfService}</li>\r\n\r\n              <li>Комментарии Оператора: {order.comment ? order.comment : '--'}</li>\r\n              <li>Комментарии Дезинфектора: {order.disinfectorComment ? order.disinfectorComment : '--'}</li>\r\n\r\n              {order.clientType === 'corporate' ? (\r\n                <React.Fragment>\r\n                  {order.paymentMethod === 'cash' ? (\r\n                    <React.Fragment>\r\n                      <li>Тип Платежа: Наличный</li>\r\n                      <li>Общая Сумма: {order.cost.toLocaleString()} UZS (каждому по {(order.cost / order.disinfectors.length).toLocaleString()} UZS)</li>\r\n                    </React.Fragment>\r\n                  ) : (\r\n                    <React.Fragment>\r\n                      <li>Тип Платежа: Безналичный</li>\r\n                      <li>Номер Договора: {order.contractNumber}</li>\r\n                    </React.Fragment>\r\n                  )}\r\n                </React.Fragment>\r\n              ) : ''}\r\n\r\n              {order.clientType === 'individual' ?\r\n                <li>Общая Сумма: {order.cost.toLocaleString()} UZS  (каждому по {(order.cost / order.disinfectors.length).toLocaleString()} UZS)</li>\r\n                : ''}\r\n\r\n              <li>Форма Выполнения Заказа заполнена: <Moment format=\"DD/MM/YYYY HH:mm\">{order.completedAt}</Moment></li>\r\n\r\n              {/* 21.04.2021 disinfector and subadmin now should have the same order complete form - OrderComplete component */}\r\n              <Link\r\n                to={`/order-complete-form/${order._id}`}\r\n                className=\"btn btn-primary\"\r\n              >\r\n                <i className=\"fab fa-wpforms\"></i> Заполнить форму выполнения заново\r\n              </Link>\r\n\r\n\r\n\r\n              {/* {this.props.auth.user.occupation === 'subadmin' ? (\r\n                <Link\r\n                  to={`/subadmin/order-complete-form/${order._id}`}\r\n                  className=\"btn btn-primary\"\r\n                >\r\n                  Заполнить форму выполнения заново\r\n                </Link>\r\n              ) : ''} */}\r\n\r\n              {/* {this.props.auth.user.occupation === 'disinfector' ? (\r\n              <Link\r\n                to={`/order-complete-form/${order._id}`}\r\n                className=\"btn btn-primary\"\r\n              >\r\n                Заполнить форму выполнения заново\r\n                </Link>\r\n               ) : ''} */}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <h3 className=\"text-center pl-3 pr-3\">Ваши Запросы, которые админ отправил назад для повторного заполнения формы </h3>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row\">\r\n          {this.state.loading ? (\r\n            <div className=\"col-12\">\r\n              <Spinner />\r\n            </div>\r\n          ) : (\r\n            <React.Fragment>\r\n              {this.state.queries.length === 0 ? (\r\n                <div className=\"col-12\">\r\n                  <h3 className=\"text-center pl-3 pr-3\">Нет Запросов</h3>\r\n                </div>\r\n              ) : renderQueries}\r\n            </React.Fragment>\r\n          )}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  order: state.order,\r\n  disinfector: state.disinfector,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getReturnedQueries })(withRouter(ReturnedQueries));","import axios from 'axios';\r\nimport {\r\n  GET_ERRORS,\r\n  GET_SORTED_ORDERS,\r\n  GET_NOT_COMPLETED_ORDERS,\r\n  GET_COMPLETE_ORDERS,\r\n  GET_COMPLETE_ORDER_BY_ID,\r\n  DELETE_QUERY_FROM_STATE,\r\n  GOT_STATS_FOR_OPERATOR,\r\n  GET_REPEAT_ORDERS,\r\n  SET_REPEAT_ORDER_SEARCH_VARS,\r\n  SET_LOADING_SORTED_ORDERS,\r\n  SET_LOADING_COMPLETE_ORDERS,\r\n  SET_LOADING_OPERATOR_STATS\r\n} from './types';\r\n\r\n\r\nexport const getSortedOrders = (date) => (dispatch) => {\r\n  dispatch(setLoadingSortedOrders());\r\n  axios.post('/operator/get-sorted-orders', { date: date })\r\n    .then(res =>\r\n      dispatch({\r\n        type: GET_SORTED_ORDERS,\r\n        payload: res.data,\r\n        date: date\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\n// operator gets complete orders for confirmation\r\nexport const getCompleteOrders = (id) => (dispatch) => {\r\n  dispatch(setLoadingCompleteOrders());\r\n  axios.post('/operator/get-complete-orders', { id: id })\r\n    .then(res =>\r\n      dispatch({\r\n        type: GET_COMPLETE_ORDERS,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\nexport const getCompleteOrderById = (id) => (dispatch) => {\r\n  dispatch(setLoadingCompleteOrders());\r\n  axios.post(`/operator/get-complete-order-by-id/${id}`)\r\n    .then(res =>\r\n      dispatch({\r\n        type: GET_COMPLETE_ORDER_BY_ID,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err.response.data\r\n      })\r\n    );\r\n};\r\n\r\n\r\n// operator confirms completed order\r\nexport const confirmCompleteOrder = (object, history) => (dispatch) => {\r\n  // delete query from global state because the query should not stay in queries page\r\n  dispatch({\r\n    type: DELETE_QUERY_FROM_STATE,\r\n    payload: object.orderId\r\n  });\r\n\r\n  axios.post('/operator/confirm-complete-order', { object: object })\r\n    .then(() => history.push('/operator/order-queries'))\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\n// get stats for operator\r\nexport const getOperatorStats = (month, year) => (dispatch) => {\r\n  dispatch(setLoadingStats());\r\n  axios.post('/stats/for-operator', { month: month, year: year })\r\n    .then(res =>\r\n      dispatch({\r\n        type: GOT_STATS_FOR_OPERATOR,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\nexport const getRepeatOrders = (object) => (dispatch) => {\r\n  dispatch(setLoadingSortedOrders());\r\n\r\n  // set repeat order search Vars\r\n  dispatch({\r\n    type: SET_REPEAT_ORDER_SEARCH_VARS,\r\n    payload: {\r\n      method: object.type,\r\n      headingDay: object.day || '',\r\n      selectedDays: object.days || []\r\n    }\r\n  });\r\n\r\n  axios.post('/operator/get-repeat-orders', { object })\r\n    .then(res =>\r\n      dispatch({\r\n        type: GET_REPEAT_ORDERS,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\nexport const repeatOrderNotNeeded = (id, history, occupation) => (dispatch) => {\r\n  axios.post('/operator/repeat-order-not-needed', { id: id })\r\n    .then(() => history.push(`/${occupation}`))\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\n// operator sees his own statistics\r\nexport const getStatsForOperator = (object) => (dispatch) => {\r\n  dispatch(setLoadingStats());\r\n  axios.post('/operator/get-operator-stats', { object: object })\r\n    .then(res =>\r\n      dispatch({\r\n        type: GOT_STATS_FOR_OPERATOR,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\nexport const getNotCompOrders = () => (dispatch) => {\r\n  dispatch(setLoadingSortedOrders());\r\n  axios.post('/operator/get-not-comp-orders')\r\n    .then(res =>\r\n      dispatch({\r\n        type: GET_NOT_COMPLETED_ORDERS,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\n// Loading sorted orders\r\nexport const setLoadingSortedOrders = () => {\r\n  return {\r\n    type: SET_LOADING_SORTED_ORDERS\r\n  };\r\n};\r\n\r\n\r\n// Loading complete orders\r\nexport const setLoadingCompleteOrders = () => {\r\n  return {\r\n    type: SET_LOADING_COMPLETE_ORDERS\r\n  };\r\n};\r\n\r\n\r\n// loading stats\r\nexport const setLoadingStats = () => {\r\n  return {\r\n    type: SET_LOADING_OPERATOR_STATS\r\n  };\r\n}","import React, { Component } from 'react';\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { deleteOrder } from '../../actions/orderActions';\r\nimport { getSortedOrders } from '../../actions/operatorActions';\r\n\r\nimport orderFullyProcessed from '../../utils/orderFullyProcessed';\r\n\r\n// socket.io\r\nimport openSocket from 'socket.io-client';\r\nimport socketLink from '../common/socketLink';\r\n\r\n\r\nclass SortedOrders extends Component {\r\n  _isMounted = false;\r\n\r\n  state = {\r\n    date: new Date(),\r\n    sortedOrders: this.props.operator.sortedOrders\r\n  };\r\n\r\n  componentDidMount() {\r\n    this._isMounted = true;\r\n\r\n    const socket = openSocket(socketLink);\r\n\r\n    socket.on('createOrder', data => {\r\n      // check if today\r\n      if (\r\n        new Date(data.order.dateFrom).getDate() === new Date(this.props.date).getDate() &&\r\n        new Date(data.order.dateFrom).getMonth() === new Date(this.props.date).getMonth() &&\r\n        new Date(data.order.dateFrom).getFullYear() === new Date(this.props.date).getFullYear()\r\n      ) {\r\n        this.addOrderToDOM(data.order);\r\n      }\r\n    });\r\n\r\n    socket.on('editOrder', data => {\r\n      // check if today\r\n      // if (\r\n      //   new Date(data.order.dateFrom).getDate() === new Date(this.props.date).getDate() &&\r\n      //   new Date(data.order.dateFrom).getMonth() === new Date(this.props.date).getMonth() &&\r\n      //   new Date(data.order.dateFrom).getFullYear() === new Date(this.props.date).getFullYear()\r\n      // ) {\r\n      //   this.editOrderOnDOM(data.order);\r\n      // }\r\n      this.editOrderOnDOM(data.order);\r\n    });\r\n\r\n    socket.on('deleteOrder', data => {\r\n      // check if today\r\n      if (\r\n        new Date(data.orderDateFrom).getDate() === new Date(this.props.date).getDate() &&\r\n        new Date(data.orderDateFrom).getMonth() === new Date(this.props.date).getMonth() &&\r\n        new Date(data.orderDateFrom).getFullYear() === new Date(this.props.date).getFullYear()\r\n      ) {\r\n        this.removeOrderFromDOM(data.id);\r\n      }\r\n    });\r\n  }\r\n\r\n  addOrderToDOM = (order) => {\r\n    if (this._isMounted) {\r\n      this.setState(prevState => {\r\n        const updatedOrders = [...prevState.sortedOrders];\r\n        updatedOrders.push(order);\r\n        return {\r\n          sortedOrders: updatedOrders\r\n        };\r\n      });\r\n    }\r\n  }\r\n\r\n  editOrderOnDOM = (order) => {\r\n    if (this._isMounted) {\r\n      let ordersInState = [...this.state.sortedOrders];\r\n      for (let i = 0; i < ordersInState.length; i++) {\r\n        if (ordersInState[i]._id.toString() === order._id.toString()) {\r\n          ordersInState[i].disinfectorId = order.disinfectorId;\r\n          ordersInState[i].userCreated = order.userCreated;\r\n          ordersInState[i].userAcceptedOrder = order.userAcceptedOrder;\r\n          ordersInState[i].clientType = order.clientType;\r\n          ordersInState[i].client = order.client;\r\n          ordersInState[i].clientId = order.clientId;\r\n          ordersInState[i].address = order.address;\r\n          ordersInState[i].dateFrom = order.dateFrom;\r\n          ordersInState[i].phone = order.phone;\r\n          ordersInState[i].typeOfService = order.typeOfService;\r\n          ordersInState[i].advertising = order.advertising;\r\n          ordersInState[i].comment = order.comment;\r\n        }\r\n      }\r\n      this.setState({\r\n        sortedOrders: ordersInState\r\n      });\r\n    }\r\n  }\r\n\r\n  removeOrderFromDOM = (id) => {\r\n    if (this._isMounted) {\r\n      let ordersInState = [...this.state.sortedOrders];\r\n      ordersInState = ordersInState.filter(item => item._id.toString() !== id);\r\n      this.setState({\r\n        sortedOrders: ordersInState\r\n      });\r\n    }\r\n  }\r\n\r\n  onClick = (hour, date) => {\r\n    let defaultDateMonth, defaultDateDay, defaultHourString;\r\n    if (new Date(date).getMonth() < 9) {\r\n      defaultDateMonth = `0${new Date(date).getMonth() + 1}`;\r\n    } else {\r\n      defaultDateMonth = `${new Date(date).getMonth() + 1}`;\r\n    }\r\n\r\n    if (new Date(date).getDate() < 10) {\r\n      defaultDateDay = `0${new Date(date).getDate()}`;\r\n    } else {\r\n      defaultDateDay = new Date(date).getDate();\r\n    }\r\n    const defaultDateString = `${new Date(date).getFullYear()}-${defaultDateMonth}-${defaultDateDay}`;\r\n    if (hour < 10) {\r\n      defaultHourString = `0${hour}:00`;\r\n    } else {\r\n      defaultHourString = `${hour}:00`;\r\n    }\r\n\r\n    this.props.history.push('/create-order', {\r\n      pathname: '/create-order',\r\n      state: { hour: defaultHourString, date: defaultDateString }\r\n    });\r\n  };\r\n\r\n  deleteOrder = (id, clientType, clientPhone, clientId, orderDateFrom) => {\r\n    const object = {\r\n      id: id,\r\n      clientType: clientType,\r\n      clientPhone: clientPhone,\r\n      clientId: clientId,\r\n      orderDateFrom: orderDateFrom,\r\n    };\r\n    this.props.deleteOrder(object, this.props.history, this.props.auth.user.occupation);\r\n    // this.props.getSortedOrders(this.state.date);\r\n    window.location.reload();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  }\r\n\r\n  render() {\r\n    let array = [];\r\n    for (let i = 0; i <= 23; i++) {\r\n      array.push({ hour: i, elements: [] });\r\n    }\r\n\r\n    this.state.sortedOrders.forEach(order => {\r\n      array[new Date(order.dateFrom).getHours()].elements.push(order);\r\n    });\r\n\r\n    let renderOrders, colnumber = 6;\r\n\r\n    let everythingToRender = array.map((object, index) => {\r\n      // if (object.elements.length === 1 || object.elements.length === 2) colnumber = 6;\r\n      // if (object.elements.length > 2) colnumber = 4;\r\n      renderOrders = object.elements.map((element, i) =>\r\n        <div className={`col-md-${colnumber} pr-0`} key={i}>\r\n          <div className={`card mt-2 mr-2 order order-bg-${element.disinfectorId.color}`}>\r\n            <div className=\"card-body p-0\">\r\n              <ul className=\"font-bold mb-0 list-unstyled\">\r\n                {element.prevFailedOrder && <h3><i className=\"fas fas fa-exclamation\"></i> Повторный заказ <i className=\"fas fas fa-exclamation\"></i></h3>}\r\n\r\n                {element.failed && <h3><i className=\"fas fas fa-exclamation\"></i> Некачественный заказ <i className=\"fas fas fa-exclamation\"></i></h3>}\r\n\r\n                {element.clientType === 'corporate' ? (\r\n                  <React.Fragment>\r\n                    {element.clientId ? (<li>Корпоративный клиент: {element.clientId.name}</li>) : <li>Корпоративный клиент </li>}\r\n                  </React.Fragment>\r\n                ) : ''}\r\n\r\n                {element.clientType === 'individual' ? (\r\n                  <li>Физический Клиент: {element.client}</li>\r\n                ) : ''}\r\n                <li>Тел клиента: {element.phone}</li>\r\n                <li>Адрес: {element.address}</li>\r\n                <li>Тип Заказа: {element.typeOfService}</li>\r\n              </ul>\r\n\r\n              {/* если заказ полностью закрыт */}\r\n              {orderFullyProcessed(element) ? (\r\n                <React.Fragment>\r\n                  <Link\r\n                    to={`/order-full-details/${element._id}`}\r\n                    className=\"btn btn-primary mr-1 mt-2\"\r\n                  >\r\n                    <i className=\"fas fa-info\"></i> Подробнее\r\n                  </Link>\r\n                </React.Fragment>\r\n              ) : (\r\n                <React.Fragment>\r\n                  {/* если заказ еще не закрыт */}\r\n                  <Link\r\n                    to={`/order-details/${element._id}`}\r\n                    className=\"btn btn-primary mr-1 mt-2\"\r\n                  >\r\n                    <i className=\"fas fa-info\"></i> Подробнее\r\n                  </Link>\r\n\r\n                  <Link\r\n                    to={`/edit-order/${element._id}`}\r\n                    className=\"btn btn-warning mr-1 mt-2\"\r\n                  >\r\n                    <i className=\"fas fa-edit\"></i> Редактировать\r\n                  </Link>\r\n\r\n                  {this.props.date > new Date().setHours(0, 0, 0, 0) ? (\r\n                    <button className=\"btn btn-danger mt-2\" onClick={() => {\r\n                      if (window.confirm('Вы уверены?')) {\r\n                        if (element.clientType === 'corporate') {\r\n                          this.deleteOrder(element._id, element.clientType, element.phone, element.clientId._id, element.dateFrom);\r\n                        } else if (element.clientType === 'individual') {\r\n                          this.deleteOrder(element._id, element.clientType, element.phone, '', element.dateFrom);\r\n                        }\r\n                      }\r\n                    }}><i className=\"fas fa-trash-alt\"></i> Удалить</button>\r\n                  ) : ''}\r\n                </React.Fragment>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n      return (\r\n        <div className=\"hours\" key={index}>\r\n          <div className=\"help row mt-3\" id={`hour-${object.hour}`}>\r\n            <button\r\n              to=\"/create-order\"\r\n              className=\"btn btn-success mr-3\"\r\n              onClick={this.onClick.bind(this, object.hour, this.props.operator.date)}\r\n            >\r\n              <i className=\"fas fa-plus\"></i>\r\n            </button>\r\n            <h1 className=\"d-inline mb-0\">{`${object.hour}:00`}</h1>\r\n          </div>\r\n          <div className=\"row\">\r\n            {renderOrders.length > 0 ? (renderOrders) : ''}\r\n          </div>\r\n        </div>\r\n      )\r\n    });\r\n\r\n    return (\r\n      everythingToRender\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  order: state.order,\r\n  operator: state.operator,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { deleteOrder, getSortedOrders })(withRouter(SortedOrders));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Calendar from 'react-calendar';\r\nimport Moment from 'react-moment';\r\nimport Spinner from '../common/Spinner';\r\nimport { Swipeable } from 'react-swipeable';\r\n\r\nimport { getSortedOrders } from '../../actions/operatorActions';\r\n\r\nimport SortedOrders from './SortedOrders';\r\n\r\nclass Operator extends Component {\r\n  state = {\r\n    date: new Date()\r\n  }\r\n\r\n  componentDidMount() {\r\n    // if (\r\n    //   this.props.operator.date &&\r\n    //   this.props.operator.sortedOrders &&\r\n    //   this.props.operator.sortedOrders.length > 0\r\n    // ) {\r\n    //   this.setState({\r\n    //     date: this.props.operator.date\r\n    //   });\r\n    // } else {\r\n    this.props.getSortedOrders(this.state.date);\r\n    // }\r\n  };\r\n\r\n  onChange = (date) => {\r\n    // do not send another request if orders are already being loaded\r\n    if (!this.props.operator.loadingSortedOrders) {\r\n      this.setState({\r\n        date: date\r\n      });\r\n      this.props.getSortedOrders(date);\r\n    }\r\n  };\r\n\r\n  onSwiped = (direction) => {\r\n    let newDate = new Date(this.state.date);\r\n\r\n    if (direction === 'LEFT') {\r\n      // add 1 day to state date\r\n      newDate.setTime(newDate.getTime() + 1000 * 60 * 60 * 24);\r\n\r\n      this.setState({\r\n        date: newDate\r\n      });\r\n    } else if (direction === 'RIGHT') {\r\n      // decrement 1 day from state date\r\n      newDate.setTime(newDate.getTime() - 1000 * 60 * 60 * 24);\r\n\r\n      this.setState({\r\n        date: newDate\r\n      });\r\n    }\r\n\r\n    this.props.getSortedOrders(this.state.date);\r\n  };\r\n\r\n  today = () => {\r\n    let newDate = new Date();\r\n\r\n    // do not send another request if orders are already being loaded\r\n    if (!this.props.operator.loadingSortedOrders) {\r\n      this.setState({\r\n        date: newDate\r\n      });\r\n      this.props.getSortedOrders(newDate);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { loadingSortedOrders } = this.props.operator;\r\n\r\n    return (\r\n      <div className=\"container-fluid mt-1\">\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <h2 className=\"text-center\">Страница Оператора {this.props.auth.user.name}</h2>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-3 mt-4 calendar\">\r\n            <div className=\"sticky-top\">\r\n              <Calendar\r\n                onChange={this.onChange}\r\n                value={this.state.date}\r\n              />\r\n\r\n              <button\r\n                className=\"btn btn-dark mt-3\"\r\n                onClick={() => this.today()}\r\n              >\r\n                <i className=\"fas fa-calendar-day\"></i> Показать Сегодня\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-lg-9\">\r\n            <h2 className=\"text-center\">Заявки на <Moment format=\"DD/MM/YYYY\">{this.state.date}</Moment></h2>\r\n            {loadingSortedOrders ? <Spinner /> : (\r\n              <Swipeable\r\n                trackMouse\r\n                preventDefaultTouchmoveEvent\r\n                onSwipedLeft={() => this.onSwiped('LEFT')}\r\n                onSwipedRight={() => this.onSwiped('RIGHT')}\r\n                delta={120}\r\n              >\r\n                <SortedOrders date={this.state.date} />\r\n              </Swipeable>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  order: state.order,\r\n  operator: state.operator,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getSortedOrders })(withRouter(Operator));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport TextFieldGroup from '../common/TextFieldGroup';\r\nimport SelectListGroup from '../common/SelectListGroup';\r\nimport TextAreaFieldGroup from '../common/TextAreaFieldGroup';\r\nimport advertisements from '../common/advertisements';\r\nimport Select from 'react-select';\r\n\r\nimport orderTypes from '../common/orderTypes';\r\n\r\nimport { getCorporateClients, getAllUsers, createOrder } from '../../actions/orderActions';\r\n\r\n\r\nclass CreateOrder extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    let date, hour;\r\n\r\n    if (this.props.location.state) {\r\n      date = this.props.location.state.state.date;\r\n      hour = this.props.location.state.state.hour;\r\n    } else {\r\n      date = '';\r\n      hour = '';\r\n    }\r\n\r\n    this.state = {\r\n      disinfectorId: '',\r\n      userAcceptedOrder: '',\r\n      client: '',\r\n      clientType: '',\r\n      clientId: '',\r\n\r\n      address: '',\r\n      date: date,\r\n      timeFrom: hour,\r\n      phone: '',\r\n      hasSecondPhone: false,\r\n      phone2: '',\r\n      typeOfService: [],\r\n      advertising: '',\r\n      comment: '',\r\n      errors: {}\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.getCorporateClients();\r\n    this.props.getAllUsers();\r\n    window.scrollTo({ top: 0 });\r\n\r\n    let array = [];\r\n\r\n    orderTypes.forEach(object => {\r\n      array.push({\r\n        type: object.value,\r\n        selected: false\r\n      });\r\n    });\r\n\r\n    this.setState({\r\n      typeOfService: array\r\n    });\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.errors) {\r\n      this.setState({ errors: nextProps.errors });\r\n    }\r\n  }\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  onSelectClientTypeChange = (e) => {\r\n    this.setState({\r\n      clientId: e.value\r\n    });\r\n  };\r\n\r\n  onChangeTypes = (e) => {\r\n    let array = [...this.state.typeOfService];\r\n    array.forEach(item => {\r\n      if (item.type === e.target.value) {\r\n        item.selected = e.target.checked;\r\n      }\r\n    });\r\n\r\n    this.setState({\r\n      typeOfService: array\r\n    });\r\n  }\r\n\r\n  toggleSecondPhone = (e) => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      hasSecondPhone: !this.state.hasSecondPhone\r\n    });\r\n  }\r\n\r\n  deleteSecondPhone = (e) => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      hasSecondPhone: false,\r\n      phone2: ''\r\n    });\r\n  }\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const date = this.state.date.split('-');\r\n    const dateStringFrom = new Date(`${date[1]}-${date[2]}-${date[0]} ${this.state.timeFrom}`);\r\n\r\n    let numberCharacters = 0, phone2Characters = 0;\r\n    for (let i = 1; i <= 12; i++) {\r\n      if (this.state.phone[i] >= '0' && this.state.phone[i] <= '9') {\r\n        numberCharacters++;\r\n      }\r\n      if (this.state.phone2[i] >= '0' && this.state.phone2[i] <= '9') {\r\n        phone2Characters++;\r\n      }\r\n    }\r\n\r\n\r\n\r\n    let serviceTypeString = '', selectedItems = 0;\r\n    this.state.typeOfService.forEach(item => {\r\n      if (item.selected) {\r\n        selectedItems++;\r\n        if (selectedItems === 1) {\r\n          serviceTypeString = serviceTypeString + item.type;\r\n        } else {\r\n          serviceTypeString = serviceTypeString + ', ' + item.type;\r\n        }\r\n      }\r\n    });\r\n\r\n\r\n\r\n    if (\r\n      this.state.phone.length !== 13 ||\r\n      (this.state.hasSecondPhone && this.state.phone2.length !== 13)\r\n    ) {\r\n      alert('Телефонный номер должен содержать 13 символов. Введите в формате +998XXXXXXXXX');\r\n    } else if (this.state.phone[0] !== '+' || (this.state.hasSecondPhone && this.state.phone2[0] !== '+')) {\r\n      alert('Телефонный номер должен начинаться с \"+\". Введите в формате +998XXXXXXXXX');\r\n    } else if (numberCharacters !== 12 || (this.state.hasSecondPhone && phone2Characters !== 12)) {\r\n      alert('Телефонный номер должен содержать \"+\" и 12 цифр');\r\n    } else if (selectedItems === 0) {\r\n      alert('Выберите тип заказа');\r\n    } else if (this.state.clientType === 'corporate' && this.state.clientId === '') {\r\n      alert('Выберите корпоративного клиента');\r\n    } else {\r\n\r\n      // find object ответственный дезинфектор\r\n      let respDisinf;\r\n      this.props.order.allUsers.forEach((item, index) => {\r\n        if (item._id === this.state.disinfectorId) {\r\n          respDisinf = item;\r\n          return;\r\n        }\r\n      });\r\n\r\n      const newOrder = {\r\n        disinfectorId: this.state.disinfectorId,\r\n        // tgChat: respDisinf.tgChat ? respDisinf.tgChat : '',\r\n        client: this.state.client,\r\n        clientType: this.state.clientType,\r\n        clientId: this.state.clientId,\r\n        address: this.state.address,\r\n        date: this.state.date,\r\n        dateFrom: dateStringFrom,\r\n        timeFrom: this.state.timeFrom,\r\n        phone: this.state.phone,\r\n        phone2: this.state.phone2,\r\n        typeOfService: serviceTypeString,\r\n        advertising: this.state.advertising,\r\n        comment: this.state.comment,\r\n        userCreated: this.props.auth.user.id,\r\n        userAcceptedOrder: this.state.userAcceptedOrder\r\n      };\r\n      // console.log('order', newOrder);\r\n      this.props.createOrder(newOrder, this.props.history, this.props.auth.user.occupation);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { errors } = this.state;\r\n\r\n    let allUsers = this.props.order.allUsers ? this.props.order.allUsers.sort((x, y) => x.name - y.name) : [];\r\n\r\n    const userOptions = [\r\n      { label: '-- Кто принял заказ? --', value: 0 }\r\n    ];\r\n    allUsers.forEach(item => {\r\n      userOptions.push({\r\n        label: `${item.occupation}, ${item.name}`,\r\n        value: item._id\r\n      });\r\n    });\r\n\r\n    let disinfectors = allUsers.filter(user => user.occupation === 'disinfector' || user.occupation === 'subadmin');\r\n    const disinfectorOptions = [\r\n      { label: '-- Выберите ответственного дезинфектора --', value: 0 }\r\n    ];\r\n    disinfectors.forEach(worker => disinfectorOptions.push({\r\n      label: `${worker.name}, ${worker.occupation}`, value: worker._id\r\n    }));\r\n\r\n    const clientTypes = [\r\n      { label: '-- Выберите тип клиента --', value: '' },\r\n      { label: 'Корпоративный', value: 'corporate' },\r\n      { label: 'Физический', value: 'individual' }\r\n    ];\r\n\r\n    const corporateClients = [\r\n      { label: '-- Выберите корпоративного клиента --', value: '' }\r\n    ];\r\n    // sort corporate clients by name in alphabetical order\r\n    let corpClients = this.props.order.corporateClients.sort((a, b) => {\r\n      return a.name === b.name ? 0 : a.name < b.name ? -1 : 1;\r\n    });\r\n\r\n    corpClients.forEach(item => {\r\n      corporateClients.push({\r\n        label: item.name,\r\n        value: item._id\r\n      });\r\n    });\r\n\r\n    const advOptions = [\r\n      { label: '-- Откуда узнали о нас? --', value: 0 }\r\n    ];\r\n    advertisements.forEach(item => {\r\n      advOptions.push({\r\n        label: item.label,\r\n        value: item.value\r\n      });\r\n    });\r\n\r\n    // styles of select corporate client element (Select)\r\n    const colourStyles = {\r\n      control: (styles) => ({\r\n        ...styles,\r\n        backgroundColor: this.props.options.theme === 'dark' ? '#666666' : 'white',\r\n        color: this.props.options.theme === 'dark' ? 'white' : 'black',\r\n      }),\r\n      option: (styles) => ({\r\n        ...styles,\r\n        backgroundColor: this.props.options.theme === 'dark' ? '#212d3b' : 'white',\r\n        color: this.props.options.theme === 'dark' ? 'white' : 'black',\r\n      }),\r\n      placeholder: (styles) => ({\r\n        ...styles,\r\n        color: this.props.options.theme === 'dark' ? 'white' : 'black',\r\n      }),\r\n      singleValue: (styles) => ({\r\n        ...styles,\r\n        color: this.props.options.theme === 'dark' ? 'white' : 'black',\r\n      }),\r\n    };\r\n\r\n    return (\r\n      <div className=\"container create-order mt-4\" >\r\n        <div className=\"row\">\r\n          <div className=\"col-md-8 m-auto\">\r\n            <div className=\"card\">\r\n              <div className=\"card-body\">\r\n                <h2 className=\"text-center\">Создать Заказ</h2>\r\n                <form noValidate onSubmit={this.onSubmit}>\r\n                  <SelectListGroup\r\n                    name=\"clientType\"\r\n                    value={this.state.clientType}\r\n                    onChange={this.onChange}\r\n                    options={clientTypes}\r\n                    error={errors.clientType}\r\n                  />\r\n\r\n                  {this.state.clientType === 'corporate' ? (\r\n                    // <SelectListGroup\r\n                    //   name=\"clientId\"\r\n                    //   value={this.state.clientId}\r\n                    //   onChange={this.onChange}\r\n                    //   options={corporateClients}\r\n                    //   error={errors.clientId}\r\n                    // />\r\n                    <Select\r\n                      className='select-corporate-client'\r\n                      onChange={this.onSelectClientTypeChange}\r\n                      options={corporateClients}\r\n                      placeholder=\"Выберите корпоративного клиента\"\r\n                      styles={colourStyles}\r\n                    />\r\n                  ) : ''}\r\n\r\n                  <TextFieldGroup\r\n                    label=\"Введите Имя Клиента\"\r\n                    type=\"text\"\r\n                    name=\"client\"\r\n                    value={this.state.client}\r\n                    onChange={this.onChange}\r\n                    error={errors.client}\r\n                  />\r\n                  <TextFieldGroup\r\n                    label=\"Адрес\"\r\n                    type=\"text\"\r\n                    name=\"address\"\r\n                    value={this.state.address}\r\n                    onChange={this.onChange}\r\n                    error={errors.address}\r\n                  />\r\n                  <TextFieldGroup\r\n                    label=\"Телефон\"\r\n                    type=\"phone\"\r\n                    name=\"phone\"\r\n                    value={this.state.phone}\r\n                    onChange={this.onChange}\r\n                    error={errors.phone}\r\n                  />\r\n                  {this.state.hasSecondPhone ? (\r\n                    <React.Fragment>\r\n                      <TextFieldGroup\r\n                        label=\"Запасной Номер Телефона\"\r\n                        placeholder=\"Введите запасной номер телефона\"\r\n                        type=\"phone\"\r\n                        name=\"phone2\"\r\n                        value={this.state.phone2}\r\n                        onChange={this.onChange}\r\n                      />\r\n                      <button className=\"btn btn-danger mb-2\" onClick={this.deleteSecondPhone}><i className=\"fas fa-minus-circle\"></i> Убрать запасной номер телефона</button>\r\n                    </React.Fragment>\r\n                  ) : (\r\n                    <button className=\"btn btn-success mb-3\" onClick={this.toggleSecondPhone}><i className=\"fas fa-plus-circle\"></i> Добавить другой номер</button>\r\n                  )}\r\n\r\n                  <TextFieldGroup\r\n                    label=\"Дата выполнения заказа\"\r\n                    name=\"date\"\r\n                    type=\"date\"\r\n                    value={this.state.date}\r\n                    onChange={this.onChange}\r\n                    error={errors.date}\r\n                  />\r\n                  <TextFieldGroup\r\n                    label=\"Время (часы:минуты:AM/PM) C\"\r\n                    name=\"timeFrom\"\r\n                    type=\"time\"\r\n                    value={this.state.timeFrom}\r\n                    onChange={this.onChange}\r\n                    error={errors.timeFrom}\r\n                  />\r\n                  {/* <SelectListGroup\r\n                    name=\"typeOfService\"\r\n                    value={this.state.typeOfService}\r\n                    onChange={this.onChange}\r\n                    error={errors.typeOfService}\r\n                    options={orderTypes}\r\n                  /> */}\r\n\r\n\r\n                  <div className=\"border-bottom\"></div>\r\n                  <label htmlFor=\"\">Выберите тип заказа (можно выбрать несколько):</label>\r\n                  {orderTypes.map((item, key) =>\r\n                    <div className=\"form-check\" key={key}>\r\n                      <label className=\"form-check-label\">\r\n                        <input type=\"checkbox\" className=\"form-check-input\" onChange={this.onChangeTypes} value={item.value} />{item.label}\r\n                      </label>\r\n                    </div>\r\n                  )}\r\n                  <div className=\"border-bottom\"></div>\r\n\r\n\r\n                  <SelectListGroup\r\n                    name=\"advertising\"\r\n                    value={this.state.advertising}\r\n                    onChange={this.onChange}\r\n                    error={errors.advertising}\r\n                    options={advOptions}\r\n                  />\r\n                  {this.props.order.loading ? (\r\n                    <p>Дезинфекторы загружаются...</p>\r\n                  ) : (\r\n                    <SelectListGroup\r\n                      name=\"disinfectorId\"\r\n                      value={this.state.disinfectorId}\r\n                      onChange={this.onChange}\r\n                      error={errors.disinfectorId}\r\n                      options={disinfectorOptions}\r\n                    />\r\n                  )}\r\n                  <SelectListGroup\r\n                    name=\"userAcceptedOrder\"\r\n                    value={this.state.userAcceptedOrder}\r\n                    onChange={this.onChange}\r\n                    options={userOptions}\r\n                    error={errors.userAcceptedOrder}\r\n                  />\r\n                  <TextAreaFieldGroup\r\n                    name=\"comment\"\r\n                    placeholder=\"Комментарии (Это поле не обязательное)\"\r\n                    value={this.state.comment}\r\n                    onChange={this.onChange}\r\n                    error={errors.comment}\r\n                  />\r\n                  <button type=\"submit\" className=\"btn btn-success\"><i className=\"fas fa-plus-circle\"></i> Создать</button>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  order: state.order,\r\n  options: state.options,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getCorporateClients, getAllUsers, createOrder })(withRouter(CreateOrder));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from '../common/Spinner';\r\nimport Moment from 'react-moment';\r\nimport { getOrderById } from '../../actions/orderActions';\r\n\r\nclass OrderDetails extends Component {\r\n  componentDidMount() {\r\n    this.props.getOrderById(this.props.match.params.id);\r\n  }\r\n\r\n  render() {\r\n    const order = this.props.order.orderById;\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        {this.props.order.loading ? <Spinner /> : (\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              <h2 className=\"text-center\">Детали Заказа</h2>\r\n            </div>\r\n            <div className=\"col-lg-8 col-md-10 m-auto\">\r\n              <div className=\"card order mt-2\">\r\n                <div className=\"card-body p-0\">\r\n                  <ul className=\"font-bold list-unstyled\">\r\n                    {order.prevFailedOrder && <h3><i className=\"fas fas fa-exclamation\"></i> Повторный заказ <i className=\"fas fas fa-exclamation\"></i></h3>}\r\n\r\n                    {order.failed && <h3><i className=\"fas fas fa-exclamation\"></i> Некачественный заказ <i className=\"fas fas fa-exclamation\"></i></h3>}\r\n\r\n                    {order.disinfectorId && (\r\n                      <li>Ответственный: {order.disinfectorId.occupation} {order.disinfectorId.name}</li>\r\n                    )}\r\n\r\n\r\n                    {order.operatorDecided ? (\r\n                      <React.Fragment>\r\n                        <li>Оператор рассмотрел заявку</li>\r\n                        {order.operatorConfirmed ? (\r\n                          <React.Fragment>\r\n                            <li className=\"text-success\">Оператор Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.operatorCheckedAt}</Moment>)</li>\r\n                            <li>Балл (0-5): {order.score}</li>\r\n                            <li>Отзыв Клиента: {order.clientReview ? order.clientReview : 'Нет Отзыва'}</li>\r\n                          </React.Fragment>\r\n                        ) : <li className=\"text-danger\">Оператор Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.operatorCheckedAt}</Moment>)</li>}\r\n                      </React.Fragment>\r\n                    ) : <li>Оператор еще не рассмотрел заявку</li>}\r\n\r\n                    {order.accountantDecided ? (\r\n                      <React.Fragment>\r\n                        <li>Бухгалтер рассмотрел заявку</li>\r\n                        {order.accountantConfirmed ? (\r\n                          <React.Fragment>\r\n                            <li className=\"text-success\">Бухгалтер Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.accountantCheckedAt}</Moment>)</li>\r\n                            <li>Счет-Фактура: {order.invoice ? order.invoice : '--'}</li>\r\n                            <li>Общая Сумма: {order.cost.toLocaleString()} UZS (каждому по {(order.cost / order.disinfectors.length).toLocaleString()} UZS)</li>\r\n                          </React.Fragment>\r\n                        ) : <li className=\"text-danger\">Бухгалтер Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.accountantCheckedAt}</Moment>)</li>}\r\n                      </React.Fragment>\r\n                    ) : (\r\n                      <React.Fragment>\r\n\r\n                        {order.adminDecided ? (\r\n                          <React.Fragment>\r\n                            <li>Админ рассмотрел заявку</li>\r\n                            {order.adminConfirmed ? (\r\n                              <li className=\"text-success\">Админ Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>\r\n                            ) : <li className=\"text-danger\">Админ Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>}\r\n                          </React.Fragment>\r\n                        ) : (\r\n                          <li>Бухгалтер еще не рассмотрел заявку</li>\r\n                        )}\r\n\r\n                      </React.Fragment>\r\n                    )}\r\n\r\n\r\n                    {order.clientType === 'corporate' ?\r\n                      <React.Fragment>\r\n                        {order.clientId ? (\r\n                          <li className=\"text-danger\">Корпоративный Клиент: {order.clientId.name}</li>\r\n                        ) : <li className=\"text-danger\">Корпоративный Клиент</li>}\r\n                        <li className=\"text-danger\">Имя клиента: {order.client}</li>\r\n                      </React.Fragment>\r\n                      : ''}\r\n\r\n                    {order.clientType === 'individual' ?\r\n                      <li className=\"text-danger\">Физический Клиент: {order.client}</li>\r\n                      : ''}\r\n\r\n                    <li className=\"text-danger\">Телефон клиента: {order.phone}</li>\r\n                    {order.phone2 !== '' ? (<li>Запасной номер: {order.phone2}</li>) : ''}\r\n                    <li className=\"text-danger\">Адрес: {order.address}</li>\r\n                    <li className=\"text-danger\">Тип услуги: {order.typeOfService}</li>\r\n\r\n                    {/* <li>Дата: <Moment format=\"DD/MM/YYYY\">{order.dateFrom}</Moment></li>\r\n                    <li>Время выполнения: С <Moment format=\"HH:mm\">{order.dateFrom}</Moment></li> */}\r\n\r\n                    {order.dateFrom ? (\r\n                      <React.Fragment>\r\n                        <li>Дата: <Moment format=\"DD/MM/YYYY\">{order.dateFrom}</Moment></li>\r\n                        {order.completed ? (\r\n                          <li>Время выполнения: С <Moment format=\"HH:mm\">{order.dateFrom}</Moment> ПО <Moment format=\"HH:mm\">{order.completedAt}</Moment></li>\r\n                        ) : <li>Время выполнения: <Moment format=\"HH:mm\">{order.dateFrom}</Moment></li>}\r\n                      </React.Fragment>\r\n                    ) : <li>Дата и время выполнения: --</li>}\r\n\r\n\r\n                    <li>Комментарии Оператора: {order.comment ? order.comment : '--'}</li>\r\n                    <li>Комментарии Дезинфектора: {order.disinfectorComment ? order.disinfectorComment : '--'}</li>\r\n\r\n                    {order.userAcceptedOrder && (\r\n                      <li>Заказ принял: {order.userAcceptedOrder.occupation} {order.userAcceptedOrder.name}</li>\r\n                    )}\r\n\r\n                    {order.userCreated && (\r\n                      <li>Кто добавил заказ: {order.userCreated.occupation} {order.userCreated.name}</li>\r\n                    )}\r\n\r\n                    <li>Заказ Добавлен: <Moment format=\"DD/MM/YYYY HH:mm\">{order.createdAt}</Moment></li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  order: state.order,\r\n  operator: state.operator,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getOrderById })(withRouter(OrderDetails));","import React, { Component } from 'react';\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Moment from 'react-moment';\r\n\r\nimport { getCompleteOrders } from '../../actions/operatorActions';\r\n\r\nclass ShowOrderQueries extends Component {\r\n  state = {\r\n    completeOrders: this.props.operator.completeOrders\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (\r\n      this.props.operator.completeOrders &&\r\n      this.props.operator.completeOrders.length > 0\r\n    ) {\r\n      this.setState({\r\n        completeOrders: this.props.operator.completeOrders\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let completeOrders = this.state.completeOrders.map((order, index) =>\r\n      <div className=\"col-lg-4 col-md-6 mt-2\" key={index}>\r\n        <div className=\"card order mt-2\">\r\n          <div className=\"card-body p-0\">\r\n            <ul className=\"font-bold mb-0 list-unstyled\">\r\n              {order.prevFailedOrder && (\r\n                <li><h4><i className=\"fas fas fa-exclamation\"></i> Повторный заказ <i className=\"fas fas fa-exclamation\"></i></h4></li>\r\n              )}\r\n\r\n              {order.failed && (\r\n                <li><h4><i className=\"fas fas fa-exclamation\"></i> Некачественный заказ <i className=\"fas fas fa-exclamation\"></i></h4></li>\r\n              )}\r\n\r\n              {order.returnedBack && (\r\n                <li className=\"text-danger\">Это возвращенный заказ</li>\r\n              )}\r\n\r\n              {order.disinfectorId && (\r\n                <li>Ответственный: {order.disinfectorId.occupation} {order.disinfectorId.name}</li>\r\n              )}\r\n\r\n              {order.clientType === 'corporate' ?\r\n                <React.Fragment>\r\n                  {order.clientId ? (\r\n                    <li className=\"text-danger\">Корпоративный Клиент: {order.clientId.name}</li>\r\n                  ) : <li className=\"text-danger\">Корпоративный Клиент</li>}\r\n                  <li className=\"text-danger\">Имя клиента: {order.client}</li>\r\n                </React.Fragment>\r\n                : ''}\r\n\r\n              {order.clientType === 'individual' ?\r\n                <li className=\"text-danger\">Физический Клиент: {order.client}</li>\r\n                : ''}\r\n\r\n              <li className=\"text-danger\">Телефон клиента: {order.phone}</li>\r\n              {order.phone2 !== '' ? <li>Запасной номер: {order.phone2}</li> : ''}\r\n              <li className=\"text-danger\">Дата: <Moment format=\"DD/MM/YYYY\">{order.dateFrom}</Moment></li>\r\n              <li className=\"text-danger\">Время выполнения: С <Moment format=\"HH:mm\">{order.dateFrom}</Moment> ПО <Moment format=\"HH:mm\">{order.completedAt}</Moment></li>\r\n              <li>Адрес: {order.address}</li>\r\n              <li>Тип услуги: {order.typeOfService}</li>\r\n              <li>Срок гарантии (в месяцах): {order.guarantee}</li>\r\n\r\n              <li>Форма Выполнения Заказа заполнена: <Moment format=\"DD/MM/YYYY HH:mm\">{order.completedAt}</Moment></li>\r\n            </ul>\r\n\r\n            <Link to={`/order-confirm/${order._id}`} className=\"btn btn-dark mt-2\"><i className=\"fab fa-wpforms\"></i> Форма Подтверждения</Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <h2 className=\"text-center\">Выполненные Заказы</h2>\r\n          </div>\r\n\r\n          <div className=\"col-12 mt-2\">\r\n            <button\r\n              className=\"btn btn-primary\"\r\n              onClick={() => this.props.getCompleteOrders(this.props.auth.user.id)}\r\n            >\r\n              <i className=\"fas fa-redo-alt\"></i> Обновить запросы\r\n            </button>\r\n          </div>\r\n\r\n          {completeOrders}\r\n        </div>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  order: state.order,\r\n  operator: state.operator,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getCompleteOrders })(withRouter(ShowOrderQueries));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from '../common/Spinner';\r\nimport { getCompleteOrders } from '../../actions/operatorActions';\r\n\r\nimport ShowOrderQueries from './ShowOrderQueries';\r\n\r\nclass OrderQueries extends Component {\r\n  componentDidMount() {\r\n    if (!this.props.operator.completeOrders || this.props.operator.completeOrders.length === 0) {\r\n      this.props.getCompleteOrders(this.props.auth.user.id);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        {this.props.operator.loadingCompleteOrders ? <Spinner /> : <ShowOrderQueries />}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  order: state.order,\r\n  operator: state.operator,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getCompleteOrders })(withRouter(OrderQueries));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from '../common/Spinner';\r\nimport Moment from 'react-moment';\r\nimport TextFieldGroup from '../common/TextFieldGroup';\r\nimport TextAreaFieldGroup from '../common/TextAreaFieldGroup';\r\n\r\nimport ClientNotSatisfiedButton from '../common/ClientNotSatisfiedButton';\r\nimport { getCompleteOrderById, confirmCompleteOrder } from '../../actions/operatorActions';\r\n\r\n\r\nclass ConfirmOrder extends Component {\r\n  state = {\r\n    clientReview: '',\r\n    score: '',\r\n    errors: {}\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.getCompleteOrderById(this.props.match.params.id);\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.errors) {\r\n      this.setState({ errors: nextProps.errors });\r\n    }\r\n  }\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (this.state.clientReview === '') {\r\n      return alert('Введите отзыв клиента');\r\n    }\r\n\r\n    const object = {\r\n      orderId: this.props.operator.orderToConfirm._id,\r\n      decision: 'confirm',\r\n      clientReview: this.state.clientReview,\r\n      score: this.state.score\r\n    };\r\n    this.props.confirmCompleteOrder(object, this.props.history);\r\n  }\r\n\r\n  reject = () => {\r\n    const object = {\r\n      orderId: this.props.operator.orderToConfirm._id,\r\n      decision: 'reject',\r\n      clientReview: '',\r\n      score: ''\r\n    };\r\n    this.props.confirmCompleteOrder(object, this.props.history);\r\n  }\r\n\r\n  // goToAddNewForm = (order) => {\r\n  //   this.props.history.push(`/fail/add-new/${order._id}`, {\r\n  //     pathname: `/fail/add-new/${order._id}`,\r\n  //     state: { order }\r\n  //   });\r\n  // };\r\n\r\n  render() {\r\n    const completeOrder = this.props.operator.orderToConfirm;\r\n    const { errors } = this.state;\r\n\r\n    let consumptionArray = [];\r\n    completeOrder.disinfectors.forEach(item => {\r\n      consumptionArray.push({\r\n        user: item.user,\r\n        consumption: item.consumption\r\n      });\r\n    });\r\n\r\n    let consumptionRender = consumptionArray.map((item, index) =>\r\n      <li key={index}>\r\n        <p className=\"mb-0\">Пользователь: {item.user.occupation} {item.user.name}</p>\r\n        {item.consumption.map((element, number) =>\r\n          <p key={number} className=\"mb-0\">{element.material}: {element.amount.toLocaleString()} {element.unit}</p>\r\n        )}\r\n      </li>\r\n    );\r\n\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n\r\n          <div className=\"col-lg-6 col-md-9 mx-auto\">\r\n            {this.props.operator.loadingCompleteOrders ? <Spinner /> : (\r\n              <React.Fragment>\r\n                <h3 className=\"text-center\">Выполненный Заказ</h3>\r\n                <div className=\"card order mt-2\">\r\n                  <div className=\"card-body p-0\">\r\n                    <ul className=\"font-bold mb-0 list-unstyled\">\r\n                      {completeOrder.prevFailedOrder && (\r\n                        <li><h4><i className=\"fas fas fa-exclamation\"></i> Повторный заказ <i className=\"fas fas fa-exclamation\"></i></h4></li>\r\n                      )}\r\n\r\n                      {completeOrder.failed && (\r\n                        <li><h4><i className=\"fas fas fa-exclamation\"></i> Некачественный заказ <i className=\"fas fas fa-exclamation\"></i></h4></li>\r\n                      )}\r\n\r\n                      {completeOrder.disinfectorId && (\r\n                        <li>Ответственный: {completeOrder.disinfectorId.occupation} {completeOrder.disinfectorId.name}</li>\r\n                      )}\r\n\r\n\r\n                      {completeOrder.failed && completeOrder.nextOrdersAfterFailArray && (\r\n                        <React.Fragment>\r\n                          <li className=\"text-primary\">Повторов у этого заказа: {completeOrder.nextOrdersAfterFailArray.length}</li>\r\n\r\n                          {completeOrder.nextOrdersAfterFailArray.length > 0 && (\r\n                            <React.Fragment>\r\n                              <li className=\"text-primary\">Время последнего заказа: <Moment format=\"DD/MM/YYYY HH:mm\">{completeOrder.nextOrdersAfterFailArray[completeOrder.nextOrdersAfterFailArray.length - 1].dateFrom}</Moment></li>\r\n\r\n                              <li className=\"text-primary\">Выполняет последний заказ: {completeOrder.nextOrdersAfterFailArray[completeOrder.nextOrdersAfterFailArray.length - 1].disinfectorId.occupation} {completeOrder.nextOrdersAfterFailArray[completeOrder.nextOrdersAfterFailArray.length - 1].disinfectorId.name}</li>\r\n                            </React.Fragment>\r\n                          )}\r\n                        </React.Fragment>\r\n                      )}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                      {completeOrder.accountantDecided ? (\r\n                        <React.Fragment>\r\n                          <li>Бухгалтер рассмотрел заявку</li>\r\n                          {completeOrder.accountantConfirmed ? (\r\n                            <React.Fragment>\r\n                              <li className=\"text-success\">Бухгалтер Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{completeOrder.accountantCheckedAt}</Moment>)</li>\r\n                              <li>Счет-Фактура: {completeOrder.invoice ? completeOrder.invoice : '--'}</li>\r\n                              <li>Общая Сумма: {completeOrder.cost.toLocaleString()} UZS (каждому по {(completeOrder.cost / completeOrder.disinfectors.length).toLocaleString()} UZS)</li>\r\n                            </React.Fragment>\r\n                          ) : <li className=\"text-danger\">Бухгалтер Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{completeOrder.accountantCheckedAt}</Moment>)</li>}\r\n                        </React.Fragment>\r\n                      ) : (\r\n                        <React.Fragment>\r\n\r\n                          {completeOrder.adminDecided ? (\r\n                            <React.Fragment>\r\n                              <li>Админ рассмотрел заявку</li>\r\n                              {completeOrder.adminConfirmed ? (\r\n                                <li className=\"text-success\">Админ Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{completeOrder.adminCheckedAt}</Moment>)</li>\r\n                              ) : <li className=\"text-danger\">Админ Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{completeOrder.adminCheckedAt}</Moment>)</li>}\r\n                            </React.Fragment>\r\n                          ) : (\r\n                            <li>Бухгалтер еще не рассмотрел заявку</li>\r\n                          )}\r\n\r\n                        </React.Fragment>\r\n                      )}\r\n\r\n\r\n\r\n                      {/* {completeOrder.clientType === 'corporate' && completeOrder.paymentMethod === 'notCash' && !completeOrder.accountantDecided ? <li>Бухгалтер еще не рассмотрел заявку</li> : ''}\r\n\r\n                    {completeOrder.clientType === 'corporate' && completeOrder.paymentMethod === 'notCash' && completeOrder.accountantDecided ?\r\n                      <React.Fragment>\r\n                        <li>Бухгалтер рассмотрел заявку</li>\r\n                        {completeOrder.accountantConfirmed ? (\r\n                          <React.Fragment>\r\n                            <li className=\"text-success\">Бухгалтер Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{completeOrder.accountantCheckedAt}</Moment>)</li>\r\n                            <li>Счет-Фактура: {completeOrder.invoice}</li>\r\n                            <li>Общая Сумма: {completeOrder.cost.toLocaleString()} (каждому по {(completeOrder.cost / completeOrder.disinfectors.length).toLocaleString()})</li>\r\n                          </React.Fragment>\r\n                        ) : <li className=\"text-danger\">Бухгалтер Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{completeOrder.accountantCheckedAt}</Moment>)</li>}\r\n                      </React.Fragment>\r\n                      : ''}\r\n\r\n                    {completeOrder.clientType === 'corporate' && completeOrder.paymentMethod === 'cash' && !completeOrder.adminDecided ? <li>Админ еще не рассмотрел заявку</li> : ''}\r\n\r\n                    {completeOrder.clientType === 'corporate' && completeOrder.paymentMethod === 'cash' && completeOrder.adminDecided ? (\r\n                      <React.Fragment>\r\n                        <li>Админ рассмотрел заявку</li>\r\n                        {completeOrder.adminConfirmed ? (\r\n                          <li className=\"text-success\">Админ Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{completeOrder.adminCheckedAt}</Moment>)</li>\r\n                        ) : <li className=\"text-danger\">Админ Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{completeOrder.adminCheckedAt}</Moment>)</li>}\r\n                      </React.Fragment>\r\n                    ) : ''} */}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                      {completeOrder.clientType === 'corporate' ?\r\n                        <React.Fragment>\r\n                          {completeOrder.clientId ? (\r\n                            <li className=\"text-danger\">Корпоративный Клиент: {completeOrder.clientId.name}</li>\r\n                          ) : <li className=\"text-danger\">Корпоративный Клиент</li>}\r\n                          <li className=\"text-danger\">Имя клиента: {completeOrder.client}</li>\r\n                        </React.Fragment>\r\n                        : ''}\r\n\r\n                      {completeOrder.clientType === 'individual' ?\r\n                        <li className=\"text-danger\">Физический Клиент: {completeOrder.client}</li>\r\n                        : ''}\r\n                      <li className=\"text-danger\">Дата: <Moment format=\"DD/MM/YYYY\">{completeOrder.dateFrom}</Moment></li>\r\n                      <li className=\"text-danger\">Время выполнения: С <Moment format=\"HH:mm\">{completeOrder.dateFrom}</Moment> ПО <Moment format=\"HH:mm\">{completeOrder.completedAt}</Moment></li>\r\n                      <li className=\"text-danger\">Адрес: {completeOrder.address}</li>\r\n\r\n                      <li className=\"text-danger\">Телефон клиента: {completeOrder.phone}</li>\r\n                      {completeOrder.phone2 !== '' ? <li className=\"text-danger\">Запасной номер: {completeOrder.phone2}</li> : ''}\r\n                      <li className=\"text-danger\">Тип услуги: {completeOrder.typeOfService}</li>\r\n                      <li>Срок гарантии (в месяцах): {completeOrder.guarantee}</li>\r\n\r\n                      <li>Комментарии Оператора: {completeOrder.comment ? completeOrder.comment : '--'}</li>\r\n                      <li>Комментарии Дезинфектора: {completeOrder.disinfectorComment ? completeOrder.disinfectorComment : '--'}</li>\r\n\r\n                      <li>Расход Материалов (заказ выполнили {completeOrder.disinfectors.length} чел):</li>\r\n                      <ul className=\"font-bold mb-0\">\r\n                        {consumptionRender}\r\n                      </ul>\r\n\r\n                      {completeOrder.clientType === 'corporate' ? (\r\n                        <React.Fragment>\r\n                          {completeOrder.paymentMethod === 'cash' ? (\r\n                            <React.Fragment>\r\n                              <li>Тип Платежа: Наличный</li>\r\n                              <li>Общая Сумма: {completeOrder.cost.toLocaleString()} UZS (каждому по {(completeOrder.cost / completeOrder.disinfectors.length).toLocaleString()} UZS)</li>\r\n                            </React.Fragment>\r\n                          ) : (\r\n                            <React.Fragment>\r\n                              <li>Тип Платежа: Безналичный</li>\r\n                              <li>Номер Договора: {completeOrder.contractNumber || ''}</li>\r\n                            </React.Fragment>\r\n                          )}\r\n                        </React.Fragment>\r\n                      ) : ''}\r\n\r\n                      {completeOrder.clientType === 'individual' ?\r\n                        <li>Общая Сумма: {completeOrder.cost.toLocaleString()} UZS (каждому по {(completeOrder.cost / completeOrder.disinfectors.length).toLocaleString()} UZS)</li>\r\n                        : ''}\r\n\r\n                      {completeOrder.userAcceptedOrder ? (\r\n                        <li>Заказ принял: {completeOrder.userAcceptedOrder.occupation} {completeOrder.userAcceptedOrder.name}</li>\r\n                      ) : ''}\r\n\r\n                      {completeOrder.userCreated ? (\r\n                        <li>Заказ добавил: {completeOrder.userCreated.occupation} {completeOrder.userCreated.name}</li>\r\n                      ) : ''}\r\n\r\n                      <li>Форма Выполнения Заказа заполнена: <Moment format=\"DD/MM/YYYY HH:mm\">{completeOrder.completedAt}</Moment></li>\r\n                    </ul>\r\n\r\n                    <div className=\"btn-group mt-3\">\r\n                      <button className=\"btn btn-danger mr-2\" onClick={() => { if (window.confirm('Вы уверены отменить заказ?')) { this.reject() } }}><i className=\"fas fa-ban\"></i> Отменить Выполнение Заказа</button>\r\n                    </div>\r\n\r\n                    {/* {!completeOrder.failed ? (\r\n                      <div className=\"btn-group mt-3\">\r\n                        <button\r\n                          className=\"btn btn-secondary mr-2\"\r\n                          onClick={() => this.goToAddNewForm(completeOrder)}\r\n                        >Клиент Недоволен</button>\r\n                      </div>\r\n                    ) : ''} */}\r\n\r\n                    <ClientNotSatisfiedButton\r\n                      order={completeOrder}\r\n                      shouldLoadOrder={true}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </React.Fragment>\r\n            )}\r\n          </div>\r\n\r\n\r\n          <div className=\"col-lg-6 col-md-9 mx-auto\">\r\n            <div className=\"card mt-3 mb-3\">\r\n              <div className=\"card-body p-2\">\r\n                <h3 className=\"text-center\">Форма Подтверждения Заказа</h3>\r\n                {/* <form noValidate onSubmit={this.onSubmit}> */}\r\n                <form onSubmit={this.onSubmit}>\r\n\r\n                  <TextFieldGroup\r\n                    label=\"Полученный Балл за Выполнение Заказа (0-5):\"\r\n                    type=\"number\"\r\n                    name=\"score\"\r\n                    min=\"0\"\r\n                    max=\"5\"\r\n                    value={this.state.score}\r\n                    onChange={this.onChange}\r\n                    error={errors.score}\r\n                    required={true}\r\n                  />\r\n\r\n                  <TextAreaFieldGroup\r\n                    name=\"clientReview\"\r\n                    placeholder=\"Отзыв Клиента\"\r\n                    value={this.state.clientReview}\r\n                    onChange={this.onChange}\r\n                    error={errors.clientReview}\r\n                  />\r\n\r\n                  <button className=\"btn btn-success btn-block\">\r\n                    <i className=\"fas fa-check-square\"></i> Подтвердить Выполнение Заказа\r\n                  </button>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  order: state.order,\r\n  operator: state.operator,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getCompleteOrderById, confirmCompleteOrder })(withRouter(ConfirmOrder));","import React, { Component } from 'react';\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from '../common/Spinner';\r\nimport Moment from 'react-moment';\r\n\r\nimport {\r\n  getRepeatOrders,\r\n  repeatOrderNotNeeded\r\n} from '../../actions/operatorActions';\r\n\r\n\r\nimport { getWeekDays, getWeekRange } from '../common/weekFunc';\r\nimport DayPicker from 'react-day-picker';\r\nimport 'react-day-picker/lib/style.css';\r\n\r\n\r\nclass RepeatOrders extends Component {\r\n  state = {\r\n    repeatOrders: [],\r\n\r\n    day: '',\r\n\r\n    // to display month and year in heading h2\r\n    // headingMonth: '',\r\n    // headingYear: '',\r\n    headingDay: '',\r\n\r\n    method: '',\r\n    hoverRange: undefined,\r\n    selectedDays: []\r\n  };\r\n\r\n\r\n  // THIS <CACHING> NOT USED CURRENTLY BECAUSE IF REPEAT ORDER NOT NEEDED, THEN WE NEED TO DELETE THAT ORDER FROM GLOBAL STATE AND FROM DOM WHICH IS NOT YET DONE\r\n\r\n  // componentDidMount() {\r\n  // if (\r\n  //   this.props.operator.repeatOrders &&\r\n  //   this.props.operator.repeatOrders.length > 0\r\n  // ) {\r\n  //   this.setState({\r\n  //     repeatOrders: this.props.operator.repeatOrders,\r\n  //     headingDay: this.props.operator.repeatOrderSearchVars.headingDay,\r\n  //     method: this.props.operator.repeatOrderSearchVars.method,\r\n  //     selectedDays: this.props.operator.repeatOrderSearchVars.selectedDays\r\n  //   });\r\n  // }\r\n  // }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    this.setState({\r\n      repeatOrders: nextProps.operator.repeatOrders\r\n    });\r\n  }\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  getDayRepeats = (e) => {\r\n    e.preventDefault();\r\n    let object = {\r\n      operatorId: this.props.auth.user.id,\r\n      type: 'day',\r\n      day: this.state.day\r\n    };\r\n\r\n    this.props.getRepeatOrders(object);\r\n\r\n    this.setState({\r\n      method: 'day',\r\n      headingDay: this.state.day.split('-').reverse().join('-')\r\n    });\r\n  }\r\n\r\n  noNeed = (id) => {\r\n    this.props.repeatOrderNotNeeded(id, this.props.history, this.props.auth.user.occupation);\r\n  }\r\n\r\n\r\n  // weekly calendar\r\n  handleDayChange = date => {\r\n    // this.props.getWeekStatsForAdmin(getWeekDays(getWeekRange(date).from));\r\n    let object = {\r\n      operatorId: this.props.auth.user.id,\r\n      type: 'week',\r\n      days: getWeekDays(getWeekRange(date).from)\r\n    };\r\n\r\n    this.props.getRepeatOrders(object);\r\n\r\n    this.setState({\r\n      method: 'week',\r\n      selectedDays: getWeekDays(getWeekRange(date).from)\r\n    });\r\n  };\r\n\r\n  handleDayEnter = date => {\r\n    this.setState({\r\n      hoverRange: getWeekRange(date)\r\n    });\r\n  };\r\n\r\n  handleDayLeave = () => {\r\n    this.setState({\r\n      hoverRange: undefined\r\n    });\r\n  };\r\n\r\n  handleWeekClick = (weekNumber, days, e) => {\r\n    // this.props.getWeekStatsForAdmin(getWeekDays(getWeekRange(days[0]).from));\r\n    let object = {\r\n      operatorId: this.props.auth.user.id,\r\n      type: 'week',\r\n      days: getWeekDays(getWeekRange(days[0]).from)\r\n    };\r\n\r\n    this.props.getRepeatOrders(object);\r\n\r\n    this.setState({\r\n      method: 'week',\r\n      selectedDays: getWeekDays(getWeekRange(days[0]).from)\r\n    });\r\n  };\r\n  // end of weekly calendar\r\n\r\n\r\n  render() {\r\n    // weekly calender\r\n    const { hoverRange, selectedDays } = this.state;\r\n\r\n    const daysAreSelected = selectedDays.length > 0;\r\n\r\n    const modifiers = {\r\n      hoverRange,\r\n      selectedRange: daysAreSelected && {\r\n        from: selectedDays[0],\r\n        to: selectedDays[6],\r\n      },\r\n      hoverRangeStart: hoverRange && hoverRange.from,\r\n      hoverRangeEnd: hoverRange && hoverRange.to,\r\n      selectedRangeStart: daysAreSelected && selectedDays[0],\r\n      selectedRangeEnd: daysAreSelected && selectedDays[6]\r\n    };\r\n    // end of calendar\r\n\r\n\r\n    let renderOrders = this.state.repeatOrders.map((item, index) => {\r\n      let consumptionArray = [];\r\n      item.previousOrder.disinfectors.forEach(object => {\r\n        consumptionArray.push({\r\n          user: object.user,\r\n          consumption: object.consumption\r\n        });\r\n      });\r\n\r\n\r\n      let consumptionRender = consumptionArray.map((element, key) =>\r\n        <li key={key}>\r\n          <p className=\"mb-0\">Пользователь: {element.user.occupation} {element.user.name}</p>\r\n          {element.consumption.map((thing, number) =>\r\n            <p key={number} className=\"mb-0\">{thing.material}: {thing.amount.toLocaleString()} {thing.unit}</p>\r\n          )}\r\n        </li>\r\n      );\r\n\r\n      return (\r\n        <React.Fragment key={index}>\r\n          <div className=\"col-lg-4 col-md-6 mt-3\">\r\n            <div className=\"card order mt-2\">\r\n              <div className=\"card-body p-0\">\r\n                <ul className=\"font-bold mb-0 list-unstyled\">\r\n                  {item.disinfectorId && (\r\n                    <li>Ответственный: {item.disinfectorId.occupation} {item.disinfectorId.name}</li>\r\n                  )}\r\n\r\n                  {item.clientType === 'corporate' ?\r\n                    <React.Fragment>\r\n                      {item.clientId ? (\r\n                        <li>Корпоративный Клиент: {item.clientId.name}</li>\r\n                      ) : <li>Корпоративный Клиент</li>}\r\n                      <li>Имя клиента: {item.client}</li>\r\n                    </React.Fragment>\r\n                    : ''}\r\n\r\n                  {item.clientType === 'individual' ?\r\n                    <li>Физический Клиент: {item.client}</li>\r\n                    : ''}\r\n\r\n                  <li>Телефон: {item.phone}</li>\r\n                  {item.phone2 && item.phone2 !== '' ? <li>Запасной номер: {item.phone2}</li> : ''}\r\n                  <li>Адрес: {item.address}</li>\r\n                  <li>Тип услуги: {item.typeOfService}</li>\r\n                  <li>Дата предыдущего заказа: <Moment format=\"DD/MM/YYYY\">{item.previousOrder.dateFrom}</Moment></li>\r\n                  <li>Срок гарантии (в месяцах): {item.previousOrder.guarantee}</li>\r\n                  <li>Срок гарантии истекает: <Moment format=\"DD/MM/YYYY\">{item.timeOfRepeat}</Moment></li>\r\n                </ul>\r\n\r\n                <button type=\"button\" className=\"btn btn-primary mt-2\" data-toggle=\"modal\" data-target={`#info${index}`}>Полная информация о предыдущем заказе</button>\r\n\r\n                <Link to={`/create-repeat-order-form/${item._id}`} className=\"btn btn-success mt-2\">Повторная работа нужна</Link>\r\n\r\n                <button className=\"btn btn-danger mt-2\" onClick={() => { if (window.confirm('Вы  уверены?')) return this.noNeed(item._id) }}>Повторная работа не нужна</button>\r\n\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"modal fade\" id={`info${index}`}>\r\n            <div className=\"modal-dialog\">\r\n              <div className=\"modal-content\">\r\n                <div className=\"modal-body\">\r\n                  <ul className=\"font-bold mb-0 list-unstyled\">\r\n                    {item.disinfectorId && (\r\n                      <li>Ответственный: {item.disinfectorId.occupation} {item.disinfectorId.name}</li>\r\n                    )}\r\n\r\n                    {item.clientType === 'corporate' ?\r\n                      <React.Fragment>\r\n                        {item.clientId ? (\r\n                          <li className=\"text-danger\">Корпоративный Клиент: {item.clientId.name}</li>\r\n                        ) : <li className=\"text-danger\">Корпоративный Клиент</li>}\r\n                        <li className=\"text-danger\">Имя клиента: {item.client}</li>\r\n                        <li>Номер договора: {item.previousOrder.contractNumber}</li>\r\n                      </React.Fragment>\r\n                      : ''}\r\n\r\n                    {item.clientType === 'individual' ?\r\n                      <li className=\"text-danger\">Физический Клиент: {item.client}</li>\r\n                      : ''}\r\n\r\n                    <li className=\"text-danger\">Телефон: {item.phone}</li>\r\n                    {item.phone2 && item.phone2 !== '' ? <li className=\"text-danger\">Запасной номер: {item.phone2}</li> : ''}\r\n                    <li className=\"text-danger\">Адрес: {item.address}</li>\r\n                    <li className=\"text-danger\">Дата: <Moment format=\"DD/MM/YYYY\">{item.previousOrder.dateFrom}</Moment></li>\r\n                    <li className=\"text-danger\">Время выполнения: С <Moment format=\"HH:mm\">{item.previousOrder.dateFrom}</Moment> ПО <Moment format=\"HH:mm\">{item.previousOrder.completedAt}</Moment></li>\r\n                    <li className=\"text-danger\">Тип услуги: {item.typeOfService}</li>\r\n\r\n                    <li>Откуда узнали: {item.advertising}</li>\r\n                    <li>Срок гарантии (в месяцах): {item.previousOrder.guarantee}</li>\r\n                    <li>Комментарии Оператора: {item.previousOrder.comment ? item.previousOrder.comment : '--'}</li>\r\n                    <li>Комментарии Дезинфектора: {item.previousOrder.disinfectorComment ? item.previousOrder.disinfectorComment : '--'}</li>\r\n\r\n                    {item.userAcceptedOrder ? (\r\n                      <li>Заказ принял: {item.userAcceptedOrder.occupation} {item.userAcceptedOrder.name}</li>\r\n                    ) : ''}\r\n\r\n                    {item.userCreated ? (\r\n                      <li>Заказ Добавлен: {item.userCreated.occupation} {item.userCreated.name} (время: <Moment format=\"DD/MM/YYYY HH:mm\">{item.createdAt}</Moment>)</li>\r\n                    ) : ''}\r\n\r\n                    <li>Расход Материалов:</li>\r\n                    <ul className=\"font-bold mb-0\">\r\n                      {consumptionRender}\r\n                    </ul>\r\n\r\n                    {item.previousOrder.operatorDecided ? (\r\n                      <React.Fragment>\r\n                        <li>Оператор рассмотрел заявку (время: <Moment format=\"DD/MM/YYYY HH:mm\">{item.previousOrder.operatorCheckedAt}</Moment>)</li>\r\n                        {item.previousOrder.operatorConfirmed ? <li className=\"text-success\">Оператор подтвердил заяку</li> : <li className=\"text-danger\">Оператор отверг заяку</li>}\r\n                        <li>Балл: {item.previousOrder.score}</li>\r\n                        <li>Отзыв Клиента: {item.previousOrder.clientReview}</li>\r\n                      </React.Fragment>\r\n                    ) : <li>Оператор еще не рассмотрел заявку</li>}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                    {item.previousOrder.accountantDecided ? (\r\n                      <React.Fragment>\r\n                        <li>Бухгалтер рассмотрел заявку</li>\r\n                        {item.previousOrder.accountantConfirmed ? (\r\n                          <React.Fragment>\r\n                            <li className=\"text-success\">Бухгалтер Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{item.previousOrder.accountantCheckedAt}</Moment>)</li>\r\n                            <li>Счет-Фактура: {item.previousOrder.invoice ? item.previousOrder.invoice : '--'}</li>\r\n                            <li>Общая Сумма: {item.previousOrder.cost.toLocaleString()} UZS (каждому по {(item.previousOrder.cost / item.previousOrder.disinfectors.length).toLocaleString()} UZS)</li>\r\n                          </React.Fragment>\r\n                        ) : <li className=\"text-danger\">Бухгалтер Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{item.previousOrder.accountantCheckedAt}</Moment>)</li>}\r\n                      </React.Fragment>\r\n                    ) : (\r\n                      <React.Fragment>\r\n\r\n                        {item.previousOrder.adminDecided ? (\r\n                          <React.Fragment>\r\n                            <li>Админ рассмотрел заявку</li>\r\n                            {item.previousOrder.adminConfirmed ? (\r\n                              <li className=\"text-success\">Админ Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{item.previousOrder.adminCheckedAt}</Moment>)</li>\r\n                            ) : <li className=\"text-danger\">Админ Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{item.previousOrder.adminCheckedAt}</Moment>)</li>}\r\n                          </React.Fragment>\r\n                        ) : (\r\n                          <li>Бухгалтер еще не рассмотрел заявку</li>\r\n                        )}\r\n\r\n                      </React.Fragment>\r\n                    )}\r\n\r\n\r\n\r\n\r\n                    {/* {item.clientType === 'corporate' ? (\r\n                      <React.Fragment>\r\n                        {item.previousOrder.accountantDecided ? (\r\n                          <React.Fragment>\r\n                            <li>Бухгалтер рассмотрел заявку (время: <Moment format=\"DD/MM/YYYY HH:mm\">{item.previousOrder.accountantCheckedAt}</Moment>)</li>\r\n                            {item.previousOrder.accountantConfirmed ? (\r\n                              <React.Fragment>\r\n                                <li className=\"text-success\">Бухгалтер подтвердил заяку</li>\r\n                                <li>Общая сумма: {item.previousOrder.cost.toLocaleString()} UZS</li>\r\n                                <li>Счет-Фактура: {item.previousOrder.invoice}</li>\r\n                              </React.Fragment>\r\n                            ) : <li className=\"text-danger\">Бухгалтер отверг заяку</li>}\r\n                          </React.Fragment>\r\n                        ) : <li>Бухгалтер еще не рассмотрел заявку</li>}\r\n                      </React.Fragment>\r\n                    ) : ''}\r\n\r\n                    {item.clientType === 'individual' ? (\r\n                      <React.Fragment>\r\n                        {item.previousOrder.adminDecided ? (\r\n                          <React.Fragment>\r\n                            <li>Админ рассмотрел заявку (время: <Moment format=\"DD/MM/YYYY HH:mm\">{item.previousOrder.adminCheckedAt}</Moment>)</li>\r\n                            {item.previousOrder.adminConfirmed ? <li className=\"text-success\">Админ подтвердил заяку</li> : <li className=\"text-danger\">Админ отверг заяку</li>}\r\n                          </React.Fragment>\r\n                        ) : ''}\r\n                      </React.Fragment>\r\n                    ) : ''} */}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                  </ul>\r\n                </div>\r\n\r\n                <div className=\"modal-footer\">\r\n                  <button type=\"button\" className=\"btn btn-danger\" data-dismiss=\"modal\">Закрыть</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </React.Fragment>\r\n      )\r\n    });\r\n\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <h2 className=\"text-center\">Повторные продажи</h2>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-4 col-md-6 weekly-stats mt-3\">\r\n            <div className=\"SelectedWeekExample form-bg font-weight-bold\">\r\n              <h4 className=\"text-center\">Повторные продажи по неделям</h4>\r\n              <DayPicker\r\n                selectedDays={selectedDays}\r\n                showWeekNumbers\r\n                showOutsideDays\r\n                modifiers={modifiers}\r\n                firstDayOfWeek={1}\r\n                onDayClick={this.handleDayChange}\r\n                onDayMouseEnter={this.handleDayEnter}\r\n                onDayMouseLeave={this.handleDayLeave}\r\n                onWeekClick={this.handleWeekClick}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-lg-4 col-md-6 mt-3\">\r\n            <form onSubmit={this.getDayRepeats} className=\"form-bg p-2\">\r\n              <h4 className=\"text-center\">Повторные продажи по дням</h4>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"day\"><strong>Выберите День:</strong></label>\r\n                <input type=\"date\" name=\"day\" className=\"form-control\" onChange={this.onChange} required />\r\n              </div>\r\n              <button type=\"submit\" className=\"btn btn-primary\"><i className=\"fas fa-search\"></i> Искать</button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            {this.state.method === 'week' ?\r\n              <h2 className=\"text-center pl-3 pr-3\">Недельные повторные продажи за <Moment format=\"DD/MM/YYYY\">{this.state.selectedDays[0]}</Moment> - <Moment format=\"DD/MM/YYYY\">{this.state.selectedDays[6]}</Moment></h2> : ''}\r\n\r\n            {this.state.method === 'day' ?\r\n              <h2 className=\"text-center pl-3 pr-3\">Дневные повторные продажи за {this.state.headingDay}</h2> : ''}\r\n          </div>\r\n        </div>\r\n\r\n        {this.props.operator.loadingSortedOrders ? <Spinner /> : (\r\n          <div className=\"row\">\r\n            {renderOrders}\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  order: state.order,\r\n  operator: state.operator,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getRepeatOrders, repeatOrderNotNeeded })(withRouter(RepeatOrders));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from '../common/Spinner';\r\n\r\nimport TextFieldGroup from '../common/TextFieldGroup';\r\nimport TextAreaFieldGroup from '../common/TextAreaFieldGroup';\r\n\r\nimport advertisements from '../common/advertisements';\r\nimport orderTypes from '../common/orderTypes';\r\n\r\nimport {\r\n  getAllUsers,\r\n  getRepeatOrderForm,\r\n  createRepeatOrder\r\n} from '../../actions/orderActions';\r\n\r\n\r\nclass CreateRepeatOrder extends Component {\r\n  state = {\r\n    disinfectorId: '',\r\n    userAcceptedOrder: '',\r\n    client: '',\r\n    clientType: '',\r\n    clientId: '',\r\n\r\n    address: '',\r\n    date: '',\r\n    timeFrom: '',\r\n    phone: '',\r\n    hasSecondPhone: false,\r\n    phone2: '',\r\n    // typeOfService: '',\r\n    typeOfService: [],\r\n    advertising: '',\r\n    comment: ''\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.getRepeatOrderForm(this.props.match.params.orderId);\r\n    this.props.getAllUsers();\r\n    window.scrollTo({ top: 0 });\r\n\r\n    let array = [];\r\n\r\n    orderTypes.forEach(object => {\r\n      array.push({\r\n        type: object.value,\r\n        selected: false\r\n      });\r\n    });\r\n\r\n    this.setState({\r\n      typeOfService: array\r\n    });\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n\r\n    if (nextProps.order.repeatOrder) {\r\n      let newOrder = nextProps.order.repeatOrder;\r\n\r\n      if (!newOrder.phone2 || newOrder.phone2 === '') {\r\n        this.setState({\r\n          hasSecondPhone: false\r\n        });\r\n      } else {\r\n        this.setState({\r\n          hasSecondPhone: true,\r\n          phone2: newOrder.phone2\r\n        });\r\n      }\r\n\r\n\r\n\r\n      let array = [];\r\n      orderTypes.forEach(object => {\r\n        array.push({\r\n          type: object.value,\r\n          selected: false\r\n        });\r\n      });\r\n\r\n      // service type array\r\n      let arraySelectedItems = [];\r\n      // to prevent bugs\r\n      if (newOrder.typeOfService && newOrder.typeOfService.length > 0) {\r\n        arraySelectedItems = newOrder.typeOfService.split(',');\r\n\r\n        array.forEach(item => {\r\n          arraySelectedItems.forEach(element => {\r\n            if (item.type === element.trim()) {\r\n              item.selected = true;\r\n            }\r\n          });\r\n        });\r\n      }\r\n\r\n\r\n\r\n      this.setState({\r\n        disinfectorId: newOrder.disinfectorId._id ? newOrder.disinfectorId._id : '',\r\n        clientType: newOrder.clientType ? newOrder.clientType : '',\r\n        client: newOrder.client ? newOrder.client : '',\r\n        clientId: newOrder.clientId ? newOrder.clientId._id : '',\r\n\r\n        address: newOrder.address ? newOrder.address : '',\r\n        phone: newOrder.phone ? newOrder.phone : '',\r\n        // typeOfService: newOrder.typeOfService ? newOrder.typeOfService : '',\r\n        typeOfService: array,\r\n        advertising: newOrder.advertising ? newOrder.advertising : '',\r\n        userAcceptedOrder: newOrder.userAcceptedOrder ? newOrder.userAcceptedOrder._id : '',\r\n      });\r\n    }\r\n  }\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  onChangeTypes = (e) => {\r\n    let array = [...this.state.typeOfService];\r\n    array.forEach(item => {\r\n      if (item.type === e.target.value) {\r\n        item.selected = e.target.checked;\r\n      }\r\n    });\r\n\r\n    this.setState({\r\n      typeOfService: array\r\n    });\r\n  }\r\n\r\n  toggleSecondPhone = (e) => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      hasSecondPhone: !this.state.hasSecondPhone\r\n    });\r\n  }\r\n\r\n  deleteSecondPhone = (e) => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      hasSecondPhone: false,\r\n      phone2: ''\r\n    });\r\n  }\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const date = this.state.date.split('-');\r\n    const dateStringFrom = new Date(`${date[1]}-${date[2]}-${date[0]} ${this.state.timeFrom}`);\r\n\r\n    let numberCharacters = 0, phone2Characters = 0;\r\n    for (let i = 1; i <= 12; i++) {\r\n      if (this.state.phone[i] >= '0' && this.state.phone[i] <= '9') {\r\n        numberCharacters++;\r\n      }\r\n      if (this.state.phone2[i] >= '0' && this.state.phone2[i] <= '9') {\r\n        phone2Characters++;\r\n      }\r\n    }\r\n\r\n\r\n\r\n    let serviceTypeString = '', selectedItems = 0;\r\n    this.state.typeOfService.forEach(item => {\r\n      if (item.selected) {\r\n        selectedItems++;\r\n        if (selectedItems === 1) {\r\n          serviceTypeString = serviceTypeString + item.type;\r\n        } else {\r\n          serviceTypeString = serviceTypeString + ', ' + item.type;\r\n        }\r\n      }\r\n    });\r\n\r\n\r\n\r\n    if (this.state.phone.length !== 13 || (this.state.hasSecondPhone && this.state.phone2.length !== 13)) {\r\n      alert('Телефонный номер должен содержать 13 символов. Введите в формате +998XXXXXXXXX');\r\n    } else if (this.state.phone[0] !== '+' || (this.state.hasSecondPhone && this.state.phone2[0] !== '+')) {\r\n      alert('Телефонный номер должен начинаться с \"+\". Введите в формате +998XXXXXXXXX');\r\n    } else if (numberCharacters !== 12 || (this.state.hasSecondPhone && phone2Characters !== 12)) {\r\n      alert('Телефонный номер должен содержать \"+\" и 12 цифр');\r\n    } else if (selectedItems === 0) {\r\n      alert('Выберите тип заказа');\r\n    } else {\r\n      const newOrder = {\r\n        id: this.props.match.params.orderId,\r\n        disinfectorId: this.state.disinfectorId,\r\n        clientType: this.state.clientType,\r\n        client: this.state.client,\r\n        clientId: this.state.clientId,\r\n\r\n        address: this.state.address,\r\n        date: this.state.date,\r\n        dateFrom: dateStringFrom,\r\n        timeFrom: this.state.timeFrom,\r\n        phone: this.state.phone,\r\n        phone2: this.state.phone2,\r\n        typeOfService: serviceTypeString,\r\n        advertising: this.state.advertising,\r\n        comment: this.state.comment,\r\n        userCreated: this.props.auth.user.id,\r\n        userAcceptedOrder: this.state.userAcceptedOrder\r\n      };\r\n      // console.log(newOrder);\r\n      this.props.createRepeatOrder(newOrder, this.props.history, this.props.auth.user.occupation);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let allUsers = this.props.order.allUsers ? this.props.order.allUsers.sort((x, y) => x.name - y.name) : [];\r\n    const userOptions = [\r\n      { label: '-- Кто принял заказ? --', value: \"\" }\r\n    ];\r\n    allUsers.forEach(item => {\r\n      userOptions.push({\r\n        label: `${item.occupation}, ${item.name}`,\r\n        value: item._id\r\n      });\r\n    });\r\n\r\n    let disinfectors = allUsers.filter(user => user.occupation === 'disinfector' || user.occupation === 'subadmin');\r\n    const disinfectorOptions = [\r\n      { label: '-- Выберите ответственного дезинфектора --', value: \"\" }\r\n    ];\r\n    disinfectors.forEach(worker => disinfectorOptions.push({\r\n      label: `${worker.name}, ${worker.occupation}`, value: worker._id\r\n    }));\r\n\r\n    const advOptions = [\r\n      { label: '-- Откуда узнали о нас? --', value: \"\" }\r\n    ];\r\n\r\n    advertisements.forEach(item => {\r\n      advOptions.push({\r\n        label: item.label,\r\n        value: item.value\r\n      });\r\n    });\r\n\r\n\r\n    let renderServiceTypes = this.state.typeOfService.map((item, key) =>\r\n      <div className=\"form-check\" key={key}>\r\n        <label className=\"form-check-label\">\r\n          {item.selected ?\r\n            <React.Fragment>\r\n              <input type=\"checkbox\" defaultChecked=\"checked\" className=\"form-check-input\" onChange={this.onChangeTypes} value={item.type} />{item.type}\r\n            </React.Fragment> :\r\n            <React.Fragment>\r\n              <input type=\"checkbox\" className=\"form-check-input\" onChange={this.onChangeTypes} value={item.type} />{item.type}\r\n            </React.Fragment>}\r\n        </label>\r\n      </div>\r\n    );\r\n\r\n\r\n    return (\r\n      <React.Fragment>\r\n        {this.props.order.loadingRepeatOrder ? <Spinner /> : (\r\n          <div className=\"container mt-4\">\r\n            <div className=\"row\">\r\n              <div className=\"col-md-8 m-auto\">\r\n                <div className=\"card\">\r\n                  <div className=\"card-body\">\r\n                    <h2 className=\"display-5 text-center\">Создать Повторный Заказ</h2>\r\n                    <form onSubmit={this.onSubmit}>\r\n                      {this.state.clientType === 'corporate' ? (\r\n                        <h5>Корпоративный Клиент: {this.props.order.repeatOrder.clientId.name}</h5>\r\n                      ) : ''}\r\n\r\n                      {this.state.clientType === 'individual' ? (\r\n                        <h5>Физический Клиент</h5>\r\n                      ) : ''}\r\n\r\n                      <TextFieldGroup\r\n                        label=\"Введите Имя Клиента\"\r\n                        type=\"text\"\r\n                        name=\"client\"\r\n                        value={this.state.client}\r\n                        onChange={this.onChange}\r\n                        required\r\n                      />\r\n                      <TextFieldGroup\r\n                        label=\"Адрес\"\r\n                        type=\"text\"\r\n                        name=\"address\"\r\n                        value={this.state.address}\r\n                        onChange={this.onChange}\r\n                        required\r\n                      />\r\n                      <TextFieldGroup\r\n                        label=\"Дата выполнения заказа\"\r\n                        name=\"date\"\r\n                        type=\"date\"\r\n                        onChange={this.onChange}\r\n                        required\r\n                      />\r\n                      <TextFieldGroup\r\n                        label=\"Время (часы:минуты:AM/PM) C\"\r\n                        name=\"timeFrom\"\r\n                        type=\"time\"\r\n                        onChange={this.onChange}\r\n                        required\r\n                      />\r\n                      <TextFieldGroup\r\n                        label=\"Телефон\"\r\n                        type=\"phone\"\r\n                        name=\"phone\"\r\n                        value={this.state.phone}\r\n                        onChange={this.onChange}\r\n                        required\r\n                      />\r\n                      {this.state.hasSecondPhone ? (\r\n                        <React.Fragment>\r\n                          <TextFieldGroup\r\n                            label=\"Запасной Номер Телефона\"\r\n                            placeholder=\"Введите запасной номер телефона\"\r\n                            type=\"phone\"\r\n                            name=\"phone2\"\r\n                            value={this.state.phone2}\r\n                            onChange={this.onChange}\r\n                            required\r\n                          />\r\n                          <button className=\"btn btn-danger mb-2\" onClick={this.deleteSecondPhone}><i className=\"fas fa-minus-circle\"></i> Убрать запасной номер телефона</button>\r\n                        </React.Fragment>\r\n                      ) : (\r\n                        <button className=\"btn btn-success mb-3\" onClick={this.toggleSecondPhone}><i className=\"fas fa-plus-circle\"></i> Добавить другой номер</button>\r\n                      )}\r\n\r\n                      {/* <div className=\"form-group\">\r\n                        <label htmlFor=\"typeOfService\">Выберите тип заказа:</label>\r\n                        <select className=\"form-control\" value={this.state.typeOfService} name=\"typeOfService\" onChange={this.onChange} required>\r\n                          {orderTypes.map((item, index) =>\r\n                            <option key={index} value={item.value}>{item.label}</option>\r\n                          )}\r\n                        </select>\r\n                      </div> */}\r\n\r\n\r\n                      <div className=\"border-bottom\"></div>\r\n                      <div className=\"form-group\">\r\n                        <label htmlFor=\"\">Выберите тип заказа (можно выбрать несколько):</label>\r\n                        {renderServiceTypes}\r\n                      </div>\r\n                      <div className=\"border-bottom\"></div>\r\n\r\n\r\n                      <div className=\"form-group\">\r\n                        <label htmlFor=\"advertising\">Откуда узнали:</label>\r\n                        <select className=\"form-control\" value={this.state.advertising} name=\"advertising\" onChange={this.onChange} required>\r\n                          {advOptions.map((item, index) =>\r\n                            <option key={index} value={item.value}>{item.label}</option>\r\n                          )}\r\n                        </select>\r\n                      </div>\r\n\r\n                      {this.props.order.loading ? (\r\n                        <p>Дезинфекторы загружаются...</p>\r\n                      ) : (\r\n                        <div className=\"form-group\">\r\n                          <label htmlFor=\"disinfectorId\">Выберите Дезинфектора:</label>\r\n                          <select className=\"form-control\" value={this.state.disinfectorId} name=\"disinfectorId\" onChange={this.onChange} required>\r\n                            {disinfectorOptions.map((item, index) =>\r\n                              <option key={index} value={item.value}>{item.label}</option>\r\n                            )}\r\n                          </select>\r\n                        </div>\r\n                      )}\r\n\r\n                      <div className=\"form-group\">\r\n                        <label htmlFor=\"userAcceptedOrder\">Кто принял Заказ:</label>\r\n                        <select className=\"form-control\" value={this.state.userAcceptedOrder} name=\"userAcceptedOrder\" onChange={this.onChange} required>\r\n                          {userOptions.map((item, index) =>\r\n                            <option key={index} value={item.value}>{item.label}</option>\r\n                          )}\r\n                        </select>\r\n                      </div>\r\n\r\n                      <TextAreaFieldGroup\r\n                        name=\"comment\"\r\n                        placeholder=\"Комментарии (Это поле не обязательное)\"\r\n                        value={this.state.comment}\r\n                        onChange={this.onChange}\r\n                        required\r\n                      />\r\n                      <button type=\"submit\" className=\"btn btn-primary\"><i className=\"fas fa-plus-circle\"></i> Создать Повторный Заказ</button>\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  operator: state.operator,\r\n  order: state.order,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getAllUsers, getRepeatOrderForm, createRepeatOrder })(withRouter(CreateRepeatOrder));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n// import Moment from 'react-moment';\r\n\r\n// import materials from '../common/materials';\r\nimport removeZeros from '../../utils/removeZerosMat';\r\nimport calculateDisinfScore from '../../utils/calcDisinfScore';\r\nimport calculateStats from '../../utils/calcStats';\r\nimport calcMaterialConsumption from '../../utils/calcMatConsumption';\r\n\r\nclass ShowOperatorStats extends Component {\r\n  state = {\r\n    // orders that operator accepted\r\n    orders: this.props.operator.stats.sortedOrders\r\n  };\r\n\r\n  render() {\r\n    // calculate statistics\r\n    let {\r\n      totalSum,\r\n      totalScore,\r\n      totalOrders,\r\n      completed,\r\n      confirmedOrders,\r\n      rejected,\r\n      consultAndOsmotrConfirmed,\r\n\r\n      failed,\r\n      povtors,\r\n\r\n      corporate,\r\n      corporatePercent,\r\n      corpSum,\r\n      corpSumPercent,\r\n\r\n      indiv,\r\n      indivPercent,\r\n      indivSum,\r\n      indivSumPercent\r\n    } = calculateStats(this.state.orders);\r\n\r\n    // не считать расходы материалов у повторных и некачественных заказов (нужно учесть)\r\n    // заказ, который не является некачественным и не является повторным\r\n    let approvedOrders = this.state.orders.filter(order =>\r\n      order.completed &&\r\n      !order.failed &&\r\n      !order.hasOwnProperty('prevFailedOrder')\r\n    );\r\n\r\n    // calculate total consumption of all orders accepted by operator in given period\r\n    // let totalConsumption = calcMaterialConsumption(this.state.orders);\r\n    let totalConsumption = calcMaterialConsumption(approvedOrders);\r\n\r\n    // calculate average score\r\n    let averageScore = calculateDisinfScore({\r\n      totalScore: totalScore,\r\n      totalOrders: confirmedOrders.length,\r\n      failedOrders: failed\r\n    }) || 0;\r\n\r\n    // remove materials with amount of 0\r\n    totalConsumption = removeZeros(totalConsumption);\r\n\r\n    let renderTotalConsumption = totalConsumption.map((item, key) =>\r\n      <li key={key}>{item.material}: {item.amount.toLocaleString()} {item.unit}</li>\r\n    );\r\n\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-lg-4 col-md-6\">\r\n          <div className=\"card order mt-2\">\r\n            <div className=\"card-body p-0\">\r\n              <h4 className=\"text-center\">Заказы, которые вы приняли:</h4>\r\n              <ul className=\"font-bold mb-0 list-unstyled\">\r\n                <li>Принятые Заказы: {totalOrders}</li>\r\n                <li>Выполнено Заказов: {completed}</li>\r\n                <li>Подтверждено Заказов: {confirmedOrders.length} (из них Консультации и Осмотры: {consultAndOsmotrConfirmed})</li>\r\n\r\n                <li className=\"pt-2\">Общая Сумма: {totalSum.toLocaleString()} UZS</li>\r\n                <li className=\"pb-2\">Средний балл: {averageScore.toFixed(2)} (из 5)</li>\r\n\r\n                <li>Отвергнутые заказы: {rejected}</li>\r\n                <li>Некачественные заказы: {failed}</li>\r\n                <li>Повторные заказы: {povtors}</li>\r\n\r\n                <h6 className=\"mt-2\">* некачественные и повторные заказы не входят в подтвержденные заказы и общую сумму</h6>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"col-lg-4 col-md-6\">\r\n          <div className=\"card order mt-2\">\r\n            <div className=\"card-body p-0\">\r\n              <ul className=\"font-bold mb-0 list-unstyled\">\r\n\r\n                <h4 className=\"text-center\">Корпоративные клиенты</h4>\r\n                <li>Подтвержденные заказы: {corporate} ({corporatePercent} %)</li>\r\n                <li>На общую сумму: {corpSum.toLocaleString()} UZS  ({corpSumPercent} %)</li>\r\n\r\n                <h4 className=\"text-center\">Физические клиенты</h4>\r\n                <li>Подтвержденные заказы: {indiv} ({indivPercent} %)</li>\r\n                <li>На общую сумму: {indivSum.toLocaleString()} UZS ({indivSumPercent} %)</li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"col-lg-4 col-md-6\">\r\n          <div className=\"card order mt-2\">\r\n            <div className=\"card-body p-0\">\r\n              <h4 className=\"text-center\">Общий Расход Материалов Заказов:</h4>\r\n              <ul className=\"font-bold mb-0 list-unstyled\">\r\n                {renderTotalConsumption}\r\n\r\n                <h6 className=\"mt-2\">* сюда не входят некачественные и повторные заказы</h6>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  operator: state.operator,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps)(withRouter(ShowOperatorStats));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from '../common/Spinner';\r\nimport Moment from 'react-moment';\r\n\r\nimport { getStatsForOperator } from '../../actions/operatorActions';\r\nimport monthsNames from '../common/monthNames';\r\nimport getMonthAndYearLabels from '../../utils/monthAndYearLabels';\r\nimport returnMonthAndYear from '../../utils/returnMonthAndYear';\r\n\r\nimport ShowOperatorStats from './ShowOperatorStats';\r\n\r\n\r\nimport { getWeekDays, getWeekRange } from '../common/weekFunc';\r\nimport DayPicker from 'react-day-picker';\r\nimport 'react-day-picker/lib/style.css';\r\n\r\n\r\nclass OperatorStats extends Component {\r\n  state = {\r\n    month: '',\r\n    year: '',\r\n    day: '',\r\n\r\n    // // to display month and year in heading h2\r\n    headingMonth: '',\r\n    headingYear: '',\r\n    headingDay: '',\r\n\r\n    hoverRange: undefined,\r\n    selectedDays: [],\r\n  };\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  getMonthStats = (e) => {\r\n    e.preventDefault();\r\n    const object = {\r\n      operatorId: this.props.auth.user.id,\r\n      type: 'month',\r\n      month: this.state.month,\r\n      year: this.state.year\r\n    };\r\n    this.props.getStatsForOperator(object);\r\n\r\n    this.setState({\r\n      headingMonth: this.state.month,\r\n      headingYear: this.state.year\r\n    });\r\n  }\r\n\r\n  getSpecificMonthStats = (param) => {\r\n    const { month, year } = returnMonthAndYear(param);\r\n\r\n    const object = {\r\n      operatorId: this.props.auth.user.id,\r\n      type: 'month', month, year\r\n    };\r\n\r\n    this.props.getStatsForOperator(object);\r\n\r\n    this.setState({\r\n      headingMonth: month,\r\n      headingYear: year\r\n    });\r\n  };\r\n\r\n  getDayStats = (e) => {\r\n    e.preventDefault();\r\n    const object = {\r\n      operatorId: this.props.auth.user.id,\r\n      type: 'day',\r\n      day: this.state.day\r\n    };\r\n    this.props.getStatsForOperator(object);\r\n\r\n    this.setState({\r\n      headingDay: this.state.day.split('-').reverse().join('-')\r\n    });\r\n  }\r\n\r\n\r\n  // weekly calendar\r\n  handleDayChange = date => {\r\n    const object = {\r\n      operatorId: this.props.auth.user.id,\r\n      type: 'week',\r\n      days: getWeekDays(getWeekRange(date).from)\r\n    };\r\n    this.props.getStatsForOperator(object);\r\n\r\n    this.setState({\r\n      selectedDays: getWeekDays(getWeekRange(date).from)\r\n    });\r\n  };\r\n\r\n  handleDayEnter = date => {\r\n    this.setState({\r\n      hoverRange: getWeekRange(date)\r\n    });\r\n  };\r\n\r\n  handleDayLeave = () => {\r\n    this.setState({\r\n      hoverRange: undefined\r\n    });\r\n  };\r\n\r\n  handleWeekClick = (weekNumber, days, e) => {\r\n    const object = {\r\n      operatorId: this.props.auth.user.id,\r\n      type: 'week',\r\n      days: getWeekDays(getWeekRange(days[0]).from)\r\n    };\r\n    this.props.getStatsForOperator(object);\r\n\r\n    this.setState({\r\n      selectedDays: getWeekDays(getWeekRange(days[0]).from)\r\n    });\r\n  };\r\n  // end of weekly calendar\r\n\r\n\r\n  render() {\r\n    const { monthLabels, yearLabels } = getMonthAndYearLabels();\r\n\r\n    const yearsOptions = yearLabels.map((year, index) =>\r\n      <option value={year.value} key={index}>{year.label}</option>\r\n    );\r\n    const monthOptions = monthLabels.map((month, index) =>\r\n      <option value={month.value} key={index}>{month.label}</option>\r\n    );\r\n\r\n\r\n    // weekly calender\r\n    const { hoverRange, selectedDays } = this.state;\r\n\r\n    const daysAreSelected = selectedDays.length > 0;\r\n\r\n    const modifiers = {\r\n      hoverRange,\r\n      selectedRange: daysAreSelected && {\r\n        from: selectedDays[0],\r\n        to: selectedDays[6],\r\n      },\r\n      hoverRangeStart: hoverRange && hoverRange.from,\r\n      hoverRangeEnd: hoverRange && hoverRange.to,\r\n      selectedRangeStart: daysAreSelected && selectedDays[0],\r\n      selectedRangeEnd: daysAreSelected && selectedDays[6]\r\n    };\r\n    // end of calendar\r\n\r\n\r\n    return (\r\n      <div className=\"container-fluid\" >\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-4 col-md-6 mt-3\">\r\n            <form onSubmit={this.getMonthStats} className=\"form-bg p-2\">\r\n              <h4 className=\"text-center\">Статистика по месяцам</h4>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"year\"><strong>Выберите Год:</strong></label>\r\n                <select name=\"year\" className=\"form-control\" onChange={this.onChange} required>\r\n                  {yearsOptions}\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"month\"><strong>Выберите Месяц:</strong></label>\r\n                <select name=\"month\" className=\"form-control\" onChange={this.onChange} required>\r\n                  {monthOptions}\r\n                </select>\r\n              </div>\r\n              <button type=\"submit\" className=\"btn btn-success mr-1 mt-1\"><i className=\"fas fa-search\"></i> Искать</button>\r\n\r\n              <button type=\"button\" className=\"btn btn-danger mr-1 mt-1\" onClick={() => this.getSpecificMonthStats('current')}>Этот месяц</button>\r\n\r\n              <button type=\"button\" className=\"btn btn-primary mr-1 mt-1\" onClick={() => this.getSpecificMonthStats('previous')}>Прошлый месяц</button>\r\n            </form>\r\n          </div>\r\n\r\n          <div className=\"col-lg-4 col-md-6 mt-3\">\r\n            <form onSubmit={this.getDayStats} className=\"form-bg p-2\">\r\n              <h4 className=\"text-center\">Статистика по дням</h4>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"day\"><strong>Выберите День:</strong></label>\r\n                <input type=\"date\" name=\"day\" className=\"form-control\" onChange={this.onChange} required />\r\n              </div>\r\n              <button type=\"submit\" className=\"btn btn-primary\"><i className=\"fas fa-search\"></i> Искать</button>\r\n            </form>\r\n          </div>\r\n\r\n          <div className=\"col-lg-4 col-md-6 weekly-stats mt-3\">\r\n            <div className=\"SelectedWeekExample form-bg font-weight-bold\">\r\n              <h4 className=\"text-center\">Статистика по неделям</h4>\r\n              <DayPicker\r\n                selectedDays={selectedDays}\r\n                showWeekNumbers\r\n                showOutsideDays\r\n                modifiers={modifiers}\r\n                firstDayOfWeek={1}\r\n                onDayClick={this.handleDayChange}\r\n                onDayMouseEnter={this.handleDayEnter}\r\n                onDayMouseLeave={this.handleDayLeave}\r\n                onWeekClick={this.handleWeekClick}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row mt-2\">\r\n          <div className=\"col-12\">\r\n            {this.props.operator.stats.method === 'week' ?\r\n              <h2 className=\"text-center pl-3 pr-3\">Ваша Недельная статистика за <Moment format=\"DD/MM/YYYY\">{this.state.selectedDays[0]}</Moment> - <Moment format=\"DD/MM/YYYY\">{this.state.selectedDays[6]}</Moment></h2> : ''}\r\n\r\n            {this.props.operator.stats.method === 'month' ?\r\n              <h2 className=\"text-center pl-3 pr-3\">Ваша Месячная Статистика за {monthsNames[this.state.headingMonth]}, {this.state.headingYear}</h2> : ''}\r\n\r\n            {this.props.operator.stats.method === 'day' ?\r\n              <h2 className=\"text-center pl-3 pr-3\">Ваша Дневная Статистика за {this.state.headingDay}</h2> : ''}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            {this.props.operator.loadingStats ? <Spinner /> : <ShowOperatorStats />}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  order: state.order,\r\n  operator: state.operator,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getStatsForOperator })(withRouter(OperatorStats));","import React, { Component } from 'react';\r\n\r\nclass Accountant extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1>Accountant Page</h1>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Accountant;","import axios from 'axios';\r\nimport {\r\n  GET_ERRORS,\r\n  GET_ACC_QUERIES,\r\n  GET_ACC_QUERY_BY_ID,\r\n  GET_ACC_STATS,\r\n  DELETE_QUERY_FROM_STATE,\r\n  SET_TIME_PERIOD,\r\n  LOADING_ACC_QUERIES,\r\n  ACC_CLEAR_STATS,\r\n  SET_LOADING_ACC_STATS\r\n} from './types';\r\n\r\n\r\n// get order queries for accountant to confirm (only corporate clients)\r\nexport const getAccountantQueries = (object) => (dispatch) => {\r\n  dispatch(setTimePeriod(object));\r\n  dispatch(loadingQueries());\r\n\r\n  axios.post('/accountant/get-queries', { object })\r\n    .then(res => {\r\n      return dispatch({\r\n        type: GET_ACC_QUERIES,\r\n        payload: res.data\r\n      })\r\n    })\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\n// accountant gets complete order by id to fill the confirmation form\r\nexport const getCompleteOrderById = (id) => (dispatch) => {\r\n  dispatch(loadingQueries());\r\n  axios.post('/accountant/get-query-by-id', { id: id })\r\n    .then(res =>\r\n      dispatch({\r\n        type: GET_ACC_QUERY_BY_ID,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\n// accountant confirms or rejects completed order\r\nexport const accountantConfirmQuery = (object, history) => (dispatch) => {\r\n  // delete query from global state because the query should not stay in queries page\r\n  dispatch(deleteQuery(object.orderId));\r\n\r\n  axios.post('/accountant/confirm-query', { object: object })\r\n    .then(() => history.push('/accountant/queries'))\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\n// accountant sees statistics\r\nexport const getAccStats = (object) => (dispatch) => {\r\n  dispatch(setLoadingStats());\r\n  axios.post('/accountant/get-stats', { object: object })\r\n    .then(res =>\r\n      dispatch({\r\n        type: GET_ACC_STATS,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\n// delete query from global state\r\nexport const deleteQuery = (id) => {\r\n  return {\r\n    type: DELETE_QUERY_FROM_STATE,\r\n    payload: id\r\n  }\r\n}\r\n\r\n\r\n// set time to preserve time data in global state\r\nexport const setTimePeriod = (object) => {\r\n  return {\r\n    type: SET_TIME_PERIOD,\r\n    payload: object\r\n  }\r\n}\r\n\r\n\r\nexport const clearStats = () => {\r\n  return {\r\n    type: ACC_CLEAR_STATS\r\n  }\r\n};\r\n\r\n\r\n// Loadings\r\nexport const loadingQueries = () => {\r\n  return {\r\n    type: LOADING_ACC_QUERIES\r\n  };\r\n}\r\n\r\n\r\n// loading stats\r\nexport const setLoadingStats = () => {\r\n  return {\r\n    type: SET_LOADING_ACC_STATS\r\n  };\r\n}","import React, { Component } from 'react';\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from '../common/Spinner';\r\nimport Moment from 'react-moment';\r\n\r\nimport { getAccountantQueries } from '../../actions/accountantActions';\r\nimport monthsNames from '../common/monthNames';\r\nimport getMonthAndYearLabels from '../../utils/monthAndYearLabels';\r\nimport returnMonthAndYear from '../../utils/returnMonthAndYear';\r\n\r\nimport { getWeekDays, getWeekRange } from '../common/weekFunc';\r\nimport DayPicker from 'react-day-picker';\r\nimport 'react-day-picker/lib/style.css';\r\n\r\n\r\nclass Queries extends Component {\r\n  state = {\r\n    queries: [],\r\n\r\n    month: '',\r\n    year: '',\r\n    day: '',\r\n\r\n    // to display month and year in heading h2\r\n    headingMonth: '',\r\n    headingYear: '',\r\n    headingDay: '',\r\n    type: '',\r\n\r\n    hoverRange: undefined,\r\n    selectedDays: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (this.props.accountant.queries && this.props.accountant.queries.length > 0) {\r\n      this.setState({\r\n        queries: this.props.accountant.queries\r\n      });\r\n    }\r\n\r\n    // previous method in global state\r\n    let method = this.props.accountant.queryVars.method;\r\n\r\n    if (method) {\r\n      this.setState({\r\n        type: method\r\n      });\r\n    }\r\n\r\n    if (method === 'day') {\r\n      const dayString = this.props.accountant.queryVars.day.split('-').reverse().join('-')\r\n      this.setState({\r\n        headingDay: dayString\r\n      });\r\n    }\r\n\r\n    if (method === 'week') {\r\n      this.setState({\r\n        selectedDays: this.props.accountant.queryVars.days\r\n      });\r\n    }\r\n\r\n    if (method === 'month') {\r\n      this.setState({\r\n        headingMonth: this.props.accountant.queryVars.month,\r\n        headingYear: this.props.accountant.queryVars.year\r\n      });\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.accountant.queries) {\r\n      this.setState({\r\n        queries: nextProps.accountant.queries\r\n      });\r\n    }\r\n  }\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  getMonthStats = (e) => {\r\n    e.preventDefault();\r\n    const object = {\r\n      type: 'month',\r\n      month: Number(this.state.month),\r\n      year: Number(this.state.year)\r\n    };\r\n    this.props.getAccountantQueries(object);\r\n    this.setState({\r\n      type: 'month',\r\n      headingMonth: this.state.month,\r\n      headingYear: this.state.year\r\n    });\r\n  }\r\n\r\n  getSpecificMonthStats = (param) => {\r\n    const { month, year } = returnMonthAndYear(param);\r\n\r\n    const object = { type: 'month', month, year };\r\n\r\n    this.props.getAccountantQueries(object);\r\n\r\n    this.setState({\r\n      type: 'month',\r\n      headingMonth: month,\r\n      headingYear: year\r\n    });\r\n  };\r\n\r\n\r\n  getWeekStats = (days) => {\r\n    const object = {\r\n      type: 'week',\r\n      days: days\r\n    };\r\n    this.props.getAccountantQueries(object);\r\n    this.setState({\r\n      type: 'week'\r\n    });\r\n  }\r\n\r\n  getDayStats = (e) => {\r\n    e.preventDefault();\r\n    const object = {\r\n      type: 'day',\r\n      day: this.state.day\r\n    };\r\n    this.props.getAccountantQueries(object);\r\n    this.setState({\r\n      type: object.type,\r\n      headingDay: this.state.day.split('-').reverse().join('-')\r\n    });\r\n  }\r\n\r\n\r\n  // weekly calendar\r\n  handleDayChange = date => {\r\n    this.getWeekStats(getWeekDays(getWeekRange(date).from));\r\n    this.setState({\r\n      selectedDays: getWeekDays(getWeekRange(date).from),\r\n      type: 'week'\r\n    });\r\n  };\r\n\r\n  handleDayEnter = date => {\r\n    this.setState({\r\n      hoverRange: getWeekRange(date)\r\n    });\r\n  };\r\n\r\n  handleDayLeave = () => {\r\n    this.setState({\r\n      hoverRange: undefined\r\n    });\r\n  };\r\n\r\n  handleWeekClick = (weekNumber, days, e) => {\r\n    this.getWeekStats(getWeekDays(getWeekRange(days[0]).from));\r\n    this.setState({\r\n      selectedDays: getWeekDays(getWeekRange(days[0]).from),\r\n      type: 'week'\r\n    });\r\n  };\r\n  // end of weekly calendar\r\n\r\n\r\n  render() {\r\n    const { monthLabels, yearLabels } = getMonthAndYearLabels();\r\n\r\n    const yearsOptions = yearLabels.map((year, index) =>\r\n      <option value={year.value} key={index}>{year.label}</option>\r\n    );\r\n    const monthOptions = monthLabels.map((month, index) =>\r\n      <option value={month.value} key={index}>{month.label}</option>\r\n    );\r\n\r\n\r\n    // weekly calender\r\n    const { hoverRange, selectedDays } = this.state;\r\n\r\n    const daysAreSelected = selectedDays.length > 0;\r\n\r\n    const modifiers = {\r\n      hoverRange,\r\n      selectedRange: daysAreSelected && {\r\n        from: selectedDays[0],\r\n        to: selectedDays[6],\r\n      },\r\n      hoverRangeStart: hoverRange && hoverRange.from,\r\n      hoverRangeEnd: hoverRange && hoverRange.to,\r\n      selectedRangeStart: daysAreSelected && selectedDays[0],\r\n      selectedRangeEnd: daysAreSelected && selectedDays[6]\r\n    };\r\n    // end of calendar\r\n\r\n\r\n    const { queries } = this.state;\r\n\r\n    let renderQueries = queries.map((item, key) => {\r\n      return (\r\n        <div className=\"col-lg-4 col-md-6 mt-2\" key={key}>\r\n          <div className=\"card order mt-2\">\r\n            <div className=\"card-body p-0\">\r\n              <ul className=\"font-bold mb-0 list-unstyled\">\r\n                {item.prevFailedOrder && (\r\n                  <li><h4><i className=\"fas fas fa-exclamation\"></i> Повторный заказ <i className=\"fas fas fa-exclamation\"></i></h4></li>\r\n                )}\r\n\r\n                {item.failed && (\r\n                  <li><h4><i className=\"fas fas fa-exclamation\"></i> Некачественный заказ <i className=\"fas fas fa-exclamation\"></i></h4></li>\r\n                )}\r\n\r\n\r\n                {item.returnedBack && (\r\n                  <li className=\"text-danger\">Это возвращенный заказ</li>\r\n                )}\r\n\r\n                {item.disinfectorId && (\r\n                  <li>Ответственный: {item.disinfectorId.occupation} {item.disinfectorId.name}</li>\r\n                )}\r\n\r\n                {item.operatorDecided ? (\r\n                  <React.Fragment>\r\n                    <li>Оператор рассмотрел заявку</li>\r\n                    {item.operatorConfirmed ? (\r\n                      <React.Fragment>\r\n                        <li className=\"text-success\">Оператор Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{item.operatorCheckedAt}</Moment>)</li>\r\n                        <li>Балл (0-5): {item.score}</li>\r\n                        <li>Отзыв Клиента: {item.clientReview ? item.clientReview : 'Нет Отзыва'}</li>\r\n                      </React.Fragment>\r\n                    ) : <li className=\"text-danger\">Оператор Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{item.operatorCheckedAt}</Moment>)</li>}\r\n                  </React.Fragment>\r\n                ) : <li>Оператор еще не рассмотрел заявку</li>}\r\n\r\n\r\n                {/* {item.clientType === 'corporate' && <li>Номер Договора: {item.contractNumber}</li>} */}\r\n\r\n\r\n                {/* {item.clientId ? (\r\n                  <li className=\"text-danger\">Корпоративный Клиент: {item.clientId.name}</li>\r\n                ) : <li className=\"text-danger\">Корпоративный Клиент</li>} */}\r\n\r\n                {item.clientType === 'corporate' ?\r\n                  <React.Fragment>\r\n                    {item.clientId ? (\r\n                      <li className=\"text-danger\">Корпоративный Клиент: {item.clientId.name}</li>\r\n                    ) : <li className=\"text-danger\">Корпоративный Клиент</li>}\r\n                    <li className=\"text-danger\">Имя клиента: {item.client}</li>\r\n                  </React.Fragment>\r\n                  : ''}\r\n\r\n                {item.clientType === 'individual' ?\r\n                  <li className=\"text-danger\">Физический Клиент: {item.client}</li>\r\n                  : ''}\r\n\r\n                {/* <li className=\"text-danger\">Имя клиента: {item.client}</li> */}\r\n                <li className=\"text-danger\">Телефон Клиента: {item.phone}</li>\r\n                <li className=\"text-danger\">Дата выполнения: <Moment format=\"DD/MM/YYYY\">{item.dateFrom}</Moment></li>\r\n                <li className=\"text-danger\">Время выполнения: С <Moment format=\"HH:mm\">{item.dateFrom}</Moment> ПО <Moment format=\"HH:mm\">{item.completedAt}</Moment></li>\r\n                {item.phone2 ? <li className=\"text-danger\">Другой номер: {item.phone2}</li> : ''}\r\n                <li className=\"text-danger\">Адрес: {item.address}</li>\r\n\r\n                <li>Комментарии Оператора: {item.comment ? item.comment : '--'}</li>\r\n                <li>Комментарии Дезинфектора: {item.disinfectorComment ? item.disinfectorComment : '--'}</li>\r\n\r\n                <li>Форма Выполнения Заказа заполнена: <Moment format=\"DD/MM/YYYY HH:mm\">{item.completedAt}</Moment></li>\r\n              </ul>\r\n\r\n              <Link to={`/accountant/order-confirm/${item._id}`} className=\"btn btn-dark\"><i className=\"fab fa-wpforms\"></i> Форма Подтверждения</Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n\r\n\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-4 col-md-6 mt-3\">\r\n            <form onSubmit={this.getMonthStats} className=\"form-bg p-2\">\r\n              <h4 className=\"text-center\">Запросы по месяцам</h4>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"year\"><strong>Выберите Год:</strong></label>\r\n                <select name=\"year\" className=\"form-control\" onChange={this.onChange} required>\r\n                  {yearsOptions}\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"month\"><strong>Выберите Месяц:</strong></label>\r\n                <select name=\"month\" className=\"form-control\" onChange={this.onChange} required>\r\n                  {monthOptions}\r\n                </select>\r\n              </div>\r\n              <button type=\"submit\" className=\"btn btn-success mr-1 mt-1\"><i className=\"fas fa-search\"></i> Искать</button>\r\n\r\n              <button type=\"button\" className=\"btn btn-danger mr-1 mt-1\" onClick={() => this.getSpecificMonthStats('current')}>Этот месяц</button>\r\n\r\n              <button type=\"button\" className=\"btn btn-primary mr-1 mt-1\" onClick={() => this.getSpecificMonthStats('previous')}>Прошлый месяц</button>\r\n            </form>\r\n          </div>\r\n\r\n\r\n          <div className=\"col-lg-4 col-md-6 mt-3\">\r\n            <form onSubmit={this.getDayStats} className=\"form-bg p-2\">\r\n              <h4 className=\"text-center\">Запросы по дням</h4>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"day\"><strong>Выберите День:</strong></label>\r\n                <input type=\"date\" name=\"day\" className=\"form-control\" onChange={this.onChange} required />\r\n              </div>\r\n              <button type=\"submit\" className=\"btn btn-primary\"><i className=\"fas fa-search\"></i> Искать</button>\r\n            </form>\r\n          </div>\r\n\r\n\r\n          <div className=\"col-lg-4 col-md-6 weekly-stats mt-3\">\r\n            <div className=\"SelectedWeekExample form-bg font-weight-bold\">\r\n              <h4 className=\"text-center\">Запросы по неделям</h4>\r\n              <DayPicker\r\n                selectedDays={selectedDays}\r\n                showWeekNumbers\r\n                showOutsideDays\r\n                modifiers={modifiers}\r\n                firstDayOfWeek={1}\r\n                onDayClick={this.handleDayChange}\r\n                onDayMouseEnter={this.handleDayEnter}\r\n                onDayMouseLeave={this.handleDayLeave}\r\n                onWeekClick={this.handleWeekClick}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row mt-3\">\r\n          <div className=\"col-12\">\r\n            {this.state.type === 'week' ?\r\n              <h2 className=\"text-center pl-3 pr-3\">Запросы за неделю <Moment format=\"DD/MM/YYYY\">{this.state.selectedDays[0]}</Moment> - <Moment format=\"DD/MM/YYYY\">{this.state.selectedDays[6]}</Moment></h2> : ''}\r\n\r\n            {this.state.type === 'month' ?\r\n              <h2 className=\"text-center pl-3 pr-3\">Запросы за месяц {monthsNames[this.state.headingMonth]}, {this.state.headingYear}</h2> : ''}\r\n\r\n            {this.state.type === 'day' ?\r\n              <h2 className=\"text-center pl-3 pr-3\">Запросы за день {this.state.headingDay}</h2> : ''}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row m-0\">\r\n          <div className=\"col-12 p-0\">\r\n            {this.props.accountant.loadingQueries ?\r\n              <Spinner />\r\n              :\r\n              (\r\n                <div className=\"row mt-3\">\r\n                  {this.state.type ? (\r\n                    <React.Fragment>\r\n                      {queries.length === 0 ? (\r\n                        <h2 className=\"m-auto\">Запросы не найдены</h2>\r\n                      ) : (\r\n                        renderQueries\r\n                      )}\r\n                    </React.Fragment>\r\n                  ) : ''}\r\n                </div>\r\n              )\r\n            }\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  accountant: state.accountant,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getAccountantQueries })(withRouter(Queries));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Spinner from '../common/Spinner';\r\nimport Moment from 'react-moment';\r\nimport TextFieldGroup from '../common/TextFieldGroup';\r\n\r\nimport ClientNotSatisfiedButton from '../common/ClientNotSatisfiedButton';\r\nimport {\r\n  getCompleteOrderById,\r\n  accountantConfirmQuery\r\n} from '../../actions/accountantActions';\r\n\r\n\r\nclass ConfirmQueryForm extends Component {\r\n  state = {\r\n    query: {\r\n      disinfectorId: {},\r\n      userCreated: {},\r\n      clientId: {\r\n        contracts: []\r\n      },\r\n      userAcceptedOrder: {},\r\n      disinfectors: [],\r\n      prevFailedOrder: {},\r\n      nextOrdersAfterFailArray: [],\r\n\r\n\r\n      // we no longer use this field\r\n      nextOrderAfterFail: {},\r\n    },\r\n    invoice: '',\r\n    cost: ''\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.getCompleteOrderById(this.props.match.params.id);\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.accountant.queryById) {\r\n      this.setState({\r\n        query: nextProps.accountant.queryById\r\n      });\r\n    }\r\n  }\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  confirmQueryFromCorporateClient = (e) => {\r\n    e.preventDefault();\r\n    if (Number(this.state.cost) <= 0) {\r\n      alert('Сумма заказа не может быть нулем или отрицательным числом');\r\n    } else {\r\n      const object = {\r\n        decision: 'confirm',\r\n        clientType: this.state.query.clientType,\r\n        paymentMethod: this.state.query.paymentMethod,\r\n        orderId: this.state.query._id,\r\n        invoice: this.state.invoice,\r\n        cost: Number(this.state.cost),\r\n        disinfectors: this.state.query.disinfectors\r\n      };\r\n      // console.log('corporate client', object);\r\n      this.props.accountantConfirmQuery(object, this.props.history);\r\n    }\r\n  }\r\n\r\n  confirmQueryFromIndividualClient = () => {\r\n    const object = {\r\n      clientType: this.state.query.clientType,\r\n      paymentMethod: this.state.query.paymentMethod,\r\n      orderId: this.state.query._id,\r\n      decision: 'confirm'\r\n    };\r\n    // console.log('indiv client', object);\r\n    this.props.accountantConfirmQuery(object, this.props.history);\r\n  };\r\n\r\n  reject = () => {\r\n    const object = {\r\n      decision: 'reject',\r\n      clientType: this.state.query.clientType,\r\n      paymentMethod: this.state.query.paymentMethod,\r\n      orderId: this.state.query._id,\r\n      disinfectors: this.state.query.disinfectors\r\n    };\r\n    this.props.accountantConfirmQuery(object, this.props.history);\r\n  }\r\n\r\n  returnBack = () => {\r\n    const object = {\r\n      decision: 'back',\r\n      clientType: this.state.query.clientType,\r\n      paymentMethod: this.state.query.paymentMethod,\r\n      orderId: this.state.query._id,\r\n      disinfectors: this.state.query.disinfectors\r\n    };\r\n    this.props.accountantConfirmQuery(object, this.props.history);\r\n  }\r\n\r\n  // goToAddNewForm = (order) => {\r\n  //   this.props.history.push(`/fail/add-new/${order._id}`, {\r\n  //     pathname: `/fail/add-new/${order._id}`,\r\n  //     state: { order }\r\n  //   });\r\n  //   // this.props.goToAddNewForm(order, this.props.history);\r\n  // };\r\n\r\n  render() {\r\n    const { query } = this.state;\r\n\r\n    let consumptionArray = [];\r\n    if (query.disinfectors) {\r\n      query.disinfectors.forEach(item => {\r\n        consumptionArray.push({\r\n          user: item.user,\r\n          consumption: item.consumption\r\n        });\r\n      });\r\n    }\r\n\r\n    let consumptionRender = consumptionArray.map((item, index) =>\r\n      <li key={index}>\r\n        <p className=\"mb-0\">Пользователь: {item.user.occupation} {item.user.name}</p>\r\n        {item.consumption.map((element, number) =>\r\n          <p key={number} className=\"mb-0\">{element.material}: {element.amount.toLocaleString()} {element.unit}</p>\r\n        )}\r\n      </li>\r\n    );\r\n\r\n    console.log('order', query);\r\n\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row m-0\">\r\n          <div className=\"col-12 p-0\">\r\n            <div className=\"row\">\r\n              <div className=\"col-lg-6 col-md-7\">\r\n                {this.props.accountant.loadingQueries ? <Spinner /> : (\r\n                  <div className=\"card order mt-2\">\r\n                    <div className=\"card-body p-0\">\r\n                      <ul className=\"font-bold mb-0 list-unstyled\">\r\n                        {query.prevFailedOrder && (\r\n                          <li><h4><i className=\"fas fas fa-exclamation\"></i> Повторный заказ <i className=\"fas fas fa-exclamation\"></i></h4></li>\r\n                        )}\r\n\r\n                        {query.failed && (\r\n                          <li><h4><i className=\"fas fas fa-exclamation\"></i> Некачественный заказ <i className=\"fas fas fa-exclamation\"></i></h4></li>\r\n                        )}\r\n\r\n                        {query.disinfectorId && (\r\n                          <li>Ответственный: {query.disinfectorId.occupation} {query.disinfectorId.name}</li>\r\n                        )}\r\n\r\n\r\n                        {query.failed && query.nextOrdersAfterFailArray && (\r\n                          <React.Fragment>\r\n                            <li className=\"text-primary\">Повторов у этого заказа: {query.nextOrdersAfterFailArray.length}</li>\r\n\r\n                            {query.nextOrdersAfterFailArray.length > 0 && (\r\n                              <React.Fragment>\r\n                                <li className=\"text-primary\">Время последнего заказа: <Moment format=\"DD/MM/YYYY HH:mm\">{query.nextOrdersAfterFailArray[query.nextOrdersAfterFailArray.length - 1].dateFrom}</Moment></li>\r\n\r\n                                <li className=\"text-primary\">Выполняет последний заказ: {query.nextOrdersAfterFailArray[query.nextOrdersAfterFailArray.length - 1].disinfectorId.occupation} {query.nextOrdersAfterFailArray[query.nextOrdersAfterFailArray.length - 1].disinfectorId.name}</li>\r\n                              </React.Fragment>\r\n                            )}\r\n                          </React.Fragment>\r\n                        )}\r\n\r\n\r\n\r\n\r\n\r\n                        {query.operatorDecided ? (\r\n                          <React.Fragment>\r\n                            <li>Оператор рассмотрел заявку</li>\r\n                            {query.operatorConfirmed ? (\r\n                              <React.Fragment>\r\n                                <li className=\"text-success\">Оператор Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{query.operatorCheckedAt}</Moment>)</li>\r\n                                <li>Балл (0-5): {query.score}</li>\r\n                                <li>Отзыв Клиента: {query.clientReview ? query.clientReview : 'Нет Отзыва'}</li>\r\n                              </React.Fragment>\r\n                            ) : <li className=\"text-danger\">Оператор Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{query.operatorCheckedAt}</Moment>)</li>}\r\n                          </React.Fragment>\r\n                        ) : <li>Оператор еще не рассмотрел заявку</li>}\r\n\r\n                        {query.clientType === 'corporate' ?\r\n                          <React.Fragment>\r\n                            {query.clientId ? (\r\n                              <li className=\"text-danger\">Корпоративный Клиент: {query.clientId.name}</li>\r\n                            ) : <li className=\"text-danger\">Корпоративный Клиент</li>}\r\n                            <li className=\"text-danger\">Имя клиента: {query.client}</li>\r\n                          </React.Fragment>\r\n                          : ''}\r\n\r\n                        {query.clientType === 'individual' ?\r\n                          <li className=\"text-danger\">Физический Клиент: {query.client}</li>\r\n                          : ''}\r\n\r\n                        <li className=\"text-danger\">Дата: <Moment format=\"DD/MM/YYYY\">{query.dateFrom}</Moment></li>\r\n                        <li className=\"text-danger\">Время выполнения: С <Moment format=\"HH:mm\">{query.dateFrom}</Moment> ПО <Moment format=\"HH:mm\">{query.completedAt}</Moment></li>\r\n                        <li className=\"text-danger\">Адрес: {query.address}</li>\r\n\r\n                        <li>Телефон клиента: {query.phone}</li>\r\n                        {query.phone2 !== '' ? <li>Запасной номер: {query.phone2}</li> : ''}\r\n                        <li>Тип услуги: {query.typeOfService}</li>\r\n                        <li>Комментарии Оператора: {query.comment ? query.comment : '--'}</li>\r\n                        <li>Комментарии Дезинфектора: {query.disinfectorComment ? query.disinfectorComment : '--'}</li>\r\n                        <li>Срок гарантии (в месяцах): {query.guarantee}</li>\r\n\r\n                        <li>Расход Материалов (заказ выполнили {query.disinfectors.length} чел):</li>\r\n                        <ul className=\"font-bold mb-0\">\r\n                          {consumptionRender}\r\n                        </ul>\r\n\r\n                        {query.clientType === 'corporate' ? (\r\n                          <React.Fragment>\r\n                            {query.paymentMethod === 'cash' ? (\r\n                              <React.Fragment>\r\n                                <li>Тип Платежа: Наличный</li>\r\n                                {query.cost && <li>Общая Сумма: {query.cost.toLocaleString()} UZS (каждому по {(query.cost / query.disinfectors.length).toLocaleString()} UZS)</li>}\r\n                              </React.Fragment>\r\n                            ) : (\r\n                              <React.Fragment>\r\n                                <li>Тип Платежа: Безналичный</li>\r\n                                <li>Номер Договора: {query.contractNumber || '--'}</li>\r\n                              </React.Fragment>\r\n                            )}\r\n                          </React.Fragment>\r\n                        ) : ''}\r\n\r\n                        {query.clientType === 'individual' ? (\r\n                          <li>Общая Сумма: {query.cost.toLocaleString()} Сум (каждому по {(query.cost / query.disinfectors.length).toFixed(2).toLocaleString()} Сум)</li>\r\n                        ) : ''}\r\n\r\n                        {query.userAcceptedOrder ? (\r\n                          <li>Заказ принял: {query.userAcceptedOrder.occupation} {query.userAcceptedOrder.name}</li>\r\n                        ) : ''}\r\n\r\n                        {query.userCreated ? (\r\n                          <li>Заказ добавил: {query.userCreated.occupation} {query.userCreated.name}</li>\r\n                        ) : ''}\r\n\r\n                        <li>Форма Выполнения Заказа заполнена: <Moment format=\"DD/MM/YYYY HH:mm\">{query.completedAt}</Moment></li>\r\n                      </ul>\r\n\r\n                      {query.clientType === 'individual' || query.paymentMethod === 'cash' ? (\r\n                        <div className=\"btn-group mt-3\">\r\n                          <button className=\"btn btn-success mr-2\" onClick={() => { if (window.confirm('Вы уверены подтвердить заказ?')) { this.confirmQueryFromIndividualClient() } }}><i className=\"fas fa-check-square\"></i> Подтвердить</button>\r\n                        </div>\r\n                      ) : ''}\r\n\r\n                      <div className=\"btn-group mt-3\">\r\n                        <button className=\"btn btn-danger mr-2\" onClick={() => { if (window.confirm('Вы уверены отменить заказ?')) { this.reject() } }}><i className=\"fas fa-ban\"></i> Отменить Выполнение Заказа</button>\r\n                      </div>\r\n\r\n                      <div className=\"btn-group mt-3\">\r\n                        <button className=\"btn btn-dark mr-2\" onClick={() => { if (window.confirm('Вы уверены отправить заказ обратно дезинфектору?')) { this.returnBack() } }}><i className=\"fas fa-undo\"></i> Отправить Обратно</button>\r\n                      </div>\r\n\r\n                      <ClientNotSatisfiedButton\r\n                        order={query}\r\n                        shouldLoadOrder={true}\r\n                      />\r\n\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n\r\n              {query.clientType === 'corporate' && query.paymentMethod !== 'cash' && (\r\n                <div className=\"col-lg-6 col-md-5 mx-auto\">\r\n                  <div className=\"card mt-3 mb-3\">\r\n                    <div className=\"card-body p-2\">\r\n                      <h3 className=\"text-center\">Форма Подтверждения Заказа</h3>\r\n                      <form onSubmit={this.confirmQueryFromCorporateClient}>\r\n                        <TextFieldGroup\r\n                          label=\"Введите Счет-Фактуру:\"\r\n                          type=\"text\"\r\n                          name=\"invoice\"\r\n                          value={this.state.invoice}\r\n                          onChange={this.onChange}\r\n                          required\r\n                        />\r\n\r\n                        <TextFieldGroup\r\n                          label=\"Введите сумму заказа (в сумах):\"\r\n                          type=\"number\"\r\n                          step=\"1\"\r\n                          name=\"cost\"\r\n                          value={this.state.cost}\r\n                          onChange={this.onChange}\r\n                          required\r\n                        />\r\n\r\n                        <button className=\"btn btn-success btn-block\">\r\n                          <i className=\"fas fa-check-square\"></i> Подтвердить Выполнение Заказа\r\n                        </button>\r\n                      </form>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  accountant: state.accountant,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getCompleteOrderById, accountantConfirmQuery })(withRouter(ConfirmQueryForm));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n// import Moment from 'react-moment';\r\n\r\n// import materials from '../common/materials';\r\nimport removeZeros from '../../utils/removeZerosMat';\r\nimport calculateStats from '../../utils/calcStats';\r\nimport calcMaterialConsumption from '../../utils/calcMatConsumption';\r\n\r\nclass ShowAccStats extends Component {\r\n  state = {\r\n    // orders of only corporate clients\r\n    orders: this.props.accountant.stats.orders\r\n  };\r\n\r\n  render() {\r\n    // let confirmedOrders = [],\r\n    //   operatorDecidedOrders = [],\r\n    //   rejectedOrders = [],\r\n    //   failedOrders = 0,\r\n    //   totalScore = 0,\r\n    //   totalSum = 0;\r\n\r\n    // calculate statistics\r\n    let {\r\n      totalSum,\r\n      totalScore,\r\n      totalOrders,\r\n      completed,\r\n      confirmedOrders,\r\n      rejected,\r\n      consultAndOsmotrConfirmed,\r\n\r\n      failed,\r\n      povtors,\r\n    } = calculateStats(this.state.orders);\r\n\r\n    // let totalConsumption = [];\r\n    // materials.forEach(item => {\r\n    //   let emptyObject = {\r\n    //     material: item.material,\r\n    //     amount: 0,\r\n    //     unit: item.unit\r\n    //   };\r\n    //   totalConsumption.push(emptyObject);\r\n    // });\r\n\r\n    // this.state.orders.forEach(order => {\r\n    // if (order.completed && order.operatorDecided) {\r\n    //   operatorDecidedOrders.push(order);\r\n\r\n    //   if (order.operatorConfirmed && (order.adminConfirmed || order.accountantConfirmed)) {\r\n    //     confirmedOrders.push(order);\r\n    //     totalSum += order.cost;\r\n    //     totalScore += order.score;\r\n    //   }\r\n\r\n    //   if (order.clientType === 'corporate') {\r\n    //     if (!order.operatorConfirmed || (order.accountantDecided && !order.accountantConfirmed)) {\r\n    //       rejectedOrders.push(order);\r\n    //     }\r\n    //   } else if (order.clientType === 'individual') {\r\n    //     if (!order.operatorConfirmed || (order.adminDecided && !order.adminConfirmed)) {\r\n    //       rejectedOrders.push(order);\r\n    //     }\r\n    //   }\r\n    // }\r\n\r\n    // if (order.failed) {\r\n    //   failedOrders++;\r\n    // }\r\n\r\n\r\n    // // calculate total consumption of all orders accepted by operator in given period\r\n    // order.disinfectors.forEach(element => {\r\n    //   element.consumption.forEach(object => {\r\n    //     totalConsumption.forEach(item => {\r\n    //       if (object.material === item.material && object.unit === item.unit) {\r\n    //         item.amount += object.amount;\r\n    //       }\r\n    //     });\r\n    //   });\r\n    // });\r\n    // });\r\n\r\n\r\n\r\n    // не считать расходы материалов у повторных и некачественных заказов (нужно учесть)\r\n    // заказ, который не является некачественным и не является повторным\r\n    let approvedOrders = this.state.orders.filter(order =>\r\n      order.completed &&\r\n      !order.failed &&\r\n      !order.hasOwnProperty('prevFailedOrder')\r\n    );\r\n\r\n    // calculate total consumption of all orders accepted by operator in given period\r\n    // let totalConsumption = calcMaterialConsumption(this.state.orders);\r\n    let totalConsumption = calcMaterialConsumption(approvedOrders);\r\n\r\n    // remove materials with amount of 0\r\n    totalConsumption = removeZeros(totalConsumption);\r\n\r\n    let renderTotalConsumption = totalConsumption.map((item, key) =>\r\n      <li key={key}>{item.material}: {item.amount.toLocaleString()} {item.unit}</li>\r\n    );\r\n\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-lg-4 col-md-6\">\r\n          <div className=\"card order mt-2\">\r\n            <div className=\"card-body p-0\">\r\n              <h4 className=\"text-center\">Заказы корпоративных клиентов</h4>\r\n              <ul className=\"font-bold mb-0 list-unstyled\">\r\n                <li>Всего Получено Заказов: {totalOrders}</li>\r\n                <li>Выполнено Заказов: {completed}</li>\r\n                <li>Подтверждено Заказов: {confirmedOrders.length} (из них Консультации и Осмотры: {consultAndOsmotrConfirmed})</li>\r\n\r\n                <li className=\"pt-2\">Общая Сумма: {totalSum.toLocaleString()} UZS</li>\r\n                <li className=\"pb-2\">Средний балл: {(totalScore / confirmedOrders.length).toFixed(2)} (из 5)</li>\r\n\r\n                <li>Отвергнутые заказы: {rejected}</li>\r\n                <li>Некачественные заказы: {failed}</li>\r\n                <li>Повторные заказы: {povtors}</li>\r\n\r\n                <h6 className=\"mt-2\">* некачественные и повторные заказы не входят в подтвержденные заказы и общую сумму</h6>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"col-lg-4 col-md-6\">\r\n          <div className=\"card order mt-2\">\r\n            <div className=\"card-body p-0\">\r\n              <h4 className=\"text-center\">Общий Расход Материалов Этих Заказов</h4>\r\n              <ul className=\"font-bold mb-0 list-unstyled\">\r\n                {renderTotalConsumption}\r\n\r\n                <h6 className=\"mt-2\">* сюда не входят некачественные и повторные заказы</h6>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  accountant: state.accountant,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps)(withRouter(ShowAccStats));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from '../common/Spinner';\r\nimport Moment from 'react-moment';\r\n\r\nimport { getAccStats, clearStats } from '../../actions/accountantActions';\r\nimport monthsNames from '../common/monthNames';\r\nimport getMonthAndYearLabels from '../../utils/monthAndYearLabels';\r\nimport returnMonthAndYear from '../../utils/returnMonthAndYear';\r\n\r\nimport ShowAccStats from './ShowAccStats';\r\n\r\nimport { getWeekDays, getWeekRange } from '../common/weekFunc';\r\nimport DayPicker from 'react-day-picker';\r\nimport 'react-day-picker/lib/style.css';\r\n\r\n\r\nclass AccStats extends Component {\r\n  state = {\r\n    month: '',\r\n    year: '',\r\n    day: '',\r\n\r\n    // // to display month and year in heading h2\r\n    headingMonth: '',\r\n    headingYear: '',\r\n    headingDay: '',\r\n\r\n    hoverRange: undefined,\r\n    selectedDays: [],\r\n  };\r\n\r\n  UNSAFE_componentWillMount() {\r\n    this.props.clearStats();\r\n  }\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  getMonthStats = (e) => {\r\n    e.preventDefault();\r\n    const object = {\r\n      accountantId: this.props.auth.user.id,\r\n      type: 'month',\r\n      month: this.state.month,\r\n      year: this.state.year\r\n    };\r\n    this.props.getAccStats(object);\r\n\r\n    this.setState({\r\n      headingMonth: this.state.month,\r\n      headingYear: this.state.year\r\n    });\r\n  }\r\n\r\n  getSpecificMonthStats = (param) => {\r\n    const { month, year } = returnMonthAndYear(param);\r\n\r\n    const object = {\r\n      accountantId: this.props.auth.user.id,\r\n      type: 'month', month, year\r\n    };\r\n\r\n    this.props.getAccStats(object);\r\n\r\n    this.setState({\r\n      headingMonth: month,\r\n      headingYear: year\r\n    });\r\n  };\r\n\r\n  getDayStats = (e) => {\r\n    e.preventDefault();\r\n    const object = {\r\n      accountantId: this.props.auth.user.id,\r\n      type: 'day',\r\n      day: this.state.day\r\n    };\r\n    this.props.getAccStats(object);\r\n\r\n    this.setState({\r\n      headingDay: this.state.day.split('-').reverse().join('-')\r\n    });\r\n  }\r\n\r\n\r\n  // weekly calendar\r\n  handleDayChange = date => {\r\n    const object = {\r\n      accountantId: this.props.auth.user.id,\r\n      type: 'week',\r\n      days: getWeekDays(getWeekRange(date).from)\r\n    };\r\n    this.props.getAccStats(object);\r\n\r\n    this.setState({\r\n      selectedDays: getWeekDays(getWeekRange(date).from)\r\n    });\r\n  };\r\n\r\n  handleDayEnter = date => {\r\n    this.setState({\r\n      hoverRange: getWeekRange(date)\r\n    });\r\n  };\r\n\r\n  handleDayLeave = () => {\r\n    this.setState({\r\n      hoverRange: undefined\r\n    });\r\n  };\r\n\r\n  handleWeekClick = (weekNumber, days, e) => {\r\n    const object = {\r\n      accountantId: this.props.auth.user.id,\r\n      type: 'week',\r\n      days: getWeekDays(getWeekRange(days[0]).from)\r\n    };\r\n    this.props.getAccStats(object);\r\n\r\n    this.setState({\r\n      selectedDays: getWeekDays(getWeekRange(days[0]).from)\r\n    });\r\n  };\r\n  // end of weekly calendar\r\n\r\n\r\n  render() {\r\n    const { monthLabels, yearLabels } = getMonthAndYearLabels();\r\n\r\n    const yearsOptions = yearLabels.map((year, index) =>\r\n      <option value={year.value} key={index}>{year.label}</option>\r\n    );\r\n    const monthOptions = monthLabels.map((month, index) =>\r\n      <option value={month.value} key={index}>{month.label}</option>\r\n    );\r\n\r\n\r\n    // weekly calender\r\n    const { hoverRange, selectedDays } = this.state;\r\n\r\n    const daysAreSelected = selectedDays.length > 0;\r\n\r\n    const modifiers = {\r\n      hoverRange,\r\n      selectedRange: daysAreSelected && {\r\n        from: selectedDays[0],\r\n        to: selectedDays[6],\r\n      },\r\n      hoverRangeStart: hoverRange && hoverRange.from,\r\n      hoverRangeEnd: hoverRange && hoverRange.to,\r\n      selectedRangeStart: daysAreSelected && selectedDays[0],\r\n      selectedRangeEnd: daysAreSelected && selectedDays[6]\r\n    };\r\n    // end of calendar\r\n\r\n\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-4 col-md-6 mt-3\">\r\n            <form onSubmit={this.getMonthStats} className=\"form-bg p-2\">\r\n              <h4 className=\"text-center\">Статистика по месяцам</h4>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"year\"><strong>Выберите Год:</strong></label>\r\n                <select name=\"year\" className=\"form-control\" onChange={this.onChange} required>\r\n                  {yearsOptions}\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"month\"><strong>Выберите Месяц:</strong></label>\r\n                <select name=\"month\" className=\"form-control\" onChange={this.onChange} required>\r\n                  {monthOptions}\r\n                </select>\r\n              </div>\r\n              <button type=\"submit\" className=\"btn btn-success mr-1 mt-1\"><i className=\"fas fa-search\"></i> Искать</button>\r\n\r\n              <button type=\"button\" className=\"btn btn-danger mr-1 mt-1\" onClick={() => this.getSpecificMonthStats('current')}>Этот месяц</button>\r\n\r\n              <button type=\"button\" className=\"btn btn-primary mr-1 mt-1\" onClick={() => this.getSpecificMonthStats('previous')}>Прошлый месяц</button>\r\n            </form>\r\n          </div>\r\n\r\n          <div className=\"col-lg-4 col-md-6 mt-3\">\r\n            <form onSubmit={this.getDayStats} className=\"form-bg p-2\">\r\n              <h4 className=\"text-center\">Статистика по дням</h4>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"day\"><strong>Выберите День:</strong></label>\r\n                <input type=\"date\" name=\"day\" className=\"form-control\" onChange={this.onChange} required />\r\n              </div>\r\n              <button type=\"submit\" className=\"btn btn-primary\"><i className=\"fas fa-search\"></i> Искать</button>\r\n            </form>\r\n          </div>\r\n\r\n          <div className=\"col-lg-4 col-md-6 mt-3 weekly-stats\">\r\n            <div className=\"SelectedWeekExample form-bg font-weight-bold\">\r\n              <h4 className=\"text-center\">Статистика по неделям</h4>\r\n              <DayPicker\r\n                selectedDays={selectedDays}\r\n                showWeekNumbers\r\n                showOutsideDays\r\n                modifiers={modifiers}\r\n                firstDayOfWeek={1}\r\n                onDayClick={this.handleDayChange}\r\n                onDayMouseEnter={this.handleDayEnter}\r\n                onDayMouseLeave={this.handleDayLeave}\r\n                onWeekClick={this.handleWeekClick}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row mt-2\">\r\n          <div className=\"col-12\">\r\n            {this.props.accountant.stats.method === 'week' ?\r\n              <h2 className=\"text-center pl-3 pr-3\">Недельная статистика за <Moment format=\"DD/MM/YYYY\">{this.state.selectedDays[0]}</Moment> - <Moment format=\"DD/MM/YYYY\">{this.state.selectedDays[6]}</Moment></h2> : ''}\r\n\r\n            {this.props.accountant.stats.method === 'month' ?\r\n              <h2 className=\"text-center pl-3 pr-3\">Месячная Статистика за {monthsNames[this.state.headingMonth]}, {this.state.headingYear}</h2> : ''}\r\n\r\n            {this.props.accountant.stats.method === 'day' ?\r\n              <h2 className=\"text-center pl-3 pr-3\">Дневная Статистика за {this.state.headingDay}</h2> : ''}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            {this.props.accountant.loadingStats ? <Spinner /> : <ShowAccStats />}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  accountant: state.accountant,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getAccStats, clearStats })(withRouter(AccStats));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from '../common/Spinner';\r\nimport Moment from 'react-moment';\r\nimport { getOrderById } from '../../actions/orderActions';\r\n\r\nclass OrderFullDetails extends Component {\r\n  componentDidMount() {\r\n    this.props.getOrderById(this.props.match.params.id);\r\n  }\r\n\r\n  render() {\r\n    const order = this.props.order.orderById;\r\n\r\n    // consumption array of specific confirmed order\r\n    let consumptionArray = [];\r\n\r\n    order.disinfectors.forEach(item => {\r\n      consumptionArray.push({\r\n        user: item.user,\r\n        consumption: item.consumption\r\n      });\r\n    });\r\n\r\n    let renderOrderConsumption = consumptionArray.map((object, number) =>\r\n      <li key={number}>\r\n        <p className=\"mb-0\">Пользователь: {object.user.occupation} {object.user.name}</p>\r\n        {object.consumption.map((element, number) =>\r\n          <p key={number} className=\"mb-0\">{element.material}: {element.amount.toLocaleString()} {element.unit}</p>\r\n        )}\r\n      </li>\r\n    );\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        {this.props.order.loading ? <Spinner /> : (\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              <h2 className=\"text-center\">Детали Заказа</h2>\r\n            </div>\r\n\r\n            <div className=\"col-lg-8 col-md-10 m-auto\">\r\n              <div className=\"card order mt-2\">\r\n                <div className=\"card-body p-0\">\r\n                  <ul className=\"font-bold mb-0 list-unstyled\">\r\n                    {order.prevFailedOrder && <h3><i className=\"fas fas fa-exclamation\"></i> Повторный заказ <i className=\"fas fas fa-exclamation\"></i></h3>}\r\n\r\n                    {order.failed && <h3><i className=\"fas fas fa-exclamation\"></i> Некачественный заказ <i className=\"fas fas fa-exclamation\"></i></h3>}\r\n\r\n                    {order.disinfectorId && (\r\n                      <li>Ответственный: {order.disinfectorId.occupation} {order.disinfectorId.name}</li>\r\n                    )}\r\n\r\n\r\n                    {order.operatorDecided ? (\r\n                      <React.Fragment>\r\n                        <li>Оператор рассмотрел заявку</li>\r\n                        {order.operatorConfirmed ? (\r\n                          <React.Fragment>\r\n                            <li className=\"text-success\">Оператор Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.operatorCheckedAt}</Moment>)</li>\r\n                            <li>Балл (0-5): {order.score}</li>\r\n                            <li>Отзыв Клиента: {order.clientReview ? order.clientReview : 'Нет Отзыва'}</li>\r\n                          </React.Fragment>\r\n                        ) : <li className=\"text-danger\">Оператор Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.operatorCheckedAt}</Moment>)</li>}\r\n                      </React.Fragment>\r\n                    ) : <li>Оператор еще не рассмотрел заявку</li>}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                    {order.accountantDecided ? (\r\n                      <React.Fragment>\r\n                        <li>Бухгалтер рассмотрел заявку</li>\r\n                        {order.accountantConfirmed ? (\r\n                          <React.Fragment>\r\n                            <li className=\"text-success\">Бухгалтер Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.accountantCheckedAt}</Moment>)</li>\r\n                            <li>Счет-Фактура: {order.invoice ? order.invoice : '--'}</li>\r\n                            <li>Общая Сумма: {order.cost.toLocaleString()} UZS (каждому по {(order.cost / order.disinfectors.length).toLocaleString()} UZS)</li>\r\n                          </React.Fragment>\r\n                        ) : <li className=\"text-danger\">Бухгалтер Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.accountantCheckedAt}</Moment>)</li>}\r\n                      </React.Fragment>\r\n                    ) : (\r\n                      <React.Fragment>\r\n\r\n                        {order.adminDecided ? (\r\n                          <React.Fragment>\r\n                            <li>Админ рассмотрел заявку</li>\r\n                            {order.adminConfirmed ? (\r\n                              <li className=\"text-success\">Админ Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>\r\n                            ) : <li className=\"text-danger\">Админ Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>}\r\n                          </React.Fragment>\r\n                        ) : (\r\n                          <li>Бухгалтер еще не рассмотрел заявку</li>\r\n                        )}\r\n\r\n                      </React.Fragment>\r\n                    )}\r\n\r\n\r\n\r\n\r\n                    {/* {order.clientType === 'corporate' && order.paymentMethod === 'notCash' && !order.accountantDecided ? <li>Бухгалтер еще не рассмотрел заявку</li> : ''}\r\n\r\n                    {order.clientType === 'corporate' && order.paymentMethod === 'notCash' && order.accountantDecided ?\r\n                      <React.Fragment>\r\n                        <li>Бухгалтер рассмотрел заявку</li>\r\n                        {order.accountantConfirmed ? (\r\n                          <React.Fragment>\r\n                            <li className=\"text-success\">Бухгалтер Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.accountantCheckedAt}</Moment>)</li>\r\n                            <li>Счет-Фактура: {order.invoice}</li>\r\n                            <li>Общая Сумма: {order.cost.toLocaleString()} UZS (каждому по {(order.cost / order.disinfectors.length).toLocaleString()} UZS)</li>\r\n                          </React.Fragment>\r\n                        ) : <li className=\"text-danger\">Бухгалтер Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.accountantCheckedAt}</Moment>)</li>}\r\n                      </React.Fragment>\r\n                      : ''}\r\n\r\n                    {order.clientType === 'corporate' && order.paymentMethod === 'cash' && !order.adminDecided ? <li>Админ еще не рассмотрел заявку</li> : ''}\r\n\r\n                    {order.clientType === 'corporate' && order.paymentMethod === 'cash' && order.adminDecided ? (\r\n                      <React.Fragment>\r\n                        <li>Админ рассмотрел заявку</li>\r\n                        {order.adminConfirmed ? (\r\n                          <li className=\"text-success\">Админ Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>\r\n                        ) : <li className=\"text-danger\">Админ Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>}\r\n                      </React.Fragment>\r\n                    ) : ''}\r\n\r\n                    {order.clientType === 'individual' && !order.adminDecided ? <li>Админ еще не рассмотрел заявку</li> : ''}\r\n                    {order.clientType === 'individual' && order.adminDecided ? (\r\n                      <React.Fragment>\r\n                        <li>Админ рассмотрел заявку</li>\r\n                        {order.adminConfirmed ? (\r\n                          <li className=\"text-success\">Админ Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>\r\n                        ) : <li className=\"text-danger\">Админ Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>}\r\n                      </React.Fragment>\r\n                    ) : ''} */}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                    {order.clientType === 'corporate' ?\r\n                      <React.Fragment>\r\n                        {order.clientId ? (\r\n                          <li className=\"text-danger\">Корпоративный Клиент: {order.clientId.name}</li>\r\n                        ) : <li className=\"text-danger\">Корпоративный Клиент</li>}\r\n                        <li className=\"text-danger\">Имя клиента: {order.client}</li>\r\n                      </React.Fragment>\r\n                      : ''}\r\n\r\n                    {order.clientType === 'individual' ?\r\n                      <li className=\"text-danger\">Физический Клиент: {order.client}</li>\r\n                      : ''}\r\n\r\n                    <li className=\"text-danger\">Телефон Клиента: {order.phone}</li>\r\n                    {order.phone2 ? <li>Другой номер: {order.phone2}</li> : ''}\r\n                    <li className=\"text-danger\">Дата выполнения: <Moment format=\"DD/MM/YYYY\">{order.dateFrom}</Moment></li>\r\n                    <li className=\"text-danger\">Время выполнения: С <Moment format=\"HH:mm\">{order.dateFrom}</Moment> ПО <Moment format=\"HH:mm\">{order.completedAt}</Moment></li>\r\n                    <li className=\"text-danger\">Адрес: {order.address}</li>\r\n                    <li className=\"text-danger\">Тип услуги: {order.typeOfService}</li>\r\n                    <li>Срок гарантии (в месяцах): {order.guarantee}</li>\r\n                    <li>Комментарии Оператора: {order.comment ? order.comment : '--'}</li>\r\n                    <li>Комментарии Дезинфектора: {order.disinfectorComment ? order.disinfectorComment : '--'}</li>\r\n\r\n                    <li>Расход Материалов (заказ выполнили {order.disinfectors.length} чел):</li>\r\n                    <ul className=\"font-bold mb-0\">\r\n                      {renderOrderConsumption}\r\n                    </ul>\r\n\r\n                    {order.clientType === 'corporate' ? (\r\n                      <React.Fragment>\r\n                        {order.paymentMethod === 'cash' ? (\r\n                          <React.Fragment>\r\n                            <li>Тип Платежа: Наличный</li>\r\n                            {order.cost && <li>Общая Сумма: {order.cost.toLocaleString()} UZS (каждому по {(order.cost / order.disinfectors.length).toLocaleString()} UZS)</li>}\r\n                          </React.Fragment>\r\n                        ) : (\r\n                          <React.Fragment>\r\n                            <li>Тип Платежа: Безналичный</li>\r\n                            <li>Номер Договора: {order.contractNumber}</li>\r\n                          </React.Fragment>\r\n                        )}\r\n                      </React.Fragment>\r\n                    ) : ''}\r\n\r\n                    {order.clientType === 'individual' && order.cost ?\r\n                      <li>Общая Сумма: {order.cost.toLocaleString()} UZS (каждому по {(order.cost / order.disinfectors.length).toLocaleString()} UZS)</li>\r\n                      : ''}\r\n\r\n                    {order.userAcceptedOrder ? (\r\n                      <li>Заказ принял: {order.userAcceptedOrder.occupation} {order.userAcceptedOrder.name}</li>\r\n                    ) : ''}\r\n\r\n                    {order.userCreated ? (\r\n                      <li>Заказ добавил: {order.userCreated.occupation} {order.userCreated.name} (<Moment format=\"DD/MM/YYYY HH:mm\">{order.createdAt}</Moment>)</li>\r\n                    ) : ''}\r\n\r\n                    <li>Форма Выполнения Заказа заполнена: <Moment format=\"DD/MM/YYYY HH:mm\">{order.completedAt}</Moment></li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  order: state.order,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getOrderById })(withRouter(OrderFullDetails));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from '../common/Spinner';\r\nimport Moment from 'react-moment';\r\n\r\nimport { getNotCompOrders } from '../../actions/operatorActions'\r\nimport { deleteOrder } from '../../actions/orderActions';\r\n\r\nclass NotCompOrders extends Component {\r\n  componentDidMount() {\r\n    this.props.getNotCompOrders();\r\n  }\r\n\r\n  deleteOrderFunc = (order) => {\r\n    let clientId = '';\r\n\r\n    if (order.clientType === 'corporate') {\r\n      if (order.clientId) {\r\n        clientId = order.clientId._id;\r\n      }\r\n    }\r\n\r\n    const object = {\r\n      id: order._id,\r\n      clientType: order.clientType,\r\n      clientPhone: order.phone,\r\n      clientId: clientId,\r\n      orderDateFrom: order.dateFrom\r\n    };\r\n    this.props.deleteOrder(object, this.props.history, 'not-completed-orders');\r\n  };\r\n\r\n  render() {\r\n    let orders = this.props.operator.sortedOrders.sort((a, b) => new Date(a.dateFrom) - new Date(b.dateFrom));\r\n\r\n    let renderOrders = orders.map((order, index) =>\r\n      <div className=\"col-lg-4 col-md-6 col-sm-6 mt-2\" key={index}>\r\n        <div className=\"card order mt-2\">\r\n          <div className=\"card-body p-0\">\r\n            <ul className=\"font-bold list-unstyled mb-0\">\r\n              {order.disinfectorId && (\r\n                <li>Ответственный: {order.disinfectorId.occupation} {order.disinfectorId.name}</li>\r\n              )}\r\n\r\n              <li>Дата: <Moment format=\"DD/MM/YYYY HH:mm\">{order.dateFrom}</Moment></li>\r\n\r\n              {order.clientType === 'corporate' ?\r\n                <React.Fragment>\r\n                  {order.clientId ? (\r\n                    <li>Корпоративный Клиент: {order.clientId.name}</li>\r\n                  ) : <li>Корпоративный Клиент</li>}\r\n                  <li>Имя клиента: {order.client}</li>\r\n                </React.Fragment>\r\n                : ''}\r\n\r\n              {order.clientType === 'individual' ?\r\n                <li>Физический Клиент: {order.client}</li>\r\n                : ''}\r\n\r\n              <li>Телефон клиента: {order.phone}</li>\r\n              {order.phone2 !== '' ? (<li>Запасной номер: {order.phone2}</li>) : ''}\r\n              <li>Адрес: {order.address}</li>\r\n              <li>Тип заказа: {order.typeOfService}</li>\r\n              <div className=\"btn-group\">\r\n                {/* <Link to={`/order-details/${order._id}`} className=\"btn btn-primary mt-1\">Подробнее</Link> */}\r\n                <button className=\"btn btn-danger mt-1\" onClick={() => {\r\n                  if (window.confirm('Вы уверены?')) {\r\n                    this.deleteOrderFunc(order);\r\n                  }\r\n                }}><i className=\"fas fa-trash-alt\"></i> Удалить</button>\r\n              </div>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row m-0\">\r\n          <div className=\"col-12\">\r\n            <h2 className=\"text-center\">Невыполненные заказы</h2>\r\n          </div>\r\n        </div>\r\n\r\n        {this.props.operator.loadingSortedOrders ? <Spinner /> : (\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              <div className=\"row\">\r\n                {renderOrders}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  admin: state.admin,\r\n  operator: state.operator,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getNotCompOrders, deleteOrder })(withRouter(NotCompOrders));","import React, { Component } from 'react';\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from '../common/Spinner';\r\nimport Moment from 'react-moment';\r\n\r\nimport TextFieldGroup from '../common/TextFieldGroup';\r\n// import guaranteeExpired from '../../utils/guaranteeExpired';\r\nimport ClientNotSatisfiedButton from '../common/ClientNotSatisfiedButton';\r\n\r\nimport { searchOrders, deleteOrder } from '../../actions/orderActions';\r\nimport { adminConfirmsOrderQuery } from '../../actions/adminActions';\r\n\r\n\r\nclass SearchOrders extends Component {\r\n  state = {\r\n    phone: '',\r\n    address: '',\r\n    contractNumber: '',\r\n    method: '',\r\n    headingText: '',\r\n    orders: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (this.props.order.orders && this.props.order.orders.length > 0) {\r\n      this.setState({\r\n        orders: this.props.order.orders,\r\n        method: this.props.order.searchOrderMethod,\r\n        headingText: this.props.order.searchOrderInput\r\n      });\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    this.setState({\r\n      orders: nextProps.order.orders\r\n    });\r\n  }\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  searchByAddress = (e) => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      method: 'address',\r\n      headingText: this.state.address\r\n    });\r\n    const object = {\r\n      method: 'address',\r\n      payload: this.state.address\r\n    };\r\n    this.props.searchOrders(object);\r\n  };\r\n\r\n  searchByPhone = (e) => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      method: 'phone',\r\n      headingText: this.state.phone\r\n    });\r\n    const object = {\r\n      method: 'phone',\r\n      payload: this.state.phone\r\n    };\r\n    this.props.searchOrders(object);\r\n  };\r\n\r\n  searchByContract = (e) => {\r\n    e.preventDefault();\r\n    this.setState({\r\n      method: 'contract',\r\n      headingText: this.state.contractNumber\r\n    });\r\n    const object = {\r\n      method: 'contract',\r\n      payload: this.state.contractNumber\r\n    };\r\n    this.props.searchOrders(object);\r\n  };\r\n\r\n  adminConfirm = (orderId, response, disinfectors) => {\r\n    const object = {\r\n      orderId: orderId,\r\n      response: response,\r\n      disinfectors: disinfectors\r\n    };\r\n    this.props.adminConfirmsOrderQuery(object, this.props.history);\r\n  };\r\n\r\n  // delete order\r\n  deleteOrder = (id, clientType, clientPhone, clientId, orderDateFrom) => {\r\n    const object = {\r\n      id: id,\r\n      clientType: clientType,\r\n      clientPhone: clientPhone,\r\n      clientId: clientId,\r\n      orderDateFrom: orderDateFrom,\r\n    };\r\n    this.props.deleteOrder(object, this.props.history, this.props.auth.user.occupation);\r\n    window.location.reload();\r\n  }\r\n\r\n  // goToAddNewForm = (item) => {\r\n  //   this.props.history.push(`/fail/add-new/${item._id}`, {\r\n  //     pathname: `/fail/add-new/${item._id}`,\r\n  //     state: { order: item, shouldLoadOrder: true }\r\n  //   });\r\n  // };\r\n\r\n  render() {\r\n    console.log('orders', this.state.orders);\r\n    let renderOrders = this.state.orders.map((item, index) => {\r\n      let consumptionArray = [];\r\n      item.disinfectors.forEach(thing => {\r\n        consumptionArray.push({\r\n          user: thing.user,\r\n          consumption: thing.consumption\r\n        });\r\n      });\r\n\r\n\r\n      // let consumptionRender = consumptionArray.map((element, number) =>\r\n      //   <li key={number}>\r\n      //     <p className=\"mb-0\">Пользователь: {element.user.occupation} {element.user.name}</p>\r\n      //     {element.consumption.map((thing, key) =>\r\n      //       <p key={key} className=\"mb-0\">{thing.material}: {thing.amount.toLocaleString()} {thing.unit}</p>\r\n      //     )}\r\n      //   </li>\r\n      // );\r\n\r\n\r\n      return (\r\n        <div className=\"col-lg-4 col-md-6\" key={index}>\r\n          <div className=\"card order mt-2\">\r\n            <div className=\"card-body p-0\">\r\n              <ul className=\"font-bold mb-0 list-unstyled\">\r\n                {item.prevFailedOrder && (\r\n                  <li><h4><i className=\"fas fas fa-exclamation\"></i> Повторный заказ <i className=\"fas fas fa-exclamation\"></i></h4></li>\r\n                )}\r\n\r\n                {item.failed && (\r\n                  <li><h4><i className=\"fas fas fa-exclamation\"></i> Некачественный заказ <i className=\"fas fas fa-exclamation\"></i></h4></li>\r\n                )}\r\n\r\n                {item.disinfectorId && (\r\n                  <li>Ответственный: {item.disinfectorId.occupation} {item.disinfectorId.name}</li>\r\n                )}\r\n\r\n                {/* {item.completed ? (\r\n                  <li>Заказ Выполнен</li>\r\n                ) : <li>Заказ еще Не Выполнен</li>} */}\r\n\r\n                {!item.completed && <li>Заказ еще Не Выполнен</li>}\r\n\r\n                {item.completed && item.operatorDecided ? (\r\n                  <React.Fragment>\r\n                    <li>Оператор рассмотрел заявку</li>\r\n                    {item.operatorConfirmed ? <li className=\"text-success\">Оператор подтвердил заяку (время: <Moment format=\"DD/MM/YYYY HH:mm\">{item.operatorCheckedAt}</Moment>)</li> : <li className=\"text-danger\">Оператор отверг заяку (время: <Moment format=\"DD/MM/YYYY HH:mm\">{item.operatorCheckedAt}</Moment>)</li>}\r\n                    <li>Балл: {item.score}</li>\r\n                    <li>Отзыв Клиента: {item.clientReview}</li>\r\n                  </React.Fragment>\r\n                ) : <li>Оператор еще не рассмотрел заявку</li>}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                {item.accountantDecided ? (\r\n                  <React.Fragment>\r\n                    <li>Бухгалтер рассмотрел заявку</li>\r\n                    {item.accountantConfirmed ? (\r\n                      <React.Fragment>\r\n                        <li className=\"text-success\">Бухгалтер Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{item.accountantCheckedAt}</Moment>)</li>\r\n                        <li>Счет-Фактура: {item.invoice ? item.invoice : '--'}</li>\r\n                        <li>Общая Сумма: {item.cost.toLocaleString()} UZS (каждому по {(item.cost / item.disinfectors.length).toLocaleString()} UZS)</li>\r\n                      </React.Fragment>\r\n                    ) : <li className=\"text-danger\">Бухгалтер Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{item.accountantCheckedAt}</Moment>)</li>}\r\n                  </React.Fragment>\r\n                ) : (\r\n                  <React.Fragment>\r\n\r\n                    {item.adminDecided ? (\r\n                      <React.Fragment>\r\n                        <li>Админ рассмотрел заявку</li>\r\n                        {item.adminConfirmed ? (\r\n                          <li className=\"text-success\">Админ Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{item.adminCheckedAt}</Moment>)</li>\r\n                        ) : <li className=\"text-danger\">Админ Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{item.adminCheckedAt}</Moment>)</li>}\r\n                      </React.Fragment>\r\n                    ) : (\r\n                      <li>Бухгалтер еще не рассмотрел заявку</li>\r\n                    )}\r\n\r\n                  </React.Fragment>\r\n                )}\r\n\r\n\r\n                {/* {item.clientType === 'corporate' && item.paymentMethod === 'notCash' && !item.accountantDecided ? <li>Бухгалтер еще не рассмотрел заявку</li> : ''}\r\n\r\n                {item.clientType === 'corporate' && item.paymentMethod === 'notCash' && item.accountantDecided ?\r\n                  <React.Fragment>\r\n                    <li>Бухгалтер рассмотрел заявку</li>\r\n                    {item.accountantConfirmed ? (\r\n                      <React.Fragment>\r\n                        <li className=\"text-success\">Бухгалтер Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{item.accountantCheckedAt}</Moment>)</li>\r\n                        <li>Счет-Фактура: {item.invoice}</li>\r\n                        <li>Общая Сумма: {item.cost.toLocaleString()} (каждому по {(item.cost / item.disinfectors.length).toLocaleString()})</li>\r\n                      </React.Fragment>\r\n                    ) : <li className=\"text-danger\">Бухгалтер Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{item.accountantCheckedAt}</Moment>)</li>}\r\n                  </React.Fragment>\r\n                  : ''}\r\n\r\n                {item.clientType === 'corporate' && item.paymentMethod === 'cash' && !item.adminDecided ? <li>Админ еще не рассмотрел заявку</li> : ''}\r\n\r\n                {item.clientType === 'corporate' && item.paymentMethod === 'cash' && item.adminDecided ? (\r\n                  <React.Fragment>\r\n                    <li>Админ рассмотрел заявку</li>\r\n                    {item.adminConfirmed ? (\r\n                      <li className=\"text-success\">Админ Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{item.adminCheckedAt}</Moment>)</li>\r\n                    ) : <li className=\"text-danger\">Админ Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{item.adminCheckedAt}</Moment>)</li>}\r\n                  </React.Fragment>\r\n                ) : ''}\r\n\r\n                {item.clientType === 'individual' ? (\r\n                  <React.Fragment>\r\n                    {item.completed && item.adminDecided ? (\r\n                      <React.Fragment>\r\n                        <li>Админ рассмотрел заявку (время: <Moment format=\"DD/MM/YYYY HH:mm\">{item.adminCheckedAt}</Moment>)</li>\r\n                        {item.adminConfirmed ? <li className=\"text-success\">Админ подтвердил заяку</li> : <li className=\"text-danger\">Админ отверг заяку</li>}\r\n                      </React.Fragment>\r\n                    ) : <li>Админ еще не рассмотрел заявку</li>}\r\n                  </React.Fragment>\r\n                ) : ''} */}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                {item.clientType === 'corporate' ?\r\n                  <React.Fragment>\r\n                    {item.clientId ? (\r\n                      <li className=\"text-danger\">Корпоративный Клиент: {item.clientId.name}</li>\r\n                    ) : <li className=\"text-danger\">Корпоративный Клиент</li>}\r\n                    <li className=\"text-danger\">Имя клиента: {item.client}</li>\r\n                  </React.Fragment>\r\n                  : ''}\r\n\r\n                {item.clientType === 'individual' ?\r\n                  <li className=\"text-danger\">Физический Клиент: {item.client}</li>\r\n                  : ''}\r\n\r\n                <li className=\"text-danger\">Телефон: {item.phone}</li>\r\n                {item.phone2 && item.phone2 !== '' ? <li className=\"text-danger\">Запасной номер: {item.phone2}</li> : ''}\r\n                <li className=\"text-danger\">Адрес: {item.address}</li>\r\n\r\n                {/* <li className=\"text-danger\">Откуда узнали: {item.advertising}</li> */}\r\n\r\n                <li className=\"text-danger\">Тип услуги: {item.typeOfService}</li>\r\n\r\n                {item.dateFrom ? (\r\n                  <React.Fragment>\r\n                    <li>Дата: <Moment format=\"DD/MM/YYYY\">{item.dateFrom}</Moment></li>\r\n                    {item.completed ? (\r\n                      <li>Время выполнения: С <Moment format=\"HH:mm\">{item.dateFrom}</Moment> ПО <Moment format=\"HH:mm\">{item.completedAt}</Moment></li>\r\n                    ) : <li>Время выполнения: <Moment format=\"HH:mm\">{item.dateFrom}</Moment></li>}\r\n                  </React.Fragment>\r\n                ) : <li>Дата и время выполнения: --</li>}\r\n\r\n                {item.clientType === 'corporate' ? (\r\n                  <li>Номер договора: {item.contractNumber ? item.contractNumber : '--'}</li>\r\n                ) : ''}\r\n\r\n                <li>Срок гарантии (в месяцах): {item.guarantee}</li>\r\n                <li>Комментарии: {item.comment ? item.comment : '--'}</li>\r\n                <li>Комментарии Дезинфектора: {item.disinfectorComment ? item.disinfectorComment : '--'}</li>\r\n\r\n                {/* {item.completed ? (\r\n                  <React.Fragment>\r\n                    <li>Расход Материалов:</li>\r\n                    <ul className=\"font-bold mb-0\">\r\n                      {consumptionRender}\r\n                    </ul>\r\n                  </React.Fragment>\r\n                ) : <li>Расход Материалов: --</li>} */}\r\n\r\n                {/* {item.repeatedOrder ? (\r\n                  <React.Fragment>\r\n                    <li className=\"mt-2\">Это повторная продажа</li>\r\n                    {item.repeatedOrderDecided ? (\r\n                      <React.Fragment>\r\n                        <li>Решение по проведению повторной работы принято</li>\r\n                        {item.repeatedOrderNeeded ? (\r\n                          <li>Повторная продажа будет проведена</li>\r\n                        ) : (\r\n                            <li>Повторная продажа не требуется</li>\r\n                          )}\r\n                      </React.Fragment>\r\n                    ) : (\r\n                        <li>Решение по проведению повторной продажи еще не принято</li>\r\n                      )}\r\n                  </React.Fragment>\r\n                ) : ''} */}\r\n\r\n                {item.completed ? (\r\n                  <Link\r\n                    to={`/order-full-details/${item._id}`}\r\n                    className=\"btn btn-primary mt-3 mr-2\"\r\n                  >\r\n                    <i className=\"fas fa-info\"></i> Подробнее\r\n                  </Link>\r\n                ) : (\r\n                  <Link\r\n                    to={`/order-details/${item._id}`}\r\n                    className=\"btn btn-primary mt-3 mr-2\"\r\n                  >\r\n                    <i className=\"fas fa-info\"></i> Подробнее\r\n                  </Link>\r\n                )}\r\n\r\n\r\n                {/* {this.props.auth.user.occupation === 'admin' && item.completed && !item.adminDecided ? (\r\n                  <React.Fragment>\r\n                    {item.clientType === 'individual' || (item.clientType === 'corporate' && item.paymentMethod === 'cash') ? (\r\n                      <div className=\"btn-group\">\r\n                        <button className=\"btn btn-danger mt-2 mr-2\" onClick={() => { if (window.confirm('Вы уверены отменить заказ?')) { this.adminConfirm(item._id, 'false') } }}>Отменить</button>\r\n\r\n                        <button className=\"btn btn-success mt-2 mr-2\" onClick={() => { if (window.confirm('Вы уверены подтвердить заказ?')) { this.adminConfirm(item._id, 'true') } }}>Подтвердить</button>\r\n\r\n                        <button className=\"btn btn-dark mt-2 mr-2\" onClick={() => { if (window.confirm('Вы уверены отправить заказ обратно дезинфектору?')) { this.adminConfirm(item._id, 'back', item.disinfectors) } }}>Обратно</button>\r\n                      </div>\r\n                    ) : ''}\r\n                  </React.Fragment>\r\n                ) : ''} */}\r\n\r\n\r\n                {this.props.auth.user.occupation === 'accountant' &&\r\n                  item.completed &&\r\n                  !item.accountantDecided &&\r\n                  !item.adminDecided ? (\r\n                  // item.clientType === 'corporate' && \r\n                  // item.paymentMethod === 'notCash' ? (\r\n                  <Link\r\n                    to={`/accountant/order-confirm/${item._id}`}\r\n                    className=\"btn btn-dark mt-3 mr-2\"\r\n                  >\r\n                    <i className=\"fab fa-wpforms\"></i> Перейти на страницу подтверждения\r\n                  </Link>\r\n                ) : ''}\r\n\r\n\r\n                {this.props.auth.user.occupation === 'operator' &&\r\n                  item.completed && !item.operatorDecided ? (\r\n                  <Link\r\n                    to={`/order-confirm/${item._id}`}\r\n                    className=\"btn btn-dark mt-3 mr-2\"\r\n                  >\r\n                    <i className=\"fab fa-wpforms\"></i> Перейти на страницу подтверждения\r\n                  </Link>\r\n                ) : ''}\r\n\r\n                {/* <button className=\"btn btn-danger\" onClick={() => {\r\n                  if (window.confirm('Вы уверены?')) {\r\n                    if (item.clientType === 'corporate') {\r\n                      this.deleteOrder(item._id, item.clientType, item.phone, item.clientId._id, item.dateFrom);\r\n                    } else if (item.clientType === 'individual') {\r\n                      this.deleteOrder(item._id, item.clientType, item.phone, '', item.dateFrom);\r\n                    }\r\n                  }\r\n                }}>Удалить</button> */}\r\n\r\n                {/* show клиент недоволен button */}\r\n                {/* {['admin', 'accountant', 'subadmin', 'operator'].includes(this.props.auth.user.occupation) &&\r\n                  item.completed && !item.failed && item.guarantee &&\r\n                  !guaranteeExpired(item.completedAt, item.guarantee) ? (\r\n\r\n                  <div className=\"btn-group\">\r\n                    <button\r\n                      className=\"btn btn-secondary mt-2 mr-2\"\r\n                      onClick={() => this.goToAddNewForm(item)}\r\n                    >Клиент Недоволен</button>\r\n                  </div>\r\n\r\n                ) : ''} */}\r\n\r\n                <ClientNotSatisfiedButton\r\n                  order={item}\r\n                  shouldLoadOrder={true}\r\n                />\r\n\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )\r\n    });\r\n\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <h2 className=\"text-center\">Поиск заказов</h2>\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n\r\n          <div className=\"col-lg-4 col-md-6 mt-2\">\r\n            <form onSubmit={this.searchByAddress} className=\"form-bg p-1\">\r\n              <h4 className=\"text-center mb-0\">Поиск по адресу <i className=\"fas fa-map-marker\"></i></h4>\r\n              <TextFieldGroup\r\n                type=\"text\"\r\n                placeholder=\"Адрес\"\r\n                name=\"address\"\r\n                value={this.state.address}\r\n                onChange={this.onChange}\r\n                required\r\n              />\r\n              <button type=\"submit\" className=\"btn btn-success\"><i className=\"fas fa-search\"></i> Искать</button>\r\n            </form>\r\n          </div>\r\n\r\n          <div className=\"col-lg-4 col-md-6 mt-2\">\r\n            <form onSubmit={this.searchByPhone} className=\"form-bg p-1\">\r\n              <h4 className=\"text-center mb-0\">Поиск по номеру телефона <i className=\"fas fa-phone\"></i></h4>\r\n              <TextFieldGroup\r\n                type=\"text\"\r\n                placeholder=\"Номер Телефона\"\r\n                name=\"phone\"\r\n                value={this.state.phone}\r\n                onChange={this.onChange}\r\n                required\r\n              />\r\n              <button type=\"submit\" className=\"btn btn-dark\"><i className=\"fas fa-search\"></i> Искать</button>\r\n            </form>\r\n          </div>\r\n\r\n          <div className=\"col-lg-4 col-md-6 mt-2\">\r\n            <form onSubmit={this.searchByContract} className=\"form-bg p-1\">\r\n              <h4 className=\"text-center mb-0\">Поиск по номеру договора <i className=\"fas fa-file-alt\"></i></h4>\r\n              <TextFieldGroup\r\n                type=\"text\"\r\n                placeholder=\"Номер Договора\"\r\n                name=\"contractNumber\"\r\n                value={this.state.contractNumber}\r\n                onChange={this.onChange}\r\n                required\r\n              />\r\n              <button type=\"submit\" className=\"btn btn-primary\"><i className=\"fas fa-search\"></i> Искать</button>\r\n            </form>\r\n          </div>\r\n\r\n        </div>\r\n\r\n        <div className=\"row mt-3\">\r\n          <div className=\"col-12\">\r\n            {this.state.method === 'phone' && (\r\n              <h2 className=\"text-center\">Результаты поиска заказов по номеру телефона \"{this.state.headingText}\"</h2>\r\n            )}\r\n\r\n            {this.state.method === 'address' && (\r\n              <h2 className=\"text-center\">Результаты поиска заказов по адресу \"{this.state.headingText}\"</h2>\r\n            )}\r\n\r\n            {this.state.method === 'contract' && (\r\n              <h2 className=\"text-center\">Результаты поиска заказов по номеру договора \"{this.state.headingText}\"</h2>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {this.props.order.loading ? (\r\n          <div className=\"row mt-3\">\r\n            <div className=\"col-12\">\r\n              <Spinner />\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"row mt-3\">\r\n            {this.state.headingText.length > 0 && this.props.order.orders.length === 0 ? (\r\n              <h2 className=\"m-auto\">Заказы не найдены</h2>\r\n            ) : renderOrders}\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  admin: state.admin,\r\n  accountant: state.accountant,\r\n  operator: state.operator,\r\n  order: state.order,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { searchOrders, adminConfirmsOrderQuery, deleteOrder })(withRouter(SearchOrders));","import axios from 'axios';\r\nimport {\r\n  GET_ALL_USERS,\r\n  GET_ERRORS,\r\n  SET_LOADING_USERS,\r\n  SET_LOADING_CHATS,\r\n  SET_LOADING_CURRENT_CHAT,\r\n  SET_LOADING_ANONS,\r\n  NEW_CHAT_CREATED,\r\n  GET_ALL_CHATS,\r\n  GET_CURRENT_CHAT,\r\n  GET_ANONS,\r\n  CREATE_MESSAGE,\r\n  EDIT_MESSAGE,\r\n  DELETE_MESSAGE,\r\n  ADD_ANONS\r\n} from './types';\r\n\r\n\r\nexport const getAllUsers = () => (dispatch) => {\r\n  dispatch(setLoadingUsers());\r\n\r\n  const object = {\r\n    method: 'all',\r\n    roles: []\r\n  };\r\n\r\n  // axios.get('/chat/get-all-users')\r\n  axios.post('/get-users', { object })\r\n    .then(users =>\r\n      dispatch({\r\n        type: GET_ALL_USERS,\r\n        payload: users\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\nexport const getAllChatsOfUser = (userId) => (dispatch) => {\r\n  dispatch(setLoadingChats());\r\n  axios.post('/chat/get-all-chats-of-user', { userId: userId })\r\n    .then(res =>\r\n      dispatch({\r\n        type: GET_ALL_CHATS,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\n// create new chat between 2 people\r\nexport const createChat = (newChat, history) => (dispatch) => {\r\n  axios.post('/chat/createChat', newChat)\r\n    .then(res =>\r\n      dispatch({\r\n        type: NEW_CHAT_CREATED,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\nexport const getCurrentChat = (chatId) => (dispatch) => {\r\n  dispatch(setLoadingCurrentChat());\r\n  axios.get(`/chat/${chatId}`)\r\n    .then(res =>\r\n      dispatch({\r\n        type: GET_CURRENT_CHAT,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\nexport const createMessage = (object) => (dispatch) => {\r\n  axios.post('/chat/create-message', { object: object })\r\n    .then(res => {\r\n      dispatch({\r\n        type: CREATE_MESSAGE,\r\n        payload: res.data\r\n      })\r\n    })\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\nexport const deleteMessage = (chatId, messageId) => (dispatch) => {\r\n  axios.post('/chat/delete-message', { chatId: chatId, messageId: messageId })\r\n    .then(res =>\r\n      dispatch({\r\n        type: DELETE_MESSAGE,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\nexport const editMessage = (object) => (dispatch) => {\r\n  axios.post('/chat/edit-message', { object: object })\r\n    .then(res =>\r\n      dispatch({\r\n        type: EDIT_MESSAGE,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\n// get announcements\r\nexport const getAllAnons = () => (dispatch) => {\r\n  dispatch(setLoadingAnons());\r\n  axios.post('/chat/get-all-anons')\r\n    .then(res =>\r\n      dispatch({\r\n        type: GET_ANONS,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\n// add an announcement\r\nexport const addAnons = (object, history) => (dispatch) => {\r\n  axios.post('/chat/create-announcement', { object: object })\r\n    .then(res =>\r\n      dispatch({\r\n        type: ADD_ANONS,\r\n        payload: res.data\r\n      })\r\n    )\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\n// Loading all users\r\nexport const setLoadingUsers = () => {\r\n  return {\r\n    type: SET_LOADING_USERS\r\n  };\r\n};\r\n\r\n\r\n// Loading all chats\r\nexport const setLoadingChats = () => {\r\n  return {\r\n    type: SET_LOADING_CHATS\r\n  };\r\n};\r\n\r\n\r\n// Loading current chat\r\nexport const setLoadingCurrentChat = () => {\r\n  return {\r\n    type: SET_LOADING_CURRENT_CHAT\r\n  };\r\n};\r\n\r\n\r\n// Loading announcements\r\nexport const setLoadingAnons = () => {\r\n  return {\r\n    type: SET_LOADING_ANONS\r\n  };\r\n};","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { getAllUsers, createChat, getAllChatsOfUser } from '../../actions/chatActions';\r\n\r\n// socket.io\r\nimport openSocket from 'socket.io-client';\r\nimport socketLink from '../common/socketLink';\r\n\r\nclass DisplayUsersWithoutChat extends Component {\r\n  _isMounted = false;\r\n\r\n  state = {\r\n    notHaveChatWith: this.props.chat.notHaveChatWith.filter(user => user._id !== this.props.auth.user.id)\r\n  };\r\n\r\n  componentDidMount() {\r\n    this._isMounted = true;\r\n\r\n    // const socket = openSocket('http://localhost:5000');\r\n    // const socket = openSocket('https://fierce-scrubland-41952.herokuapp.com');\r\n    const socket = openSocket(socketLink);\r\n\r\n    socket.on('createChat', data => {\r\n      if (this.props.auth.user.id === data.user1._id.toString()) {\r\n        this.removeUserFromDOM(data.user2);\r\n      }\r\n      if (this.props.auth.user.id === data.user2._id.toString()) {\r\n        this.removeUserFromDOM(data.user1);\r\n      }\r\n    })\r\n  }\r\n\r\n  removeUserFromDOM = (user) => {\r\n    if (this._isMounted) {\r\n      this.setState(prevState => {\r\n        const updatedObject = [...prevState.notHaveChatWith];\r\n        return {\r\n          notHaveChatWith: updatedObject.filter(item => item._id !== user._id.toString())\r\n        };\r\n      });\r\n    }\r\n  };\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    // creating new chat\r\n    const object = {\r\n      user1: this.props.auth.user.id,\r\n      user2: e.target.children[0].defaultValue // access input hidden\r\n    };\r\n\r\n    this.props.createChat(object, this.props.history);\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  };\r\n\r\n  render() {\r\n    let tableBody = this.state.notHaveChatWith.map((user, index) =>\r\n      <tr key={index}>\r\n        <td>{user.name}</td>\r\n        <td>{user.occupation}</td>\r\n        <td>\r\n          <form onSubmit={this.onSubmit}>\r\n            <input type=\"hidden\" name=\"userId\" value={user._id} />\r\n            <button type=\"submit\" className=\"btn btn-success\">Создать Чат</button>\r\n          </form>\r\n        </td>\r\n      </tr>\r\n    )\r\n\r\n    return (\r\n      <React.Fragment>\r\n        {this.state.notHaveChatWith.length > 0 ? (\r\n          <table className=\"table table-striped table-hover\">\r\n            <thead>\r\n              <tr>\r\n                <th>Имя</th>\r\n                <th>Должность</th>\r\n                <th>Создать Чат</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {tableBody}\r\n            </tbody>\r\n          </table>\r\n        ) : (\r\n            <h2>У вас есть чаты со всеми юзерами</h2>\r\n          )}\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nDisplayUsersWithoutChat.propTypes = {\r\n  getAllUsers: PropTypes.func.isRequired,\r\n  createChat: PropTypes.func.isRequired,\r\n  getAllChatsOfUser: PropTypes.func.isRequired,\r\n  auth: PropTypes.object.isRequired,\r\n  chat: PropTypes.object.isRequired,\r\n  errors: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  order: state.order,\r\n  chat: state.chat,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getAllUsers, createChat, getAllChatsOfUser })(withRouter(DisplayUsersWithoutChat));","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { getAllUsers, createChat, getAllChatsOfUser } from '../../actions/chatActions';\r\n\r\n// socket.io\r\nimport openSocket from 'socket.io-client';\r\nimport socketLink from '../common/socketLink';\r\n\r\nclass DisplayUsersWithChat extends Component {\r\n  _isMounted = false;\r\n\r\n  state = {\r\n    hasChatWith: this.props.chat.hasChatWith,\r\n    myChats: this.props.chat.chats\r\n  };\r\n\r\n  componentDidMount() {\r\n    this._isMounted = true;\r\n\r\n    // const socket = openSocket('http://localhost:5000');\r\n    // const socket = openSocket('https://fierce-scrubland-41952.herokuapp.com');\r\n    const socket = openSocket(socketLink);\r\n\r\n    socket.on('createChat', data => {\r\n      const userId = this.props.auth.user.id;\r\n      if (userId === data.user1._id.toString() || userId === data.user2._id.toString()) {\r\n        let newChat = data.chat;\r\n        newChat.user1 = data.user1;\r\n        newChat.user2 = data.user2;\r\n        this.addChatToDOM(newChat);\r\n      }\r\n    })\r\n  }\r\n\r\n  // ANOTHER WAY TO DYNAMICALLY ADD NEW CHAT TO DOM WITHOUT RELOADING\r\n  // componentWillReceiveProps(nextProps) {\r\n  //   this.setState({\r\n  //     myChats: nextProps.chat.chats\r\n  //   })\r\n  // }\r\n\r\n  addChatToDOM = (chat) => {\r\n    if (this._isMounted) {\r\n      this.setState(prevState => {\r\n        const updatedObject = [...prevState.myChats];\r\n        updatedObject.push(chat);\r\n        return {\r\n          myChats: updatedObject\r\n        };\r\n      });\r\n    }\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  }\r\n\r\n  render() {\r\n    let tableBody = this.state.myChats.map((chat, index) =>\r\n      <tr key={index}>\r\n        {chat.user1._id.toString() === this.props.auth.user.id ? (\r\n          <React.Fragment>\r\n            <td>{chat.user2.name}</td>\r\n            <td>{chat.user2.occupation}</td>\r\n          </React.Fragment>\r\n        ) : (\r\n            <React.Fragment>\r\n              <td>{chat.user1.name}</td>\r\n              <td>{chat.user1.occupation}</td>\r\n            </React.Fragment>\r\n          )}\r\n\r\n        <td>\r\n          <Link to={'/chat/' + chat._id} className=\"btn btn-primary\">Перейти К Чату</Link>\r\n        </td>\r\n      </tr>\r\n    )\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <table className=\"table table-striped table-hover table-bordered\">\r\n          <thead>\r\n            <tr>\r\n              <th>Имя</th>\r\n              <th>Должность</th>\r\n              <th>Открыть Чат</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {tableBody}\r\n          </tbody>\r\n        </table>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nDisplayUsersWithChat.propTypes = {\r\n  getAllUsers: PropTypes.func.isRequired,\r\n  createChat: PropTypes.func.isRequired,\r\n  getAllChatsOfUser: PropTypes.func.isRequired,\r\n  auth: PropTypes.object.isRequired,\r\n  chat: PropTypes.object.isRequired,\r\n  errors: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  order: state.order,\r\n  chat: state.chat,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getAllUsers, createChat, getAllChatsOfUser })(withRouter(DisplayUsersWithChat));","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { getAllUsers, getAllChatsOfUser } from '../../actions/chatActions';\r\nimport Spinner from '../common/Spinner';\r\n\r\nimport DisplayUsersWithoutChat from './DisplayUsersWithoutChat';\r\nimport DisplayUsersWithChat from './DisplayUsersWithChat';\r\n\r\nclass Chat extends Component {\r\n  componentDidMount() {\r\n    this.props.getAllChatsOfUser(this.props.auth.user.id);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"container\">\r\n          {this.props.chat.loadingChats ? <Spinner /> : (\r\n            <React.Fragment>\r\n              <h2 className=\" text-center mt-3\">Создать Чат</h2>\r\n              <div className=\"row\">\r\n                <DisplayUsersWithoutChat />\r\n              </div>\r\n\r\n              <h2 className=\"text-center mt-4\">Ваши имеющиеся чаты</h2>\r\n              <div className=\"row\">\r\n                <DisplayUsersWithChat />\r\n              </div>\r\n            </React.Fragment>\r\n          )}\r\n        </div>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nChat.propTypes = {\r\n  getAllUsers: PropTypes.func.isRequired,\r\n  getAllChatsOfUser: PropTypes.func.isRequired,\r\n  auth: PropTypes.object.isRequired,\r\n  chat: PropTypes.object.isRequired\r\n  // errors: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  order: state.order,\r\n  chat: state.chat,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getAllUsers, getAllChatsOfUser })(withRouter(Chat));","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { createMessage } from '../../actions/chatActions';\r\n\r\nclass CreateMessage extends Component {\r\n  state = {\r\n    content: ''\r\n  };\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n    const object = {\r\n      chatId: this.props.chat.currentChat._id,\r\n      fromId: this.props.auth.user.id,\r\n      fromName: this.props.auth.user.name,\r\n      body: this.state.content\r\n    };\r\n    this.props.createMessage(object);\r\n    document.getElementById('create-message-input').value = '';\r\n    this.setState({ content: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"create-message\">\r\n        <form onSubmit={this.onSubmit}>\r\n          <div className=\"input-group\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"create-message-input\"\r\n              placeholder=\"Type Message Here ...\"\r\n              name=\"content\"\r\n              required\r\n              onChange={this.onChange}\r\n            />\r\n            <div className=\"input-group-append\">\r\n              <button type=\"submit\" className=\"btn btn-success\">Отправить</button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nCreateMessage.propTypes = {\r\n  createMessage: PropTypes.func.isRequired,\r\n  auth: PropTypes.object.isRequired,\r\n  order: PropTypes.object.isRequired,\r\n  chat: PropTypes.object.isRequired\r\n  // errors: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  order: state.order,\r\n  chat: state.chat,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { createMessage })(withRouter(CreateMessage));","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { getCurrentChat, editMessage, deleteMessage } from '../../actions/chatActions';\r\nimport moment from 'moment';\r\n\r\nimport CreateMessage from './CreateMessage';\r\n\r\n// socket.io\r\nimport openSocket from 'socket.io-client';\r\nimport socketLink from '../common/socketLink';\r\n\r\nclass ShowChat extends Component {\r\n  _isMounted = false;\r\n\r\n  state = {\r\n    messages: this.props.chat.currentChat.messages,\r\n    showEdit: false,\r\n    editmessageid: '',\r\n    editmessagebody: ''\r\n  };\r\n\r\n  componentDidMount() {\r\n    this._isMounted = true;\r\n\r\n    // scroll down\r\n    window.scrollTo(0, document.getElementById('row-with-messages').scrollHeight);\r\n    document.getElementById('navbar').classList.add('fixed-top');\r\n\r\n    // const socket = openSocket('http://localhost:5000');\r\n    // const socket = openSocket('https://fierce-scrubland-41952.herokuapp.com');\r\n    const socket = openSocket(socketLink);\r\n\r\n    socket.on(`createMessageInChat${this.props.match.params.chatId}`, data => {\r\n      this.addMessageToDOM(data.message);\r\n    });\r\n\r\n    socket.on(`editMessageInChat${this.props.match.params.chatId}`, data => {\r\n      this.updateDOMOnEditMessage(data.messageId, data.updatedBody);\r\n    });\r\n\r\n    socket.on(`deleteMessageInChat${this.props.match.params.chatId}`, data => {\r\n      this.deleteMessageFromDOM(data.messageId);\r\n    });\r\n  };\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  deleteClick = (e) => {\r\n    const chatId = this.props.match.params.chatId;\r\n    const messageId = e.target.value;\r\n    this.props.deleteMessage(chatId, messageId);\r\n  };\r\n\r\n  editClick = (itemId, itemBody, e) => {\r\n    if (this._isMounted) {\r\n      return this.setState({\r\n        showEdit: !this.state.showEdit,\r\n        editmessageid: itemId,\r\n        editmessagebody: itemBody,\r\n      });\r\n    }\r\n  };\r\n\r\n  onEditMessage = (e) => {\r\n    e.preventDefault();\r\n    const object = {\r\n      chatId: this.props.match.params.chatId,\r\n      messageId: this.state.editmessageid,\r\n      updatedBody: this.state.editmessagebody\r\n    };\r\n    this.props.editMessage(object);\r\n    if (this._isMounted) {\r\n      this.setState({\r\n        showEdit: !this.state.showEdit,\r\n        editmessageid: '',\r\n        editmessagebody: '',\r\n      });\r\n    }\r\n  };\r\n\r\n  updateDOMOnEditMessage = (messageId, updatedBody) => {\r\n    if (this._isMounted) {\r\n      const messagesinState = [...this.state.messages];\r\n      for (let i = 0; i < messagesinState.length; i++) {\r\n        if (messagesinState[i]._id.toString() === messageId) {\r\n          messagesinState[i].body = updatedBody;\r\n        }\r\n      }\r\n      this.setState({\r\n        messages: messagesinState\r\n      });\r\n    }\r\n  };\r\n\r\n  addMessageToDOM = (message) => {\r\n    if (this._isMounted) {\r\n      this.setState(prevState => {\r\n        let updatedMessages = [...prevState.messages];\r\n        updatedMessages.push(message);\r\n        return {\r\n          messages: updatedMessages\r\n        };\r\n      });\r\n      // scroll down\r\n      window.scrollTo(0, document.getElementById('container-messages').scrollHeight);\r\n    }\r\n  };\r\n\r\n  deleteMessageFromDOM = (messageId) => {\r\n    if (this._isMounted) {\r\n      this.setState(prevState => {\r\n        let updatedMessages = [...prevState.messages]\r\n        let array2 = updatedMessages.filter(message => message._id !== messageId);\r\n        return {\r\n          messages: array2\r\n        };\r\n      });\r\n    }\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n    document.getElementById('navbar').classList.remove(\"fixed-top\");\r\n  };\r\n\r\n  render() {\r\n    const { currentChat } = this.props.chat;\r\n    const myId = this.props.auth.user.id;\r\n\r\n    let messages = this.state.messages.map((item, index) =>\r\n      <div className={item.fromId === myId ? 'my-message col-lg-6 col-md-8 col-10 ml-auto' : 'his-message col-lg-6 col-md-8 col-10'} key={index}>\r\n        <div className=\"message-author\">\r\n          <p className=\"mb-0\">{item.fromName}</p>\r\n          {item.fromId === myId ? (\r\n            <React.Fragment>\r\n              <button\r\n                className=\"btn btn-danger btn-sm pt-0 pb-0 ml-1 delete-message\"\r\n                onClick={this.deleteClick}\r\n                value={item._id}\r\n              >Delete</button>\r\n\r\n              <button\r\n                className=\"btn btn-dark btn-sm pt-0 pb-0 edit-message\"\r\n                onClick={this.editClick.bind(this, item._id, item.body)}\r\n              >Edit</button>\r\n            </React.Fragment>\r\n          ) : null}\r\n        </div>\r\n        <div className=\"message-content\">\r\n          <p className=\"mb-0\">{item.body}</p>\r\n        </div>\r\n        <div className=\"message-date\">\r\n          <p className=\"mb-0\">{moment(item.writtenAt).calendar()}</p>\r\n        </div>\r\n      </div>\r\n    );\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <h2 className=\"text-center\">Чат между {currentChat.user1.name} и {currentChat.user2.name}</h2>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row\" id=\"row-with-messages\">\r\n          <div className=\"col-12\">\r\n            {messages}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"container-fluid message-form\">\r\n          <div className=\"container pl-0 pr-0 mt-2 mb-3\">\r\n            {this.state.showEdit ? (\r\n\r\n              <div className=\"edit-message\">\r\n                <form onSubmit={this.onEditMessage}>\r\n                  <div className=\"input-group\">\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      id=\"edit-message-input\"\r\n                      name=\"editmessagebody\"\r\n                      placeholder=\"Type Message Here ...\"\r\n                      defaultValue={this.state.editmessagebody}\r\n                      required\r\n                      onChange={this.onChange}\r\n                    />\r\n                    <div className=\"input-group-append\">\r\n                      <button type=\"submit\" className=\"btn btn-warning\">Edit</button>\r\n                    </div>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            ) : <CreateMessage />}\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nShowChat.propTypes = {\r\n  deleteMessage: PropTypes.func.isRequired,\r\n  getCurrentChat: PropTypes.func.isRequired,\r\n  auth: PropTypes.object.isRequired,\r\n  order: PropTypes.object.isRequired,\r\n  chat: PropTypes.object.isRequired,\r\n  errors: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  order: state.order,\r\n  chat: state.chat,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getCurrentChat, editMessage, deleteMessage })(withRouter(ShowChat));","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { getCurrentChat, deleteMessage } from '../../actions/chatActions';\r\nimport Spinner from '../common/Spinner';\r\n\r\nimport ShowChat from './ShowChat';\r\n\r\nclass ChatRoom extends Component {\r\n  componentDidMount() {\r\n    this.props.getCurrentChat(this.props.match.params.chatId);\r\n  }\r\n\r\n  render() {\r\n    const { loadingCurrentChat } = this.props.chat;\r\n    return (\r\n      <div className=\"container-fluid\" id=\"container-messages\">\r\n        {loadingCurrentChat ? <Spinner /> : (\r\n          <ShowChat />\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nChatRoom.propTypes = {\r\n  deleteMessage: PropTypes.func.isRequired,\r\n  getCurrentChat: PropTypes.func.isRequired,\r\n  auth: PropTypes.object.isRequired,\r\n  order: PropTypes.object.isRequired,\r\n  chat: PropTypes.object.isRequired\r\n  // errors: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  order: state.order,\r\n  chat: state.chat,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getCurrentChat, deleteMessage })(withRouter(ChatRoom));","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport moment from 'moment';\r\n\r\n// socket.io\r\nimport openSocket from 'socket.io-client';\r\nimport socketLink from '../common/socketLink';\r\n\r\nclass ShowAnons extends Component {\r\n  _isMounted = false;\r\n\r\n  state = {\r\n    anons: this.props.chat.anons\r\n  };\r\n\r\n  componentDidMount() {\r\n    this._isMounted = true;\r\n\r\n    // const socket = openSocket('http://localhost:5000');\r\n    // const socket = openSocket('https://fierce-scrubland-41952.herokuapp.com');\r\n    const socket = openSocket(socketLink);\r\n\r\n    socket.on('createAnons', data => {\r\n      this.addAnonsToDOM(data.anons);\r\n    });\r\n  };\r\n\r\n  addAnonsToDOM = (anons) => {\r\n    if (this._isMounted) {\r\n      this.setState(prevState => {\r\n        const updatedAnons = [...prevState.anons];\r\n        updatedAnons.push(anons);\r\n        return {\r\n          anons: updatedAnons\r\n        };\r\n      });\r\n    }\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  };\r\n\r\n  render() {\r\n    let anons = this.state.anons.map((item, index) =>\r\n      <div className=\"anons mt-2\" key={index}>\r\n        <div className=\"anons-author\">\r\n          <p className=\"mb-0\">{item.adminId.name}</p>\r\n        </div>\r\n        <div className=\"anons-content\">\r\n          <p className=\"mb-0\">{item.body}</p>\r\n        </div>\r\n        <div className=\"anons-date\">\r\n          <p className=\"mb-0\">{moment(item.writtenAt).calendar()}</p>\r\n        </div>\r\n      </div>\r\n    );\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"row\">\r\n          <h2 className=\"m-auto\">Объявления Админа</h2>\r\n        </div>\r\n\r\n        <div className=\"row announcements mt-2\">\r\n          <div className=\"col-md-8 m-auto\">\r\n            {anons}\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nShowAnons.propTypes = {\r\n  auth: PropTypes.object.isRequired,\r\n  chat: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth,\r\n  chat: state.chat,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps)(withRouter(ShowAnons));","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from '../common/Spinner';\r\n\r\nimport { getAllAnons, addAnons } from '../../actions/chatActions';\r\n\r\nimport ShowAnons from './ShowAnons';\r\n\r\nclass Anons extends Component {\r\n  state = {\r\n    anons: ''\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.getAllAnons();\r\n  };\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  createAd = (e) => {\r\n    e.preventDefault();\r\n    const object = {\r\n      adminId: this.props.auth.user.id,\r\n      body: this.state.anons\r\n    };\r\n    this.props.addAnons(object, this.props.history);\r\n    this.setState({ anons: '' });\r\n    document.getElementById('close-modal').click();\r\n  };\r\n\r\n  render() {\r\n    const { loadingAnons } = this.props.chat;\r\n    return (\r\n      <React.Fragment>\r\n        {this.props.auth.user.occupation === 'admin' ? (\r\n          <div className=\"container mt-2\">\r\n            <div className=\"row m-0\">\r\n              <div className=\"ads\">\r\n                <button type=\"button\" className=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#createAnons\">Создать Объявление</button>\r\n                <div className=\"modal fade\" id=\"createAnons\">\r\n                  <div className=\"modal-dialog\">\r\n                    <div className=\"modal-content\">\r\n\r\n                      <div className=\"modal-header\">\r\n                        <h4 className=\"modal-title\">Создать Объявление</h4>\r\n                        <button type=\"button\" className=\"close\" id=\"close-modal\" data-dismiss=\"modal\">&times;</button>\r\n                      </div>\r\n\r\n                      <form onSubmit={this.createAd}>\r\n                        <div className=\"modal-body\">\r\n                          <div className=\"form-group\">\r\n                            <textarea\r\n                              className=\"form-control\"\r\n                              rows=\"5\"\r\n                              name=\"anons\"\r\n                              defaultValue={this.state.anons}\r\n                              placeholder=\"Пишите Ваше Объявление ...\"\r\n                              required\r\n                              onChange={this.onChange}\r\n                            />\r\n                          </div>\r\n                        </div>\r\n\r\n                        <div className=\"modal-footer\">\r\n                          <button type=\"submit\" className=\"btn btn-success\">Создать</button>\r\n                        </div>\r\n                      </form>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ) : ''}\r\n\r\n        <div className=\"container\">\r\n          {loadingAnons ? <Spinner /> : (\r\n            <ShowAnons />\r\n          )}\r\n        </div>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nAnons.propTypes = {\r\n  getAllAnons: PropTypes.func.isRequired,\r\n  auth: PropTypes.object.isRequired,\r\n  chat: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  auth: state.auth,\r\n  chat: state.chat,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getAllAnons, addAnons })(withRouter(Anons));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { registerUser } from '../../actions/authActions';\r\nimport TextFieldGroup from '../common/TextFieldGroup';\r\nimport SelectListGroup from '../common/SelectListGroup';\r\n\r\nclass Register extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      name: '',\r\n      email: '',\r\n      phone: '',\r\n      occupation: '',\r\n      color: '',\r\n      password: '',\r\n      password2: '',\r\n      errors: {}\r\n    };\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.errors) {\r\n      this.setState({ errors: nextProps.errors });\r\n    }\r\n  }\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const newUser = {\r\n      name: this.state.name,\r\n      email: this.state.email,\r\n      phone: this.state.phone,\r\n      occupation: this.state.occupation,\r\n      color: this.state.color,\r\n      password: this.state.password,\r\n      password2: this.state.password2\r\n    };\r\n\r\n    this.props.registerUser(newUser, this.props.history);\r\n  }\r\n\r\n  render() {\r\n    const { errors } = this.state;\r\n\r\n    // user occupation options\r\n    const occupationOptions = [\r\n      { label: '-- Выберите должность пользователя --', value: 0 },\r\n      { label: 'Админ', value: 'admin' },\r\n      { label: 'Субадмин', value: 'subadmin' },\r\n      { label: 'Оператор', value: 'operator' },\r\n      { label: 'Дезинфектор', value: 'disinfector' },\r\n      // { label: 'Маркетолог', value: 'marketer' },\r\n      { label: 'Бухгалтер', value: 'accountant' }\r\n    ];\r\n\r\n    const colorOptions = [\r\n      { label: '-- Выберите цвет пользователя (для календаря) --', value: 0 },\r\n      { label: 'Красный', value: 'red' },\r\n      { label: 'Зеленый', value: 'green' },\r\n      { label: 'Синий', value: 'blue' },\r\n      { label: 'Оранжевый', value: 'orange' },\r\n      { label: 'Желтый', value: 'yellow' },\r\n      { label: 'Фиолетовый', value: 'violet' },\r\n      { label: 'Коричневый', value: 'brown' },\r\n      { label: 'Золотой', value: 'gold' },\r\n      { label: 'Желто-зеленый', value: 'greenyellow' },\r\n      { label: 'Индиго', value: 'indigo' },\r\n      { label: 'Светло-Синий', value: 'lightsteelblue' },\r\n      { label: 'Орхидея', value: 'orchid' },\r\n      { label: 'Цвет морской волны', value: 'seagreen' },\r\n      { label: 'Бирюзовый', value: 'turquoise' },\r\n      { label: 'Фора', value: 'bisque' },\r\n      { label: 'Сиян', value: 'cyan' },\r\n      { label: 'DarkGoldenRod', value: 'darkgoldenrod' }\r\n    ];\r\n\r\n    return (\r\n      <div className=\"container register mt-4\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-8 m-auto\">\r\n            <div className=\"card\">\r\n              <div className=\"card-body\">\r\n                <h2 className=\"text-center\">Создать Аккаунт</h2>\r\n                <form noValidate onSubmit={this.onSubmit}>\r\n                  <TextFieldGroup\r\n                    label=\"Введите Имя\"\r\n                    type=\"text\"\r\n                    name=\"name\"\r\n                    value={this.state.name}\r\n                    onChange={this.onChange}\r\n                    error={errors.name}\r\n                  />\r\n                  <TextFieldGroup\r\n                    label=\"Введите E-mail\"\r\n                    name=\"email\"\r\n                    type=\"email\"\r\n                    value={this.state.email}\r\n                    onChange={this.onChange}\r\n                    error={errors.email}\r\n                  />\r\n                  <TextFieldGroup\r\n                    label=\"Введите номер телефона\"\r\n                    type=\"phone\"\r\n                    name=\"phone\"\r\n                    value={this.state.phone}\r\n                    onChange={this.onChange}\r\n                    error={errors.phone}\r\n                  />\r\n                  <SelectListGroup\r\n                    name=\"occupation\"\r\n                    value={this.state.occupation}\r\n                    onChange={this.onChange}\r\n                    error={errors.occupation}\r\n                    options={occupationOptions}\r\n                  />\r\n                  {this.state.occupation === 'disinfector' ||\r\n                    this.state.occupation === 'subadmin' ? (\r\n                    <SelectListGroup\r\n                      name=\"color\"\r\n                      value={this.state.color}\r\n                      onChange={this.onChange}\r\n                      error={errors.color}\r\n                      options={colorOptions}\r\n                    />\r\n                  ) : ''}\r\n                  <TextFieldGroup\r\n                    label=\"Введите Пароль\"\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    value={this.state.password}\r\n                    onChange={this.onChange}\r\n                    error={errors.password}\r\n                  />\r\n                  <TextFieldGroup\r\n                    label=\"Повторите Пароль\"\r\n                    type=\"password\"\r\n                    name=\"password2\"\r\n                    value={this.state.password2}\r\n                    onChange={this.onChange}\r\n                    error={errors.password2}\r\n                  />\r\n                  <button type=\"submit\" className=\"btn btn-success btn-block mt-4\"><i className=\"fas fa-user-plus\"></i> Создать</button>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { registerUser })(withRouter(Register));","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { loginUser } from '../../actions/authActions';\r\nimport TextFieldGroup from '../common/TextFieldGroup';\r\n\r\nclass Login extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      email: '',\r\n      password: '',\r\n      errors: {}\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.auth.isAuthenticated) {\r\n      this.props.history.push(`/${this.props.auth.user.occupation}`);\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.auth.isAuthenticated) {\r\n      this.props.history.push('/dashboard');\r\n    }\r\n\r\n    if (nextProps.errors) {\r\n      this.setState({ errors: nextProps.errors });\r\n    }\r\n  }\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const userData = {\r\n      email: this.state.email,\r\n      password: this.state.password\r\n    };\r\n\r\n    this.props.loginUser(userData, this.props.history);\r\n  };\r\n\r\n  render() {\r\n    const { errors } = this.state;\r\n\r\n    return (\r\n      <div className=\"container mt-3\">\r\n        <div className=\"row p-0 m-0\">\r\n          <div className=\"col-md-8 m-auto\">\r\n            <div className=\"card\">\r\n              <div className=\"card-body\">\r\n                <h1 className=\"text-center pb-4 pt-3\">\r\n                  <span className=\"text-primary\">\r\n                    <i className=\"fas fa-lock\"></i> Login\r\n                  </span>\r\n                </h1>\r\n\r\n                <form onSubmit={this.onSubmit} noValidate>\r\n                  <TextFieldGroup\r\n                    label=\"E-mail\"\r\n                    type=\"email\"\r\n                    name=\"email\"\r\n                    value={this.state.email}\r\n                    onChange={this.onChange}\r\n                    error={errors.email}\r\n                  />\r\n\r\n                  <TextFieldGroup\r\n                    label=\"Пароль\"\r\n                    type=\"password\"\r\n                    placeholder=\"Password\"\r\n                    name=\"password\"\r\n                    value={this.state.password}\r\n                    onChange={this.onChange}\r\n                    error={errors.password}\r\n                  />\r\n\r\n                  <button type=\"submit\" className=\"btn btn-primary\"><i className=\"fas fa-sign-in-alt\"></i> Login</button>\r\n                </form>\r\n\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nLogin.propTypes = {\r\n  loginUser: PropTypes.func.isRequired,\r\n  auth: PropTypes.object.isRequired,\r\n  errors: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { loginUser })(withRouter(Login));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from '../common/Spinner';\r\nimport Moment from 'react-moment';\r\n\r\nimport orderTypes from '../common/orderTypes';\r\nimport TextFieldGroup from '../common/TextFieldGroup';\r\nimport TextAreaFieldGroup from '../common/TextAreaFieldGroup';\r\n\r\nimport { getFailOrderById, setFailedOrder, createOrderAfterFail } from '../../actions/failActions';\r\nimport { getAllUsers } from '../../actions/orderActions';\r\n\r\n\r\nclass FailAddNew extends Component {\r\n  state = {\r\n    date: '',\r\n    timeFrom: '',\r\n    disinfectorId: '',\r\n    typeOfService: [],\r\n    comment: '',\r\n    errors: {}\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.getAllUsers();\r\n    window.scrollTo({ top: 0 });\r\n\r\n    // console.log('fail', this.props.location.state);\r\n\r\n    // in some cases, we should load order because the fields userCreated, userAcceptedOrder, disinfectors.user should be populated\r\n    // if we come to this page from /search-orders, these fields would not be populated\r\n    if (this.props.location.state && !this.props.location.state.state.shouldLoadOrder) {\r\n      this.props.setFailedOrder(this.props.location.state.state.order);\r\n    } else {\r\n      this.props.getFailOrderById(this.props.match.params.id);\r\n    }\r\n  }\r\n\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    let array = [];\r\n    orderTypes.forEach(object => {\r\n      array.push({\r\n        type: object.value,\r\n        selected: false\r\n      });\r\n    });\r\n\r\n    if (nextProps.fail.failedOrder) {\r\n      // service type array. typeOfService options should be preselected\r\n      let arraySelectedItems = [];\r\n      if (nextProps.fail.failedOrder.typeOfService) {\r\n        arraySelectedItems = nextProps.fail.failedOrder.typeOfService.split(',');\r\n      }\r\n\r\n      array.forEach(item => {\r\n        arraySelectedItems.forEach(element => {\r\n          if (item.type === element.trim()) {\r\n            item.selected = true;\r\n          }\r\n        });\r\n      });\r\n\r\n      // set typeOfService and comment\r\n      this.setState({\r\n        comment: nextProps.fail.failedOrder.comment,\r\n        typeOfService: array\r\n      });\r\n    }\r\n  }\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  onChangeTypes = (e) => {\r\n    let array = [...this.state.typeOfService];\r\n    array.forEach(item => {\r\n      if (item.type === e.target.value) {\r\n        item.selected = e.target.checked;\r\n      }\r\n    });\r\n\r\n    this.setState({\r\n      typeOfService: array\r\n    });\r\n  }\r\n\r\n  onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const date = this.state.date.split('-');\r\n    const dateStringFrom = new Date(`${date[1]}-${date[2]}-${date[0]} ${this.state.timeFrom}`);\r\n\r\n    let serviceTypeString = '', selectedItems = 0;\r\n    this.state.typeOfService.forEach(item => {\r\n      if (item.selected) {\r\n        selectedItems++;\r\n        if (selectedItems === 1) {\r\n          serviceTypeString = serviceTypeString + item.type;\r\n        } else {\r\n          serviceTypeString = serviceTypeString + ',' + item.type;\r\n        }\r\n      }\r\n    });\r\n\r\n    // check if prderTypes are selected\r\n    if (selectedItems === 0) {\r\n      alert('Выберите тип заказа');\r\n    } else {\r\n      const object = {\r\n        // who is filling this form\r\n        userOccupation: this.props.auth.user.occupation,\r\n\r\n        // previous failed order\r\n        failedOrder: this.props.fail.failedOrder,\r\n\r\n        // new order details\r\n        newOrder: {\r\n          disinfectorId: this.state.disinfectorId,\r\n          date: this.state.date,\r\n          dateFrom: dateStringFrom,\r\n          timeFrom: this.state.timeFrom,\r\n          typeOfService: serviceTypeString,\r\n          comment: this.state.comment,\r\n          userCreated: this.props.auth.user.id\r\n        }\r\n      };\r\n      // console.log('object', object);\r\n      this.props.createOrderAfterFail(object, this.props.history, this.props.auth.user.occupation);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { errors } = this.state;\r\n\r\n    const order = this.props.fail.failedOrder;\r\n\r\n    // console.log('ORDER', order);\r\n\r\n    // consumption array of specific order\r\n    let consumptionArray = [];\r\n\r\n    order.disinfectors.forEach(item => {\r\n      consumptionArray.push({\r\n        user: item.user,\r\n        consumption: item.consumption\r\n      });\r\n    });\r\n\r\n    let renderOrderConsumption = consumptionArray.map((object, number) =>\r\n      <li key={number}>\r\n        <p className=\"mb-0\">Пользователь: {object.user.occupation} {object.user.name}</p>\r\n        {object.consumption.map((element, number) =>\r\n          <p key={number} className=\"mb-0\">{element.material}: {element.amount.toLocaleString()} {element.unit}</p>\r\n        )}\r\n      </li>\r\n    );\r\n\r\n    // all users\r\n    let users = this.props.order.loading ? [] : this.props.order.allUsers;\r\n\r\n    // get disinfectors and subadmins\r\n    let disinfectors = users.filter(user => user.occupation === 'disinfector' || user.occupation === 'subadmin');\r\n\r\n    const disinfectorOptions = [\r\n      { label: '-- Выберите ответственного дезинфектора --', value: '' }\r\n    ];\r\n    disinfectors.forEach(worker => disinfectorOptions.push({\r\n      label: `${worker.name}, ${worker.occupation}`, value: worker._id\r\n    }));\r\n\r\n\r\n    let renderServiceTypes = this.state.typeOfService.map((item, key) =>\r\n      <div className=\"form-check\" key={key}>\r\n        <label className=\"form-check-label\">\r\n          {item.selected ?\r\n            <React.Fragment>\r\n              <input type=\"checkbox\" defaultChecked=\"checked\" className=\"form-check-input\" onChange={this.onChangeTypes} value={item.type} />{item.type}\r\n            </React.Fragment> :\r\n            <React.Fragment>\r\n              <input type=\"checkbox\" className=\"form-check-input\" onChange={this.onChangeTypes} value={item.type} />{item.type}\r\n            </React.Fragment>}\r\n        </label>\r\n      </div>\r\n    );\r\n\r\n\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <h2 className=\"text-center\">Клиент недоволен. Добавить новый заказ</h2>\r\n          </div>\r\n        </div>\r\n\r\n        {this.props.fail.loading ? <Spinner /> : (\r\n          <div className=\"row mt-2\">\r\n            <div className=\"col-md-6 col-sm-10 mt-3\">\r\n              <div className=\"card order mt-2\">\r\n                <div className=\"card-body p-0\">\r\n                  <ul className=\"font-bold mb-0 list-unstyled\">\r\n                    {order.prevFailedOrder && (\r\n                      <li><h4><i className=\"fas fas fa-exclamation\"></i> Повторный заказ <i className=\"fas fas fa-exclamation\"></i></h4></li>\r\n                    )}\r\n\r\n                    {order.failed && (\r\n                      <li><h4><i className=\"fas fas fa-exclamation\"></i> Некачественный заказ <i className=\"fas fas fa-exclamation\"></i></h4></li>\r\n                    )}\r\n\r\n                    {order.disinfectorId ? (\r\n                      <li>Ответственный: {order.disinfectorId.occupation} {order.disinfectorId.name}</li>\r\n                    ) : ''}\r\n\r\n\r\n                    {order.failed && order.nextOrdersAfterFailArray && (\r\n                      <React.Fragment>\r\n                        <li className=\"text-primary\">Повторов у этого заказа: {order.nextOrdersAfterFailArray.length}</li>\r\n\r\n                        {order.nextOrdersAfterFailArray.length > 0 && (\r\n                          <React.Fragment>\r\n                            <li className=\"text-primary\">Время последнего заказа: <Moment format=\"DD/MM/YYYY HH:mm\">{order.nextOrdersAfterFailArray[order.nextOrdersAfterFailArray.length - 1].dateFrom}</Moment></li>\r\n\r\n                            <li className=\"text-primary\">Выполняет последний заказ: {order.nextOrdersAfterFailArray[order.nextOrdersAfterFailArray.length - 1].disinfectorId.occupation} {order.nextOrdersAfterFailArray[order.nextOrdersAfterFailArray.length - 1].disinfectorId.name}</li>\r\n                          </React.Fragment>\r\n                        )}\r\n                      </React.Fragment>\r\n                    )}\r\n\r\n\r\n                    {order.prevFailedOrder && order.prevFailedOrder.disinfectorId && (\r\n                      <li className=\"text-primary\">Предыдущий некачественный заказ: <Moment format=\"DD/MM/YYYY HH:mm\">{order.prevFailedOrder.dateFrom}</Moment> ({order.prevFailedOrder.disinfectorId.occupation} {order.prevFailedOrder.disinfectorId.name})</li>\r\n                    )}\r\n\r\n\r\n\r\n                    {order.completed ? (\r\n                      <li>Заказ Выполнен</li>\r\n                    ) : <li>Заказ еще Не Выполнен</li>}\r\n\r\n                    {order.completed && order.operatorDecided ? (\r\n                      <React.Fragment>\r\n                        <li>Оператор рассмотрел заявку</li>\r\n                        {order.operatorConfirmed ? <li className=\"text-success\">Оператор подтвердил заяку (время: <Moment format=\"DD/MM/YYYY HH:mm\">{order.operatorCheckedAt}</Moment>)</li> : <li className=\"text-danger\">Оператор отверг заяку (время: <Moment format=\"DD/MM/YYYY HH:mm\">{order.operatorCheckedAt}</Moment>)</li>}\r\n                        <li>Балл: {order.score}</li>\r\n                        <li>Отзыв Клиента: {order.clientReview}</li>\r\n                      </React.Fragment>\r\n                    ) : <li>Оператор еще не рассмотрел заявку</li>}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                    {order.accountantDecided ? (\r\n                      <React.Fragment>\r\n                        <li>Бухгалтер рассмотрел заявку</li>\r\n                        {order.accountantConfirmed ? (\r\n                          <React.Fragment>\r\n                            <li className=\"text-success\">Бухгалтер Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.accountantCheckedAt}</Moment>)</li>\r\n                            <li>Счет-Фактура: {order.invoice}</li>\r\n                            <li>Общая Сумма: {order.cost.toLocaleString()} UZS (каждому по {(order.cost / order.disinfectors.length).toLocaleString()} UZS)</li>\r\n                          </React.Fragment>\r\n                        ) : <li className=\"text-danger\">Бухгалтер Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.accountantCheckedAt}</Moment>)</li>}\r\n                      </React.Fragment>\r\n                    ) : (\r\n                      <React.Fragment>\r\n\r\n                        {order.adminDecided ? (\r\n                          <React.Fragment>\r\n                            <li>Админ рассмотрел заявку</li>\r\n                            {order.adminConfirmed ? (\r\n                              <li className=\"text-success\">Админ Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>\r\n                            ) : <li className=\"text-danger\">Админ Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>}\r\n                          </React.Fragment>\r\n                        ) : (\r\n                          <li>Бухгалтер еще не рассмотрел заявку</li>\r\n                        )}\r\n\r\n                      </React.Fragment>\r\n                    )}\r\n\r\n                    {/* {order.clientType === 'corporate' && order.paymentMethod === 'notCash' && !order.accountantDecided ? <li>Бухгалтер еще не рассмотрел заявку</li> : ''}\r\n\r\n                    {order.clientType === 'corporate' && order.paymentMethod === 'notCash' && order.accountantDecided ?\r\n                      <React.Fragment>\r\n                        <li>Бухгалтер рассмотрел заявку</li>\r\n                        {order.accountantConfirmed ? (\r\n                          <React.Fragment>\r\n                            <li className=\"text-success\">Бухгалтер Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.accountantCheckedAt}</Moment>)</li>\r\n                            <li>Счет-Фактура: {order.invoice}</li>\r\n                            <li>Общая Сумма: {order.cost.toLocaleString()} (каждому по {(order.cost / order.disinfectors.length).toLocaleString()})</li>\r\n                          </React.Fragment>\r\n                        ) : <li className=\"text-danger\">Бухгалтер Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.accountantCheckedAt}</Moment>)</li>}\r\n                      </React.Fragment>\r\n                      : ''}\r\n\r\n                    {order.clientType === 'corporate' && order.paymentMethod === 'cash' && !order.adminDecided ? <li>Админ еще не рассмотрел заявку</li> : ''}\r\n\r\n                    {order.clientType === 'corporate' && order.paymentMethod === 'cash' && order.adminDecided ? (\r\n                      <React.Fragment>\r\n                        <li>Админ рассмотрел заявку</li>\r\n                        {order.adminConfirmed ? (\r\n                          <li className=\"text-success\">Админ Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>\r\n                        ) : <li className=\"text-danger\">Админ Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>}\r\n                      </React.Fragment>\r\n                    ) : ''}\r\n\r\n                    {order.clientType === 'individual' ? (\r\n                      <React.Fragment>\r\n                        {order.completed && order.adminDecided ? (\r\n                          <React.Fragment>\r\n                            <li>Админ рассмотрел заявку (время: <Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>\r\n                            {order.adminConfirmed ? <li className=\"text-success\">Админ подтвердил заяку</li> : <li className=\"text-danger\">Админ отверг заяку</li>}\r\n                          </React.Fragment>\r\n                        ) : <li>Админ еще не рассмотрел заявку</li>}\r\n                      </React.Fragment>\r\n                    ) : ''} */}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                    {order.clientType === 'corporate' ?\r\n                      <React.Fragment>\r\n                        {order.clientId ? (\r\n                          <li className=\"text-danger\">Корпоративный Клиент: {order.clientId.name}</li>\r\n                        ) : <li className=\"text-danger\">Корпоративный Клиент</li>}\r\n                        <li className=\"text-danger\">Имя клиента: {order.client}</li>\r\n                      </React.Fragment>\r\n                      : ''}\r\n\r\n                    {order.clientType === 'individual' ?\r\n                      <li className=\"text-danger\">Физический Клиент: {order.client}</li>\r\n                      : ''}\r\n\r\n                    <li className=\"text-danger\">Телефон Клиента: {order.phone}</li>\r\n                    {order.phone2 ? <li>Другой номер: {order.phone2}</li> : ''}\r\n                    <li className=\"text-danger\">Дата выполнения: <Moment format=\"DD/MM/YYYY\">{order.dateFrom}</Moment></li>\r\n                    <li className=\"text-danger\">Время выполнения: С <Moment format=\"HH:mm\">{order.dateFrom}</Moment> ПО <Moment format=\"HH:mm\">{order.completedAt}</Moment></li>\r\n                    <li className=\"text-danger\">Адрес: {order.address}</li>\r\n                    <li className=\"text-danger\">Тип услуги: {order.typeOfService}</li>\r\n                    <li>Комментарии Оператора: {order.comment ? order.comment : '--'}</li>\r\n                    <li>Комментарии Дезинфектора: {order.disinfectorComment ? order.disinfectorComment : '--'}</li>\r\n                    <li>Срок гарантии (в месяцах): {order.guarantee}</li>\r\n\r\n                    <li>Расход Материалов (заказ выполнили {order.disinfectors.length} чел):</li>\r\n                    <ul className=\"font-bold mb-0\">\r\n                      {renderOrderConsumption}\r\n                    </ul>\r\n\r\n                    {order.clientType === 'corporate' ? (\r\n                      <React.Fragment>\r\n                        {order.paymentMethod === 'cash' ? (\r\n                          <React.Fragment>\r\n                            <li>Тип Платежа: Наличный</li>\r\n                            {order.cost && <li>Общая Сумма: {order.cost.toLocaleString()} UZS (каждому по {(order.cost / order.disinfectors.length).toLocaleString()} UZS)</li>}\r\n                          </React.Fragment>\r\n                        ) : (\r\n                          <React.Fragment>\r\n                            <li>Тип Платежа: Безналичный</li>\r\n                            <li>Номер Договора: {order.contractNumber || '--'}</li>\r\n                          </React.Fragment>\r\n                        )}\r\n                      </React.Fragment>\r\n                    ) : ''}\r\n\r\n                    {order.clientType === 'individual' ?\r\n                      <li>Общая Сумма: {order.cost.toLocaleString()} UZS (каждому по {(order.cost / order.disinfectors.length).toLocaleString()} UZS)</li>\r\n                      : ''}\r\n\r\n                    <li>Форма Выполнения Заказа заполнена: <Moment format=\"DD/MM/YYYY HH:mm\">{order.completedAt}</Moment></li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n\r\n            <div className=\"col-md-6 col-sm-10 mt-3\">\r\n              <div className=\"card\">\r\n                <div className=\"card-body py-1\">\r\n                  <h3 className=\"text-center mt-3\">Создать Новый Заказ</h3>\r\n                  <form onSubmit={this.onSubmit}>\r\n\r\n                    {this.props.order.loading ? (\r\n                      <p>Дезинфекторы загружаются...</p>\r\n                    ) : (\r\n                      <div className=\"form-group\">\r\n                        <label htmlFor=\"disinfectorId\">Выберите Дезинфектора:</label>\r\n                        <select\r\n                          className=\"form-control\"\r\n                          name=\"disinfectorId\"\r\n                          value={this.state.disinfectorId}\r\n                          onChange={this.onChange}\r\n                          required\r\n                        >\r\n                          {disinfectorOptions.map((item, index) =>\r\n                            <option key={index} value={item.value}>{item.label}</option>\r\n                          )}\r\n                        </select>\r\n                      </div>\r\n                    )}\r\n\r\n                    <TextFieldGroup\r\n                      label=\"Дата выполнения заказа\"\r\n                      name=\"date\"\r\n                      type=\"date\"\r\n                      value={this.state.date}\r\n                      onChange={this.onChange}\r\n                      error={errors.date}\r\n                      required\r\n                    />\r\n                    <TextFieldGroup\r\n                      label=\"Время (часы:минуты:AM/PM)\"\r\n                      name=\"timeFrom\"\r\n                      type=\"time\"\r\n                      value={this.state.timeFrom}\r\n                      onChange={this.onChange}\r\n                      error={errors.timeFrom}\r\n                      required\r\n                    />\r\n\r\n                    <div className=\"border-bottom\"></div>\r\n                    <label htmlFor=\"typeOfService\">Выберите тип заказа (можно выбрать несколько):</label>\r\n                    {renderServiceTypes}\r\n                    <div className=\"border-bottom\"></div>\r\n\r\n                    <label htmlFor=\"comment\">Введите Комментарии (это поле необязательное):</label>\r\n                    <TextAreaFieldGroup\r\n                      name=\"comment\"\r\n                      placeholder=\"Комментарии (Это поле не обязательное)\"\r\n                      value={this.state.comment}\r\n                      onChange={this.onChange}\r\n                      error={errors.comment}\r\n                    />\r\n                    <button type=\"submit\" className=\"btn btn-success\">Создать</button>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n\r\n          </div>\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  order: state.order,\r\n  admin: state.admin,\r\n  fail: state.fail,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getAllUsers, getFailOrderById, setFailedOrder, createOrderAfterFail })(withRouter(FailAddNew));","import axios from 'axios';\r\n\r\nimport {\r\n  SET_FAILED_ORDER,\r\n  SET_FAIL_SEARCH_VARS,\r\n  GET_FAILED_ORDERS,\r\n  SET_LOADING_FAILED_ORDER,\r\n  DELETE_QUERY_FROM_STATE,\r\n\r\n  GET_ERRORS\r\n} from './types';\r\n\r\n\r\nexport const setFailedOrder = (order) => (dispatch) => {\r\n  dispatch({\r\n    type: SET_FAILED_ORDER,\r\n    payload: order\r\n  });\r\n};\r\n\r\n\r\nexport const getFailOrderById = (id) => async (dispatch) => {\r\n  dispatch({\r\n    type: SET_LOADING_FAILED_ORDER\r\n  });\r\n\r\n  try {\r\n    const res = await axios.post('/order/get-order-by-id', { id });\r\n\r\n    dispatch({\r\n      type: SET_FAILED_ORDER,\r\n      payload: res.data\r\n    });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GET_ERRORS,\r\n      payload: err.response.data,\r\n      // payload: err\r\n    });\r\n  }\r\n};\r\n\r\n\r\nexport const createOrderAfterFail = (object, history, occupation) => async (dispatch) => {\r\n  // delete query from global state because the query should not stay in queries page\r\n  // to do: check if user is accountant or admin and dispatch different types\r\n  dispatch({\r\n    type: DELETE_QUERY_FROM_STATE,\r\n    payload: object.failedOrder._id\r\n  });\r\n\r\n  // console.log('order', object);\r\n  axios.post('/fail/create-new-after-fail', { object })\r\n    .then(() => {\r\n      let addressToRedirect = '';\r\n\r\n      if (occupation === 'admin' || occupation === 'accountant') {\r\n        // because we do not have /admin/order-queries route for admin\r\n        addressToRedirect = `/${occupation}`;\r\n      } else {\r\n        addressToRedirect = `/${occupation}/order-queries`;\r\n      }\r\n\r\n      // clearSortedOrders(dispatch);\r\n\r\n      return history.push(addressToRedirect);\r\n    })\r\n    .catch(err =>\r\n      dispatch({\r\n        type: GET_ERRORS,\r\n        payload: err\r\n      })\r\n    );\r\n};\r\n\r\n\r\n// вытащить из БД некачественные и повторные заказы !!\r\nexport const getFailedOrders = (object) => async (dispatch) => {\r\n  dispatch({\r\n    type: SET_LOADING_FAILED_ORDER\r\n  });\r\n\r\n  dispatch({\r\n    type: SET_FAIL_SEARCH_VARS,\r\n    payload: object\r\n  });\r\n\r\n  try {\r\n    const res = await axios.post('/fail/get-failed-orders', { object });\r\n\r\n    dispatch({\r\n      type: GET_FAILED_ORDERS,\r\n      payload: res.data\r\n    });\r\n\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GET_ERRORS,\r\n      payload: err.response.data,\r\n      // payload: err\r\n    });\r\n  }\r\n};","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Moment from 'react-moment';\r\n\r\nimport ClientNotSatisfiedButton from '../common/ClientNotSatisfiedButton';\r\n\r\nimport removeZeros from '../../utils/removeZerosMat';\r\nimport calcMaterialConsumption from '../../utils/calcMatConsumption';\r\n// import materials from '../common/materials';\r\n// import guaranteeExpired from '../../utils/guaranteeExpired';\r\n\r\n\r\nclass ShowFails extends Component {\r\n  state = {\r\n    // некачественные и повторные заказы\r\n    fails: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (this.props.fail.fails && this.props.fail.fails.length > 0) {\r\n      this.setState({\r\n        fails: this.props.fail.fails\r\n      });\r\n    }\r\n  }\r\n\r\n  // goToAddNewForm = (item) => {\r\n  //   this.props.history.push(`/fail/add-new/${item._id}`, {\r\n  //     pathname: `/fail/add-new/${item._id}`,\r\n  //     state: { order: item, shouldLoadOrder: true }\r\n  //   });\r\n  // };\r\n\r\n  render() {\r\n    // let totalConsumption = [];\r\n    // materials.forEach(object => {\r\n    //   const emptyObject = {\r\n    //     material: object.material,\r\n    //     amount: 0,\r\n    //     unit: object.unit\r\n    //   };\r\n    //   totalConsumption.push(emptyObject);\r\n    // });\r\n\r\n    // this.state.fails.forEach(order => {\r\n    //   // calculate total consumption of all orders in given period\r\n    //   order.disinfectors.forEach(element => {\r\n    //     element.consumption.forEach(object => {\r\n    //       totalConsumption.forEach(item => {\r\n    //         if (object.material === item.material && object.unit === item.unit) {\r\n    //           item.amount += object.amount;\r\n    //         }\r\n    //       });\r\n    //     });\r\n    //   });\r\n    // });\r\n\r\n    // calculate total consumption of failed and repeated orders in given period\r\n    let totalConsumption = calcMaterialConsumption(this.state.fails);\r\n\r\n    // remove materials with amount of 0\r\n    totalConsumption = removeZeros(totalConsumption);\r\n\r\n    let renderTotalConsumption = totalConsumption.map((item, key) =>\r\n      <li key={key}>{item.material}: {item.amount.toLocaleString()} {item.unit}</li>\r\n    );\r\n\r\n\r\n    let failedCount = 0;\r\n    let povtorsCount = 0;\r\n\r\n    let renderFailedOrders = this.state.fails.map((order, key) => {\r\n      if (order.failed) failedCount++;\r\n\r\n      if (order.hasOwnProperty('prevFailedOrder')) povtorsCount++;\r\n\r\n\r\n      // consumption array of specific confirmed order\r\n      let consumptionArray = [];\r\n\r\n      order.disinfectors.forEach(item => {\r\n        consumptionArray.push({\r\n          user: item.user,\r\n          consumption: item.consumption\r\n        });\r\n      });\r\n\r\n      let renderOrderConsumption = consumptionArray.map((object, number) =>\r\n        <li key={number}>\r\n          <p className=\"mb-0\">Пользователь: {object.user.occupation} {object.user.name}</p>\r\n          {object.consumption.map((element, number) =>\r\n            <p key={number} className=\"mb-0\">{element.material}: {element.amount.toLocaleString()} {element.unit}</p>\r\n          )}\r\n        </li>\r\n      );\r\n\r\n      return (\r\n        <div className=\"col-lg-4 col-md-6\" key={key}>\r\n          <div className=\"card order mt-2\">\r\n            <div className=\"card-body p-0\">\r\n              <ul className=\"font-bold mb-0 list-unstyled\">\r\n                {order.prevFailedOrder && (\r\n                  <li><h4><i className=\"fas fas fa-exclamation\"></i> Повторный заказ <i className=\"fas fas fa-exclamation\"></i></h4></li>\r\n                )}\r\n\r\n                {order.failed && (\r\n                  <li><h4><i className=\"fas fas fa-exclamation\"></i> Некачественный заказ <i className=\"fas fas fa-exclamation\"></i></h4></li>\r\n                )}\r\n\r\n                {order.disinfectorId && (\r\n                  <li>Ответственный: {order.disinfectorId.occupation} {order.disinfectorId.name}</li>\r\n                )}\r\n\r\n\r\n                {order.failed && order.nextOrdersAfterFailArray && (\r\n                  <React.Fragment>\r\n                    <li className=\"text-primary\">Повторов у этого заказа: {order.nextOrdersAfterFailArray.length}</li>\r\n\r\n                    {order.nextOrdersAfterFailArray.length > 0 && (\r\n                      <React.Fragment>\r\n                        <li className=\"text-primary\">Время последнего заказа: <Moment format=\"DD/MM/YYYY HH:mm\">{order.nextOrdersAfterFailArray[order.nextOrdersAfterFailArray.length - 1].dateFrom}</Moment></li>\r\n\r\n                        <li className=\"text-primary\">Выполняет последний заказ: {order.nextOrdersAfterFailArray[order.nextOrdersAfterFailArray.length - 1].disinfectorId.occupation} {order.nextOrdersAfterFailArray[order.nextOrdersAfterFailArray.length - 1].disinfectorId.name}</li>\r\n                      </React.Fragment>\r\n                    )}\r\n                  </React.Fragment>\r\n                )}\r\n\r\n                {/* {order.nextOrdersAfterFailArray && order.nextOrdersAfterFailArray.length > 0 && (\r\n                  <React.Fragment>\r\n                    <li className=\"text-primary\">Время последнего заказа: <Moment format=\"DD/MM/YYYY HH:mm\">{order.nextOrdersAfterFailArray[order.nextOrdersAfterFailArray.length - 1].dateFrom}</Moment></li>\r\n\r\n                    <li className=\"text-primary\">Выполняет последний заказ: {order.nextOrdersAfterFailArray[order.nextOrdersAfterFailArray.length - 1].disinfectorId.occupation} {order.nextOrdersAfterFailArray[order.nextOrdersAfterFailArray.length - 1].disinfectorId.name}</li>\r\n                  </React.Fragment>\r\n                )} */}\r\n\r\n\r\n                {order.prevFailedOrder && order.prevFailedOrder.disinfectorId && (\r\n                  <li className=\"text-primary\">Предыдущий некачественный заказ: <Moment format=\"DD/MM/YYYY HH:mm\">{order.prevFailedOrder.dateFrom}</Moment> ({order.prevFailedOrder.disinfectorId.occupation} {order.prevFailedOrder.disinfectorId.name})</li>\r\n                )}\r\n\r\n                {/* {order.nextOrderAfterFail && order.nextOrderAfterFail.dateFrom && (\r\n                  <li className=\"text-primary\">Время следующего заказа: <Moment format=\"DD/MM/YYYY HH:mm\">{order.nextOrderAfterFail.dateFrom}</Moment></li>\r\n                )}\r\n\r\n                {order.nextOrderAfterFail && order.nextOrderAfterFail.disinfectorId && (\r\n                  <li className=\"text-primary\">Выполняет следующий заказ: {order.nextOrderAfterFail.disinfectorId.occupation} {order.nextOrderAfterFail.disinfectorId.name}</li>\r\n                )} */}\r\n\r\n                {order.operatorDecided ? (\r\n                  <React.Fragment>\r\n                    <li>Оператор рассмотрел заявку</li>\r\n                    {order.operatorConfirmed ? (\r\n                      <React.Fragment>\r\n                        <li className=\"text-success\">Оператор Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.operatorCheckedAt}</Moment>)</li>\r\n                        <li>Балл (0-5): {order.score}</li>\r\n                      </React.Fragment>\r\n                    ) : <li className=\"text-danger\">Оператор Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.operatorCheckedAt}</Moment>)</li>}\r\n                  </React.Fragment>\r\n                ) : <li>Оператор еще не рассмотрел заявку</li>}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                {order.accountantDecided ? (\r\n                  <React.Fragment>\r\n                    <li>Бухгалтер рассмотрел заявку</li>\r\n                    {order.accountantConfirmed ? (\r\n                      <React.Fragment>\r\n                        <li className=\"text-success\">Бухгалтер Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.accountantCheckedAt}</Moment>)</li>\r\n                        <li>Счет-Фактура: {order.invoice ? order.invoice : '--'}</li>\r\n                        <li>Общая Сумма: {order.cost.toLocaleString()} UZS (каждому по {(order.cost / order.disinfectors.length).toLocaleString()} UZS)</li>\r\n                      </React.Fragment>\r\n                    ) : <li className=\"text-danger\">Бухгалтер Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.accountantCheckedAt}</Moment>)</li>}\r\n                  </React.Fragment>\r\n                ) : (\r\n                  <React.Fragment>\r\n\r\n                    {order.adminDecided ? (\r\n                      <React.Fragment>\r\n                        <li>Админ рассмотрел заявку</li>\r\n                        {order.adminConfirmed ? (\r\n                          <li className=\"text-success\">Админ Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>\r\n                        ) : <li className=\"text-danger\">Админ Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>}\r\n                      </React.Fragment>\r\n                    ) : (\r\n                      <li>Бухгалтер еще не рассмотрел заявку</li>\r\n                    )}\r\n\r\n                  </React.Fragment>\r\n                )}\r\n\r\n\r\n\r\n\r\n\r\n\r\n                {/* {order.clientType === 'corporate' && order.paymentMethod === 'notCash' && !order.accountantDecided ? <li>Бухгалтер еще не рассмотрел заявку</li> : ''}\r\n\r\n                {order.clientType === 'corporate' && order.paymentMethod === 'notCash' && order.accountantDecided ?\r\n                  <React.Fragment>\r\n                    <li>Бухгалтер рассмотрел заявку</li>\r\n                    {order.accountantConfirmed ? (\r\n                      <React.Fragment>\r\n                        <li className=\"text-success\">Бухгалтер Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.accountantCheckedAt}</Moment>)</li>\r\n                        <li>Счет-Фактура: {order.invoice}</li>\r\n                        <li>Общая Сумма: {order.cost.toLocaleString()} UZS (каждому по {(order.cost / order.disinfectors.length).toLocaleString()} UZS)</li>\r\n                      </React.Fragment>\r\n                    ) : <li className=\"text-danger\">Бухгалтер Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.accountantCheckedAt}</Moment>)</li>}\r\n                  </React.Fragment>\r\n                  : ''}\r\n\r\n                {order.clientType === 'corporate' && order.paymentMethod === 'cash' && !order.adminDecided ? <li>Админ еще не рассмотрел заявку</li> : ''}\r\n\r\n                {order.clientType === 'corporate' && order.paymentMethod === 'cash' && order.adminDecided ? (\r\n                  <React.Fragment>\r\n                    <li>Админ рассмотрел заявку</li>\r\n                    {order.adminConfirmed ? (\r\n                      <li className=\"text-success\">Админ Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>\r\n                    ) : <li className=\"text-danger\">Админ Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>}\r\n                  </React.Fragment>\r\n                ) : ''}\r\n\r\n                {order.clientType === 'individual' && !order.adminDecided ? <li>Админ еще не рассмотрел заявку</li> : ''}\r\n                {order.clientType === 'individual' && order.adminDecided ? (\r\n                  <React.Fragment>\r\n                    <li>Админ рассмотрел заявку</li>\r\n                    {order.adminConfirmed ? (\r\n                      <li className=\"text-success\">Админ Подтвердил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>\r\n                    ) : <li className=\"text-danger\">Админ Отклонил (<Moment format=\"DD/MM/YYYY HH:mm\">{order.adminCheckedAt}</Moment>)</li>}\r\n                  </React.Fragment>\r\n                ) : ''} */}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                {order.clientType === 'corporate' ?\r\n                  <React.Fragment>\r\n                    {order.clientId ? (\r\n                      <li className=\"text-danger\">Корпоративный Клиент: {order.clientId.name}</li>\r\n                    ) : <li className=\"text-danger\">Корпоративный Клиент</li>}\r\n                    <li className=\"text-danger\">Имя клиента: {order.client}</li>\r\n                  </React.Fragment>\r\n                  : ''}\r\n\r\n                {order.clientType === 'individual' ?\r\n                  <li className=\"text-danger\">Физический Клиент: {order.client}</li>\r\n                  : ''}\r\n\r\n                <li className=\"text-danger\">Телефон клиента: {order.phone}</li>\r\n                <li className=\"text-danger\">Дата выполнения: <Moment format=\"DD/MM/YYYY\">{order.dateFrom}</Moment></li>\r\n                <li className=\"text-danger\">Время выполнения: С <Moment format=\"HH:mm\">{order.dateFrom}</Moment> ПО <Moment format=\"HH:mm\">{order.completedAt}</Moment></li>\r\n                <li className=\"text-danger\">Адрес: {order.address}</li>\r\n                <li className=\"text-danger\">Тип услуги: {order.typeOfService}</li>\r\n\r\n                <li>Комментарии Оператора: {order.comment ? order.comment : '--'}</li>\r\n                <li>Комментарии Дезинфектора: {order.disinfectorComment ? order.disinfectorComment : '--'}</li>\r\n                <li>Срок гарантии (в месяцах): {order.guarantee}</li>\r\n\r\n                <li>Расход Материалов (заказ выполнили {order.disinfectors.length} чел):</li>\r\n                <ul className=\"font-bold mb-0\">\r\n                  {renderOrderConsumption}\r\n                </ul>\r\n\r\n                {order.clientType === 'corporate' ? (\r\n                  <React.Fragment>\r\n                    {order.paymentMethod === 'cash' ? (\r\n                      <React.Fragment>\r\n                        <li>Тип Платежа: Наличный</li>\r\n                        <li>Общая Сумма: {order.cost.toLocaleString()} UZS (каждому по {(order.cost / order.disinfectors.length).toLocaleString()} UZS)</li>\r\n                      </React.Fragment>\r\n                    ) : (\r\n                      <React.Fragment>\r\n                        <li>Тип Платежа: Безналичный</li>\r\n                        <li>Номер Договора: {order.contractNumber || '--'}</li>\r\n                      </React.Fragment>\r\n                    )}\r\n                  </React.Fragment>\r\n                ) : ''}\r\n\r\n                {order.clientType === 'individual' ?\r\n                  <li>Общая Сумма: {order.cost.toLocaleString()} UZS (каждому по {(order.cost / order.disinfectors.length).toLocaleString()} UZS)</li>\r\n                  : ''}\r\n\r\n                {/* show клиент недоволен button */}\r\n                {/* {['admin', 'accountant', 'subadmin', 'operator'].includes(this.props.auth.user.occupation) &&\r\n                  order.completed && !order.failed && order.guarantee &&\r\n                  !guaranteeExpired(order.completedAt, order.guarantee) ? (\r\n                  <button\r\n                    className=\"btn btn-secondary mt-2 mr-2\"\r\n                    onClick={() => this.goToAddNewForm(order)}\r\n                  >Клиент Недоволен</button>\r\n                ) : ''} */}\r\n\r\n                <ClientNotSatisfiedButton\r\n                  order={order}\r\n                  shouldLoadOrder={true}\r\n                />\r\n\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-4 col-md-6\">\r\n            <div className=\"card order mt-2\">\r\n              <div className=\"card-body p-0\">\r\n                <ul className=\"font-bold mb-0 list-unstyled\">\r\n                  <li>Всего Некачественных Заказов: {failedCount}</li>\r\n                  <li>Всего Повторных Заказов: {povtorsCount}</li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-lg-4 col-md-6\">\r\n            <div className=\"card order mt-2\">\r\n              <div className=\"card-body p-0\">\r\n                <h4 className=\"text-center\">Общий Расход Материалов на этих заказах</h4>\r\n                <ul className=\"font-bold mb-0 list-unstyled\">\r\n                  {renderTotalConsumption}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {this.state.fails.length > 0 && (\r\n          <div className=\"row mt-2\">\r\n            <div className=\"col-12\">\r\n              <h2 className=\"text-center pl-3 pr-3\">Некачественные и Повторные Заказы</h2>\r\n            </div>\r\n            {renderFailedOrders}\r\n          </div>\r\n        )}\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  order: state.order,\r\n  admin: state.admin,\r\n  fail: state.fail,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps)(withRouter(ShowFails));","import React, { Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Spinner from '../common/Spinner';\r\nimport Moment from 'react-moment';\r\n\r\nimport { getFailedOrders } from '../../actions/failActions';\r\nimport monthsNames from '../common/monthNames';\r\nimport getMonthAndYearLabels from '../../utils/monthAndYearLabels';\r\nimport returnMonthAndYear from '../../utils/returnMonthAndYear';\r\n\r\nimport ShowFails from './ShowFails';\r\n\r\nimport { getWeekDays, getWeekRange } from '../common/weekFunc';\r\nimport DayPicker from 'react-day-picker';\r\nimport 'react-day-picker/lib/style.css';\r\n\r\n\r\nclass SeeFails extends Component {\r\n  state = {\r\n    month: '',\r\n    year: '',\r\n    day: '',\r\n\r\n    // to display month and year in heading h2\r\n    headingMonth: '',\r\n    headingYear: '',\r\n    headingDay: '',\r\n\r\n    hoverRange: undefined,\r\n    selectedDays: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    // previous method in global state\r\n    let method = this.props.fail.searchVars.method;\r\n\r\n    if (method) {\r\n      this.setState({\r\n        type: method\r\n      });\r\n    }\r\n\r\n    if (method === 'day') {\r\n      const dayString = this.props.fail.searchVars.day.split('-').reverse().join('-')\r\n      this.setState({\r\n        headingDay: dayString\r\n      });\r\n    }\r\n\r\n    if (method === 'week') {\r\n      this.setState({\r\n        selectedDays: this.props.fail.searchVars.days\r\n      });\r\n    }\r\n\r\n    if (method === 'month') {\r\n      this.setState({\r\n        headingMonth: this.props.fail.searchVars.month,\r\n        headingYear: this.props.fail.searchVars.year\r\n      });\r\n    }\r\n  }\r\n\r\n  onChange = (e) => this.setState({ [e.target.name]: e.target.value });\r\n\r\n  failedOrdersMonth = (e) => {\r\n    e.preventDefault();\r\n\r\n    const month = Number(this.state.month);\r\n    const year = Number(this.state.year);\r\n\r\n    const object = {\r\n      userOccupation: this.props.auth.user.occupation,\r\n      userId: this.props.auth.user.id,\r\n      type: 'month',\r\n      month,\r\n      year\r\n    };\r\n\r\n    // вытащить из БД некачественные и повторные заказы !!\r\n    this.props.getFailedOrders(object);\r\n\r\n    this.setState({\r\n      headingMonth: month,\r\n      headingYear: year\r\n    });\r\n  };\r\n\r\n  getSpecificMonthStats = (param) => {\r\n    const { month, year } = returnMonthAndYear(param);\r\n\r\n    const object = {\r\n      userOccupation: this.props.auth.user.occupation,\r\n      userId: this.props.auth.user.id,\r\n      type: 'month',\r\n      month,\r\n      year\r\n    };\r\n\r\n    // вытащить из БД некачественные и повторные заказы !!\r\n    this.props.getFailedOrders(object);\r\n\r\n    this.setState({\r\n      headingMonth: month,\r\n      headingYear: year\r\n    });\r\n  };\r\n\r\n  failedOrdersDay = (e) => {\r\n    e.preventDefault();\r\n\r\n    const object = {\r\n      userOccupation: this.props.auth.user.occupation,\r\n      userId: this.props.auth.user.id,\r\n      type: 'day',\r\n      day: this.state.day\r\n    };\r\n\r\n    // вытащить из БД некачественные и повторные заказы !!\r\n    this.props.getFailedOrders(object);\r\n\r\n    this.setState({\r\n      headingDay: this.state.day.split('-').reverse().join('-')\r\n    });\r\n  };\r\n\r\n\r\n  // weekly calendar\r\n  handleDayChange = date => {\r\n    const object = {\r\n      userOccupation: this.props.auth.user.occupation,\r\n      userId: this.props.auth.user.id,\r\n      type: 'week',\r\n      days: getWeekDays(getWeekRange(date).from)\r\n    };\r\n    this.props.getFailedOrders(object);\r\n\r\n    this.setState({\r\n      selectedDays: getWeekDays(getWeekRange(date).from)\r\n    });\r\n  };\r\n\r\n  handleDayEnter = date => {\r\n    this.setState({\r\n      hoverRange: getWeekRange(date)\r\n    });\r\n  };\r\n\r\n  handleDayLeave = () => {\r\n    this.setState({\r\n      hoverRange: undefined\r\n    });\r\n  };\r\n\r\n  handleWeekClick = (weekNumber, days, e) => {\r\n    const object = {\r\n      userOccupation: this.props.auth.user.occupation,\r\n      userId: this.props.auth.user.id,\r\n      type: 'week',\r\n      days: getWeekDays(getWeekRange(days[0]).from)\r\n    };\r\n    this.props.getFailedOrders(object);\r\n\r\n    this.setState({\r\n      selectedDays: getWeekDays(getWeekRange(days[0]).from)\r\n    });\r\n  };\r\n  // end of weekly calendar\r\n\r\n\r\n  render() {\r\n    const { monthLabels, yearLabels } = getMonthAndYearLabels();\r\n\r\n    const yearsOptions = yearLabels.map((year, index) =>\r\n      <option value={year.value} key={index}>{year.label}</option>\r\n    );\r\n    const monthOptions = monthLabels.map((month, index) =>\r\n      <option value={month.value} key={index}>{month.label}</option>\r\n    );\r\n\r\n\r\n    // weekly calender\r\n    const { hoverRange, selectedDays } = this.state;\r\n\r\n    const daysAreSelected = selectedDays.length > 0;\r\n\r\n    const modifiers = {\r\n      hoverRange,\r\n      selectedRange: daysAreSelected && {\r\n        from: selectedDays[0],\r\n        to: selectedDays[6],\r\n      },\r\n      hoverRangeStart: hoverRange && hoverRange.from,\r\n      hoverRangeEnd: hoverRange && hoverRange.to,\r\n      selectedRangeStart: daysAreSelected && selectedDays[0],\r\n      selectedRangeEnd: daysAreSelected && selectedDays[6]\r\n    };\r\n    // end of calendar\r\n\r\n\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <h2 className=\"text-center\">Некачественные и Повторные заказы</h2>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-lg-4 col-md-6 mt-3\">\r\n            <form onSubmit={this.failedOrdersMonth} className=\"form-bg p-2\">\r\n              <h4 className=\"text-center\">Некачественные и Повторные заказы по месяцам</h4>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"year\"><strong>Выберите Год:</strong></label>\r\n                <select name=\"year\" className=\"form-control\" onChange={this.onChange} required>\r\n                  {yearsOptions}\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"month\"><strong>Выберите Месяц:</strong></label>\r\n                <select name=\"month\" className=\"form-control\" onChange={this.onChange} required>\r\n                  {monthOptions}\r\n                </select>\r\n              </div>\r\n              <button type=\"submit\" className=\"btn btn-success mr-1 mt-1\"><i className=\"fas fa-search\"></i> Искать</button>\r\n\r\n              <button type=\"button\" className=\"btn btn-danger mr-1 mt-1\" onClick={() => this.getSpecificMonthStats('current')}>Этот месяц</button>\r\n\r\n              <button type=\"button\" className=\"btn btn-primary mr-1 mt-1\" onClick={() => this.getSpecificMonthStats('previous')}>Прошлый месяц</button>\r\n            </form>\r\n          </div>\r\n\r\n          <div className=\"col-lg-4 col-md-6 mt-3\">\r\n            <form onSubmit={this.failedOrdersDay} className=\"form-bg p-2\">\r\n              <h4 className=\"text-center\">Некачественные и Повторные заказы по дням</h4>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"day\"><strong>Выберите День:</strong></label>\r\n                <input type=\"date\" name=\"day\" className=\"form-control\" onChange={this.onChange} required />\r\n              </div>\r\n              <button type=\"submit\" className=\"btn btn-primary\"><i className=\"fas fa-search\"></i> Искать</button>\r\n            </form>\r\n          </div>\r\n\r\n\r\n          <div className=\"col-lg-4 col-md-6 weekly-stats mt-3\">\r\n            <div className=\"SelectedWeekExample form-bg font-weight-bold\">\r\n              <h4 className=\"text-center\">Некачественные и Повторные заказы по неделям</h4>\r\n              <DayPicker\r\n                selectedDays={selectedDays}\r\n                showWeekNumbers\r\n                showOutsideDays\r\n                modifiers={modifiers}\r\n                firstDayOfWeek={1}\r\n                onDayClick={this.handleDayChange}\r\n                onDayMouseEnter={this.handleDayEnter}\r\n                onDayMouseLeave={this.handleDayLeave}\r\n                onWeekClick={this.handleWeekClick}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row mt-2\">\r\n          <div className=\"col-12\">\r\n            {this.props.fail.searchVars.method === 'week' ?\r\n              <h2 className=\"text-center pl-3 pr-3\">Некачественные и Повторные заказы за <Moment format=\"DD/MM/YYYY\">{this.state.selectedDays[0]}</Moment> - <Moment format=\"DD/MM/YYYY\">{this.state.selectedDays[6]}</Moment></h2> : ''}\r\n\r\n            {this.props.fail.searchVars.method === 'month' ?\r\n              <h2 className=\"text-center pl-3 pr-3\">Некачественныe и Повторные заказы за {monthsNames[this.state.headingMonth]}, {this.state.headingYear}</h2> : ''}\r\n\r\n            {this.props.fail.searchVars.method === 'day' ?\r\n              <h2 className=\"text-center pl-3 pr-3\">Некачественные и Повторные заказы за {this.state.headingDay}</h2> : ''}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            {this.props.fail.loading ? <Spinner /> : <ShowFails />}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  order: state.order,\r\n  admin: state.admin,\r\n  fail: state.fail,\r\n  errors: state.errors\r\n});\r\n\r\nexport default connect(mapStateToProps, { getFailedOrders })(withRouter(SeeFails));","import React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport jwt_decode from 'jwt-decode';\nimport setAuthToken from './utils/setAuthToken';\nimport { setCurrentUser, logoutUser } from './actions/authActions';\nimport { clearCurrentProfile } from './actions/profileActions';\n\nimport { Provider } from 'react-redux';\nimport store from './store';\n\n// import routes\nimport StartPage from './components/common/StartPage';\nimport PrivateRoute from './components/common/PrivateRoute';\nimport AdminRoute from './components/common/AdminRoute';\nimport SubadminRoute from './components/common/SubadminRoute'\nimport OperatorRoute from './components/common/OperatorRoute';\nimport AccountantRoute from './components/common/AccountantRoute';\nimport DisinfectorRoute from './components/common/DisinfectorRoute';\n\n// Components\nimport Navbar from './components/layout/Navbar';\nimport Footer from './components/layout/Footer';\n\nimport Admin from './components/admin/Admin';\nimport AdminStats from './components/admin/AdminStats';\nimport AdvStats from './components/admin/AdvStats';\nimport DisStats from './components/admin/DisStats';\nimport OperStats from './components/admin/OperStats';\nimport AdminQueries from './components/admin/AdminQueries';\nimport AdminMaterials from './components/admin/AdminMaterials';\nimport EditOrder from './components/common/EditOrder';\nimport MatComing from './components/admin/MatComing';\nimport MatComHistory from './components/admin/MatComHistory';\nimport MaterialHistory from './components/admin/MaterialHistory';\nimport AddClient from './components/admin/AddClient';\nimport EditClient from './components/common/EditClient';\nimport Users from './components/common/Users';\nimport EditUser from './components/common/EditUser';\nimport ClientList from './components/admin/ClientList';\nimport ClientId from './components/admin/ClientId';\nimport SetDisinfectorMaterials from './components/common/SetDisinfectorMaterials';\nimport SetCurrentMaterials from './components/admin/SetCurrentMaterials';\n\nimport NewMaterial from './components/common/NewMaterial';\n\nimport Subadmin from './components/subadmin/Subadmin';\nimport SubadmOrders from './components/subadmin/SubadmOrders';\n// import SubOrderForm from './components/subadmin/SubOrderForm';\nimport MaterialDistrib from './components/subadmin/MaterialDistrib';\nimport SubMatComHist from './components/subadmin/SubMatComHist';\nimport MatDistribHistory from './components/subadmin/MatDistribHistory';\n\nimport Disinfector from './components/disinfector/Disinfector';\nimport DisinfQueries from './components/disinfector/DisinfQueries';\nimport DisinfStats from './components/disinfector/DisinfStats';\nimport OrderComplete from './components/disinfector/OrderComplete';\nimport DisMaterials from './components/disinfector/DisMaterials';\nimport DisMatCom from './components/disinfector/DisMatCom';\nimport DisMatDistrib from './components/disinfector/DisMatDistrib';\nimport ReturnedQueries from \"./components/disinfector/ReturnedQueries\";\n\nimport Operator from './components/operator/Operator';\nimport CreateOrder from './components/operator/CreateOrder';\nimport OrderDetails from './components/operator/OrderDetails';\nimport OrderQueries from './components/operator/OrderQueries';\nimport ConfirmOrder from './components/operator/ConfirmOrder';\nimport RepeatOrders from './components/operator/RepeatOrders';\nimport CreateRepeatOrder from './components/operator/CreateRepeatOrder';\nimport OperatorStats from './components/operator/OperatorStats';\n\nimport Accountant from './components/accountant/Accountant';\nimport Queries from './components/accountant/Queries';\nimport ConfirmQueryForm from './components/accountant/ConfirmQueryForm';\nimport AccStats from './components/accountant/AccStats';\n\nimport OrderFullDetails from './components/common/OrderFullDetails';\nimport NotCompOrders from './components/operator/NotCompOrders';\nimport SearchOrders from './components/operator/SearchOrders';\nimport Chat from './components/chat/Chat';\nimport ChatRoom from './components/chat/ChatRoom';\nimport Anons from './components/chat/Anons';\n\nimport Register from './components/auth/Register';\nimport Login from './components/auth/Login';\n\n// Fail Order Components\nimport FailAddNew from './components/fail/FailAddNew';\nimport SeeFails from './components/fail/SeeFails';\n\n// CSS\nimport './App.css';\nimport './darkTheme.css';\n\n\n// Check for token\nif (localStorage.jwtToken) {\n  // Set auth token header auth\n  setAuthToken(localStorage.jwtToken);\n  // Decode token and get user info and exp\n  const decoded = jwt_decode(localStorage.jwtToken);\n  // Set user and isAuthenticated\n  store.dispatch(setCurrentUser(decoded));\n\n  // Check for expired token\n  const currentTime = Date.now() / 1000;\n  if (decoded.exp < currentTime) {\n    // Logout user\n    store.dispatch(logoutUser());\n    // Clear current Profile\n    store.dispatch(clearCurrentProfile());\n    // Redirect to login\n    window.location.href = '/login';\n  }\n}\n\n\nclass App extends Component {\n  state = {\n    theme: localStorage.getItem('proTeamTheme') || 'light'\n  };\n\n  componentDidMount() {\n    store.subscribe(() => {\n      this.setState({\n        theme: store.getState().options.theme\n      });\n    });\n  };\n\n  render() {\n    if (this.state.theme === 'dark') {\n      document.body.style.background = '#212d3b';\n    } else {\n      document.body.style.background = 'white';\n    }\n\n    return (\n      <Provider store={store}>\n        <Router>\n          <div className={`App ${this.state.theme}`}>\n            {/* <div className=\"App\"> */}\n            <Navbar />\n            <Route exact path=\"/login\" component={Login} />\n\n            <Switch>\n              <StartPage exact path=\"/\" />\n            </Switch>\n\n            <Switch>\n              <PrivateRoute exact path=\"/anons\" component={Anons} />\n            </Switch>\n\n            <Switch>\n              <PrivateRoute exact path=\"/not-completed-orders\" component={NotCompOrders} />\n            </Switch>\n\n            <Switch>\n              <PrivateRoute exact path=\"/order-full-details/:id\" component={OrderFullDetails} />\n            </Switch>\n\n\n            {/* Admin Routes */}\n            <Switch>\n              <AdminRoute exact path=\"/admin\" component={Admin} />\n            </Switch>\n            <Switch>\n              <AdminRoute exact path=\"/register\" component={Register} />\n            </Switch>\n            <Switch>\n              <PrivateRoute exact path=\"/admin/stats\" component={AdminStats} />\n            </Switch>\n            <Switch>\n              <PrivateRoute exact path=\"/admin/adv-stats\" component={AdvStats} />\n            </Switch>\n            <Switch>\n              <PrivateRoute exact path=\"/admin/disinf-stats\" component={DisStats} />\n            </Switch>\n            <Switch>\n              <PrivateRoute exact path=\"/admin/operator-stats\" component={OperStats} />\n            </Switch>\n            <Switch>\n              <AdminRoute exact path=\"/admin/order-queries\" component={AdminQueries} />\n            </Switch>\n            <Switch>\n              <AdminRoute exact path=\"/admin/materials\" component={AdminMaterials} />\n            </Switch>\n            <Switch>\n              <AdminRoute exact path=\"/admin/material-coming\" component={MatComing} />\n            </Switch>\n            <Switch>\n              <AdminRoute exact path=\"/admin/material-coming-history\" component={MatComHistory} />\n            </Switch>\n            <Switch>\n              <AdminRoute exact path=\"/admin/material-history\" component={MaterialHistory} />\n            </Switch>\n            <Switch>\n              <PrivateRoute exact path=\"/edit-order/:orderId\" component={EditOrder} />\n            </Switch>\n            <Switch>\n              <AdminRoute exact path=\"/admin/users\" component={Users} />\n            </Switch>\n            <Switch>\n              <AdminRoute exact path=\"/admin/edit-user/:userId\" component={EditUser} />\n            </Switch>\n\n            <Switch>\n              {/* <AdminRoute exact path=\"/admin/add-client\" component={AddClient} /> */}\n              <PrivateRoute exact path=\"/add-client\" component={AddClient} />\n            </Switch>\n\n            <Switch>\n              <PrivateRoute exact path=\"/edit-client/:id\" component={EditClient} />\n            </Switch>\n\n            <Switch>\n              <PrivateRoute exact path=\"/clients\" component={ClientList} />\n            </Switch>\n            <Switch>\n              <PrivateRoute exact path=\"/client/:clientId\" component={ClientId} />\n            </Switch>\n\n\n            <Switch>\n              <AdminRoute exact path=\"/admin/new/mat\" component={NewMaterial} />\n            </Switch>\n\n            <Switch>\n              <AdminRoute exact path=\"/admin/set-disinfector-materials/:id\" component={SetDisinfectorMaterials} />\n            </Switch>\n            <Switch>\n              <AdminRoute exact path=\"/admin/set-current-materials\" component={SetCurrentMaterials} />\n            </Switch>\n\n\n            {/* Subadmin Routes */}\n            <Switch>\n              <SubadminRoute exact path=\"/subadmin\" component={Subadmin} />\n            </Switch>\n            <Switch>\n              <SubadminRoute exact path=\"/subadmin/orders\" component={SubadmOrders} />\n            </Switch>\n            <Switch>\n              <SubadminRoute exact path=\"/subadmin/queries\" component={DisinfQueries} />\n            </Switch>\n            <Switch>\n              <SubadminRoute exact path=\"/subadmin/stats\" component={DisinfStats} />\n            </Switch>\n            {/* <Switch>\n              <SubadminRoute exact path=\"/subadmin/order-complete-form/:id\" component={SubOrderForm} />\n            </Switch> */}\n            <Switch>\n              <SubadminRoute exact path=\"/subadmin/materials\" component={MaterialDistrib} />\n            </Switch>\n            <Switch>\n              <SubadminRoute exact path=\"/subadmin/material-coming-history\" component={SubMatComHist} />\n            </Switch>\n            <Switch>\n              <SubadminRoute exact path=\"/subadmin/material-distrib-history\" component={MatDistribHistory} />\n            </Switch>\n\n\n            {/* DisinfectorRoutes */}\n            <Switch>\n              <DisinfectorRoute exact path=\"/disinfector\" component={Disinfector} />\n            </Switch>\n            <Switch>\n              {/* <DisinfectorRoute exact path=\"/order-complete-form/:id\" component={OrderComplete} /> */}\n              <PrivateRoute exact path=\"/order-complete-form/:id\" component={OrderComplete} />\n            </Switch>\n            <Switch>\n              <DisinfectorRoute exact path=\"/disinfector/queries\" component={DisinfQueries} />\n            </Switch>\n            <Switch>\n              <DisinfectorRoute exact path=\"/disinfector/stats\" component={DisinfStats} />\n            </Switch>\n            <Switch>\n              <DisinfectorRoute exact path=\"/disinfector/distrib-materials\" component={DisMaterials} />\n            </Switch>\n            <Switch>\n              <DisinfectorRoute exact path=\"/disinfector/mat-com-history\" component={DisMatCom} />\n            </Switch>\n            <Switch>\n              <DisinfectorRoute exact path=\"/disinfector/mat-distrib-history\" component={DisMatDistrib} />\n            </Switch>\n            <Switch>\n              <PrivateRoute exact path=\"/returned-queries\" component={ReturnedQueries} />\n            </Switch>\n\n\n            {/* OperatorRoutes */}\n            <Switch>\n              <OperatorRoute exact path=\"/operator\" component={Operator} />\n            </Switch>\n            <Switch>\n              <OperatorRoute exact path=\"/create-order\" component={CreateOrder} />\n            </Switch>\n            <Switch>\n              <PrivateRoute exact path=\"/order-details/:id\" component={OrderDetails} />\n            </Switch>\n            <Switch>\n              <OperatorRoute exact path=\"/operator/order-queries\" component={OrderQueries} />\n            </Switch>\n            <Switch>\n              <OperatorRoute exact path=\"/order-confirm/:id\" component={ConfirmOrder} />\n            </Switch>\n            <Switch>\n              <OperatorRoute exact path=\"/operator/repeat-orders\" component={RepeatOrders} />\n            </Switch>\n            <Switch>\n              <OperatorRoute exact path=\"/create-repeat-order-form/:orderId\" component={CreateRepeatOrder} />\n            </Switch>\n            <Switch>\n              <PrivateRoute exact path=\"/search-orders\" component={SearchOrders} />\n            </Switch>\n            <Switch>\n              <OperatorRoute exact path=\"/operator/stats\" component={OperatorStats} />\n            </Switch>\n\n\n            {/* Accountant Routes */}\n            <Switch>\n              <AccountantRoute exact path=\"/accountant\" component={Accountant} />\n            </Switch>\n            <Switch>\n              <AccountantRoute exact path=\"/accountant/queries\" component={Queries} />\n            </Switch>\n            <Switch>\n              <AccountantRoute exact path=\"/accountant/order-confirm/:id\" component={ConfirmQueryForm} />\n            </Switch>\n            <Switch>\n              <AccountantRoute exact path=\"/accountant/stats\" component={AccStats} />\n            </Switch>\n\n\n            {/* Fail Order Routes */}\n            <Switch>\n              <PrivateRoute exact path=\"/fail/add-new/:id\" component={FailAddNew} />\n            </Switch>\n            <Switch>\n              <PrivateRoute exact path=\"/fail/see\" component={SeeFails} />\n            </Switch>\n\n\n            {/* Chat Routes */}\n            <Switch>\n              <PrivateRoute exact path=\"/chat\" component={Chat} />\n            </Switch>\n            <Switch>\n              <PrivateRoute exact path=\"/chat/:chatId\" component={ChatRoom} />\n            </Switch>\n\n            {/* Footer */}\n            <Footer />\n          </div>\n        </Router>\n      </Provider>\n    );\n  }\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.1/8 is considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n  )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();","const orderTypes = [\r\n  // { label: 'DF', value: 'DF' },\r\n  // { label: 'DZ', value: 'DZ' },\r\n  // { label: 'KL', value: 'KL' },\r\n  // { label: 'TR', value: 'TR' },\r\n  // { label: 'GR', value: 'GR' },\r\n  // { label: 'MX', value: 'MX' },\r\n  // { label: 'KOMP', value: 'KOMP' },\r\n  // { label: 'Chumoli', value: 'Chumoli' },\r\n  // { label: 'Бурга', value: 'Бурга' },\r\n  // { label: 'Калтакесак', value: 'Калтакесак' },\r\n  // { label: 'Клещи', value: 'Клещи' },\r\n\r\n  // { label: 'Консультация', value: 'Консультация' },\r\n  // { label: 'Профилактика', value: 'Профилактика' },\r\n  // { label: 'Осмотр', value: 'Осмотр' },\r\n\r\n\r\n\r\n  // 27.05.2021\r\n  { label: 'Дезинсекция - комплекс насекомых', value: 'Дезинсекция - комплекс насекомых' },\r\n  { label: 'Дезинфекция - от инфекций', value: 'Дезинфекция - от инфекций' },\r\n  { label: 'Клопа', value: 'Клопа' },\r\n  { label: 'Таракан', value: 'Таракан' },\r\n  { label: 'Сичкон', value: 'Сичкон' },\r\n  { label: 'Каламуш', value: 'Каламуш' },\r\n  { label: 'Пашша', value: 'Пашша' },\r\n  { label: 'Чивин', value: 'Чивин' },\r\n  { label: 'Чумоли', value: 'Чумоли' },\r\n  { label: 'Бурга', value: 'Бурга' },\r\n  { label: 'Калтакесак', value: 'Калтакесак' },\r\n  { label: 'Скорпион', value: 'Скорпион' },\r\n  { label: 'Клещи', value: 'Клещи' },\r\n  { label: 'Илон', value: 'Илон' },\r\n  { label: 'Шиллик курт', value: 'Шиллик курт' },\r\n  { label: 'Термит', value: 'Термит' },\r\n  { label: 'Ок пашша', value: 'Ок пашша' },\r\n  { label: 'Курт', value: 'Курт' },\r\n  { label: 'Плесень', value: 'Плесень' },\r\n  { label: 'Профилактика', value: 'Профилактика' },\r\n  { label: 'Дезодорация - от запаха', value: 'Дезодорация - от запаха' },\r\n  { label: 'Фумигация - газация', value: 'Фумигация - газация' },\r\n  { label: 'Осмотр и консультации', value: 'Осмотр и консультации' },\r\n];\r\n\r\nmodule.exports = orderTypes;","const advertisements = [\r\n  { label: 'Google', value: 'Google' },\r\n  { label: 'Yandex', value: 'Yandex' },\r\n  { label: 'Facebook', value: 'Facebook' },\r\n  { label: 'Instagram', value: 'Instagram' },\r\n  { label: 'Olx.uz', value: 'Olx.uz' },\r\n  { label: 'Баннеры', value: 'Баннеры' },\r\n  { label: 'Машина баннер', value: 'Машина баннер' },\r\n  { label: 'Рекомендации (соседи, друзья,  родственники, партнеры)', value: 'Рекомендации' },\r\n  { label: 'SMS', value: 'SMS' },\r\n  { label: 'Флаеры', value: 'Флаеры' }\r\n];\r\n\r\nmodule.exports = advertisements;"],"sourceRoot":""}